
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ec3ebef5-ae25-5cf5-a702-592a07d4b8d7")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3814652,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M3.55088 2.49023L3.57718 2.48334L3.71501 2.44727C4.64252 2.20472 5.53322 1.9718 6.21718 1.58176C6.88688 1.19985 7.24999 0.734016 7.24999 0H8.74999C8.74999 0.467199 8.89462 0.796772 9.12197 1.06132C9.36429 1.34329 9.73044 1.58432 10.2142 1.79681C10.6962 2.00853 11.2465 2.17155 11.8221 2.32558C11.9557 2.36133 12.0926 2.39704 12.2305 2.43301L12.2307 2.43305C12.6631 2.54586 13.1054 2.66124 13.4872 2.78849L14 2.95943V3.5V9.52717C14 10.4875 13.7378 11.409 13.2657 12.205L15.2803 14.2197L15.8107 14.75L14.75 15.8107L14.2197 15.2803L0.719661 1.78033L0.189331 1.25L1.24999 0.18934L1.78032 0.71967L3.55088 2.49023ZM12.1563 11.0956C12.379 10.6121 12.5 10.0787 12.5 9.52717V4.057C12.3094 4.00405 12.1074 3.9513 11.8932 3.89539C11.746 3.85699 11.5932 3.81709 11.4344 3.7746C10.8476 3.61758 10.204 3.43065 9.611 3.17017C9.02648 2.91343 8.44302 2.56509 7.99961 2.0566C7.70515 2.39333 7.34541 2.66513 6.96024 2.88478C6.29476 3.26428 5.5048 3.51732 4.77804 3.71738L12.1563 11.0956ZM3.49999 7.25V6.5H1.99999V7.25V9.52717C1.99999 11.4801 3.08399 13.2716 4.81395 14.1778L7.65199 15.6644L7.99999 15.8467L8.348 15.6644L9.50872 15.0564L10.1731 14.7084L9.47708 13.3796L8.81271 13.7276L7.99999 14.1533L5.50996 12.849C4.27428 12.2018 3.49999 10.9221 3.49999 9.52717V7.25Z" fill="currentColor"/>');e.s(["ShieldOff",0,t])},681099,e=>{"use strict";var t=e.i(3911483),r=e.i(8042625),a=e.i(277234),i=e.i(5338940);function l(e){let{isReady:l,team:n}=(0,i.useTeam)();return(0,t.default)(()=>e&&l?`/api/v1/microfrontends/groups/${e}/projects${(0,r.encode)({teamId:n?.id})}`:null,e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),{fallbackData:{projects:[]}})}e.s(["useMicrofrontendsGroupProjects",()=>l])},9148191,e=>{"use strict";var t=e.i(6696646),r=e.i(9100551),a=e.i(5338940),i=e.i(6161994),l=e.i(681099),n=e.i(6060673);function o(){let e=(0,r.useParams)(),{data:o}=(0,n.useProject)(e?.project),s=o?.microfrontends?.groupIds[0],{isReady:u,team:c}=(0,a.useTeam)(),{data:d,isLoading:f}=(0,i.useMicrofrontendsGroups)(),{data:m,isLoading:g}=(0,l.useMicrofrontendsGroupProjects)(s),h=m?.projects.find(e=>e.microfrontends?.isDefaultApp),b=o?.microfrontends!==void 0&&!o.microfrontends.isDefaultApp;return(0,t.useMemo)(()=>({defaultProjectName:h?.name,defaultProjectBaseUrl:h?`/${c?.slug}/${h.name}`:null,groupName:d?.groups.find(e=>e.group.id===s)?.group.name??h?.name,isChildMicrofrontend:b,isLoading:!u||!c||g||f,isMicrofrontend:(o?.microfrontends?.groupIds?.length??0)>0}),[h,s,b,f,g,u,o?.microfrontends?.groupIds?.length,c,d])}e.s(["useMicrofrontendsProjectInfo",()=>o])},3219719,(e,t,r)=>{var a=e.r(263217),i=e.r(660575),l=e.r(5729582),n=e.r(7791606),o=e.r(2728359);t.exports=function(e,t,r,s){if(!n(e))return e;t=i(t,e);for(var u=-1,c=t.length,d=c-1,f=e;null!=f&&++u<c;){var m=o(t[u]),g=r;if("__proto__"===m||"constructor"===m||"prototype"===m)break;if(u!=d){var h=f[m];void 0===(g=s?s(h,m,f):void 0)&&(g=n(h)?h:l(t[u+1])?[]:{})}a(f,m,g),f=f[m]}return e}},5120311,(e,t,r)=>{var a=e.r(716543);t.exports=function(e){return a(e,5)}},7829532,(e,t,r)=>{var a=e.r(3219719);t.exports=function(e,t,r){return null==e?e:a(e,t,r)}},594750,421794,e=>{"use strict";var t=e.i(6696646),r=e.i(455575),a=e.i(3911483),i=e.i(6636464),l=e.i(5120311),n=e.i(7829532),o=e.i(2793676),s=e.i(9100551),u=e.i(8042625),c=e.i(277234),d=e.i(4244280),f=e.i(5338940);let m={gen:{name:"Generic Attack",description:"Provide broad protection from various undefined or novel attack vectors."},java:{name:"Java Attack",description:"Mitigate risks of exploitation targeting Java-based applications or components."},lfi:{name:"Local File Inclusion Attack",description:"Prevent unauthorized access to local files through web applications."},ma:{name:"Multipart Attack",description:"Block attempts to bypass security controls using multipart/form-data encoding."},php:{name:"PHP Attack",description:"Safeguard against vulnerability exploits in PHP-based applications."},rce:{name:"Remote Execution Attack",description:"Prevent unauthorized execution of remote scripts or commands."},rfi:{name:"Remote File Inclusion Attack",description:"Prohibit unauthorized upload or execution of remote files."},sd:{name:"Scanner Detection",description:"Detect and prevent reconnaissance activities from network scanning tools."},sf:{name:"Session Fixation Attack",description:"Prevent unauthorized takeover of user sessions by enforcing unique session IDs."},sqli:{name:"SQL Injection Attack",description:"Prohibit unauthorized use of SQL commands to manipulate databases."},xss:{name:"XSS Attack",description:"Prevent injection of malicious scripts into trusted webpages."}};function g(e){return m[e]}function h(e){return e.endsWith("update")?"modified":e.endsWith("insert")?"created":e.endsWith("remove")?"deleted":e.endsWith("priority")?"reordered":"firewallEnabled"===e?"changed":""}function b(e,t,r){let a=r?"You":e.username,{id:i,action:l}=e;return"crs.update"===e.action?{id:i||"",principal:a,rule:i?t.owasp.ruleGroups?.[i].name??i:"",actionTaken:h(l)}:"ip.insert"===e.action||"ip.remove"===e.action?{id:i||"",principal:a,rule:(e.action,"IP Blocking Rule"),actionTaken:h(l)}:"rules.insert"===e.action||"rules.update"===e.action?{id:i||"",principal:a,rule:e.value.name,actionTaken:h(l)}:"rules.remove"===e.action?{id:i||"",principal:a,rule:"a Custom Rule",actionTaken:h(l)}:"rules.priority"===e.action?{id:i||"",principal:a,rule:"Rule",actionTaken:h(l)}:"managedRules.update"===e.action?{id:i||"",principal:a,rule:(()=>{if(!i)return"";let e=x(t,i);return e?e.name:i})(),actionTaken:e.value.active?"enabled":"disabled"}:"botId.toggle"===e.action?{id:i||"",principal:a,rule:"BotID Deep Analysis",actionTaken:e.value?"enabled":"disabled"}:{principal:a,id:i||"",rule:"Firewall",actionTaken:h(l)}}function p(e){return"bot_filter"===e||"bot_protection"===e}function v(e){return"managed_bot_filter"===e||"managed_bot_protection"===e}function y(e){let t=e?.managedRules;return t?.bot_filter??t?.bot_protection}function w(e){return e.bot_filter??e.bot_protection}function x(e,t){return"bot_filter"===t?e.bot_filter??e.bot_protection:"bot_protection"===t?e.bot_protection??e.bot_filter:e[t]}function j(e){if(!e)return;let t=e.draft||e.active||null;if(!t)return t;let r=new Map,a=Object.keys(t.crs).map(e=>{let{name:a,description:i}=m[e],l={id:e,action:t.crs[e].action,active:t.crs[e].active,name:a,description:i};return r.set(l.id,{...l,type:"owas"}),l}).sort((e,t)=>e.name.localeCompare(t.name)),i=t.rules.map(e=>{let t={id:e.id,description:e.description,name:e.name,action:e.action?.mitigate?.action==="rate_limit"?e.action.mitigate.rateLimit?.action||"log":e.action?.mitigate?.action||"log",active:e.active,value:e,isRateLimit:e.action?.mitigate?.action==="rate_limit"};return r.set(t.id,{...t,type:"custom_rule"}),t});t.ips.forEach(e=>{r.set(e.id,{...e,type:"ip_block"})});let l=t.changes.sort((e,t)=>t.createdAt.localeCompare(e.createdAt));return{currentConfig:t,crsRules:a,rules:i,changes:l,ruleMap:r}}async function P(e){let[t]=e;return(await (0,c.fetchAPI)(t,{method:"GET",throwOnHTTPError:!0,returnStatus:!0})).body}function k(e){let{projectId:l,ruleId:n}=e,{team:o}=(0,f.useTeam)(),c=(0,s.useRouter)(),m=(0,u.encode)({teamId:o?.id,projectId:l}),{data:g,mutate:h,isLoading:b}=(0,a.default)(o&&l?[`${d.API_FIREWALL}/firewall/config${m}`,m]:null,async e=>P(e)),p=(0,r.useToasts)(),v=(0,t.useMemo)(()=>j(g?{...g,draft:null}:void 0),[g]),y=(0,t.useMemo)(()=>j(g),[g]),{trigger:w,isMutating:x}=(0,i.default)(`${d.API_FIREWALL}/firewall/config/draft${m}`,A),{trigger:k,isMutating:C}=(0,i.default)([`${d.API_FIREWALL}/firewall/config/`,`/activate${m}`],I),{trigger:R,isMutating:_}=(0,i.default)(`${d.API_FIREWALL}/firewall/config/draft${m}`,L),T=(0,t.useCallback)(async e=>{try{let t=await A(`${d.API_FIREWALL}/firewall/config/draft${m}`,{arg:e});h({...g||{active:null,versions:[t]},draft:t},{revalidate:!1}).then(()=>null,()=>null)}catch(e){throw p.error(e.message||"Failed to update Firewall. Please try again."),e}},[m,p,g,h]),B=(0,t.useCallback)(async function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0;try{let a=await w(e);await h({...g||{active:null,versions:[a]},draft:a},{revalidate:!1}),t&&(r?.(),h().then(()=>null,()=>null))}catch(e){throw p.error(e.message||"Failed to update Firewall. Please try again."),e}},[h,w,p,g]),S=(0,t.useCallback)(async()=>{try{await R(),await h()}catch(e){throw p.error(e.message||"Failed to discard Firewall changes. Please try again."),e}},[h,R,p]),F=(0,t.useCallback)(async(e,t)=>{try{await k(t);let r=e?.toastSuccessMessage??"Your Firewall changes have been applied successfully";p.success(r),c.refresh(),await h().catch(()=>null)}catch(t){throw p.error(e?.toastErrorMessage||t.message||"Failed to publish Firewall changes. Please try again."),t}},[k,h,p,c]),M=(0,t.useCallback)(()=>{h().then(()=>null,()=>null)},[h]),N=(0,t.useMemo)(()=>{if(!n||!y)return;let e=y.rules.find(e=>e.id===n);if(e)return e.value},[n,y]),$=(0,t.useMemo)(()=>!y||!y.rules.some(e=>e.isRateLimit),[y]);return{activeConfig:v,config:y,showRateLimitModal:$,selectedRule:N,updateConfig:B,reorderItem:T,discardChanges:S,publishChanges:F,isPublishing:C,isDiscarding:_,isUpdatingConfig:x,isLoadingConfig:b&&!g,refresh:M}}async function A(e,t){let{arg:r}=t;return(await (0,c.fetchAPI)(e,{method:"PATCH",throwOnHTTPError:!0,returnStatus:!0,body:JSON.stringify(r)})).body}async function I(e,t){let[r,a]=e,{arg:i="draft"}=t;return await (0,c.fetchAPI)(`${r}${i}${a}`,{method:"POST",throwOnHTTPError:!0,returnStatus:!0,body:JSON.stringify({})})}async function L(e){return await (0,c.fetchAPI)(e,{method:"DELETE",throwOnHTTPError:!0,returnStatus:!0})}function C(e,t){if(Object.hasOwn(e,"value")){let r=(0,l.default)(e);return r=(0,o.default)(r,"value.id"),"action"===t.type?r.isRateLimit?(0,n.default)(r,"value.action.mitigate.rateLimit.action",t.value):(0,n.default)(r,"value.action.mitigate.action",t.value):(0,n.default)(r,"value.active",t.value),{id:e.id,action:"rules.update",value:r.value}}let r="action"===t.type?{action:t.value,active:e.active}:{action:"disable"===e.action?"log":e.action,active:t.value};return{id:e.id,action:"crs.update",value:r}}e.s(["RULES_TO_NAMES",0,m,"botProtectionFromConfig",()=>y,"botProtectionFromRulesets",()=>w,"createActionConfig",()=>b,"crsRuleToConfig",()=>g,"getRulesetFromRulesets",()=>x,"isBotProtectionData",()=>v,"isBotProtectionManagedRuleset",()=>p],421794),e.s(["formatPatchRule",()=>C,"useFirewallConfig",()=>k],594750)},3774835,e=>{"use strict";var t=e.i(277234),r=e.i(3911483);function a(e){let{projectIdOrName:a,teamIdOrSlug:i}=e;return(0,r.default)(["/v1/security/firewall/managed-rules",new URLSearchParams({projectId:a,teamId:i}).toString()],e=>{let[r,a]=e;return(0,t.default)(`${r}?${a}`)})}e.s(["useManagedRulesets",()=>a])},8114130,e=>{"use strict";function t(e){let t=e?.security?.firewallBypassIps;if(!t)return{enabled:!1};let r={enabled:!1};for(let e of t){let t=e.split("#");if("0.0.0.0/0"===t[0]||"::/0"===t[0]&&t.length>=2){let e=Number.parseInt(t[1],10);!Number.isNaN(e)&&e>Date.now()/1e3&&(r={enabled:!0,ttl:e})}}return r}e.s(["globalBypassStatus",()=>t])},8122440,e=>{"use strict";var t=e.i(4244280),r=e.i(8042625),a=e.i(3911483),i=e.i(277234);function l(e){let{projectIdOrName:l,teamIdOrSlug:n}=e;return(0,a.default)(`${t.API_FIREWALL}/proxy/status${(0,r.encode)({projectId:l,teamId:n})}`,i.fetchAPI)}function n(e){let{projectIdOrName:l,teamIdOrSlug:n}=e;return(0,a.default)(`${t.API_FIREWALL_PROXY_STATUS_V2}${(0,r.encode)({projectId:l,teamId:n})}`,i.fetchAPI)}e.s(["useReverseProxyStatus",()=>l,"useReverseProxyStatusV2",()=>n])},8778858,e=>{"use strict";var t=e.i(818351),r=e.i(4244280),a=e.i(8042625);function i(e){let{teamId:i,projectId:l}=e;return(0,t.useIsomorphicSWR)(`${r.API_FIREWALL}/firewall/attack-status${(0,a.encode)({teamId:i,projectId:l})}`)}function l(e){let{teamId:i,projectId:l,since:n}=e;return(0,t.useIsomorphicSWR)(`${r.API_FIREWALL}/firewall/attack-status${(0,a.encode)({teamId:i,projectId:l,since:n})}`)}e.s(["useAttackHistory",()=>l,"useAttackStatus",()=>i])},4689018,1496379,2329363,e=>{"use strict";var t=e.i(6696646),r=e.i(7432042),a=e.i(1233856),i=e.i(5963711),l=e.i(7749365),n=e.i(1283928),o=e.i(588428),s=e.i(409142);e.i(1667062);var u=e.i(3538015);let c=[{value:"group_by_category",label:"Group by Category"},{value:"group_by_action",label:"Group by Action"}],d=[{label:"User Agent",value:"clientUserAgent"},{label:"Country",value:"clientIpCountry"},{label:"IP Address",value:"clientIp"},{label:"Request Path",value:"requestPath"},{label:"Route",value:"route"},{label:"JA4 Digest",value:"clientJa4Digest"},{label:"Host",value:"requestHostname"}],f=[{value:"botCheckResult",label:"Check Result"},...d],m=[{icon:l.Clock,label:"Live",value:"live"},{label:"Past Hour",value:"1h"},{label:"Past Day",value:"1d"},{label:"Past 3 Days",value:"3d"}];function g(e){return m.filter(t=>{var a;let i;return"live"===t.value||(a=(0,r.default)(t.value),a<=(i=e?.billing?.plan==="enterprise"?(0,r.default)("7d"):(0,r.default)("24h"))+i/12)})}function h(){let{hideIpAddresses:e=!1,firewallOverviewRefresh:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hideIpAddresses:!1,firewallOverviewRefresh:!1},{isReady:a,value:i}=(0,o.useIPBlockingTeamFlag)(),{set:l,state:m}=(0,s.useSearchParamsState)({action:{defaultValue:"all"},filter:{defaultValue:"all_rules"},groupBy:{defaultValue:r?c[1].value:c[0].value,parseFromUrl:e=>(0,n.tryNormalizeDimension)(e)||e},range:{defaultValue:"1h",formatToUrl(e){if("string"==typeof e)return e;let t=Math.floor(e.from.getTime()/1e3),r=Math.floor(e.to.getTime()/1e3);return`${t}-${r}`},parseFromUrl(e){if(/^\d+-\d+$/.test(e)){let[t,r]=e.split("-"),a=1e3*Number.parseInt(t,10),i=1e3*Number.parseInt(r,10);return{from:new Date(a),to:new Date(i)}}return e}}});"BotID"===m.filter?m={...m,groupBy:m.groupBy===c[0].value?f[0].value:m.groupBy}:"botCheckResult"===m.groupBy&&"BotID"!==m.filter&&(m={...m,groupBy:d[0].value});let g=(0,t.useCallback)(t=>{let r=e||!i||!a;if("filter"===t.type){if("all_rules"===m.filter&&"all_rules"!==t.value){let e=(0,u.isLimitedSystemRule)(t.value)?u.systemFilter:u.defaultFilter;r&&(e=e.filter(e=>"clientIp"!==e.value)),l({filter:t.value,groupBy:"BotID"===t.value?f[0].value:e[0].value});return}if("all_rules"!==m.filter&&"all_rules"===t.value)return void l({filter:t.value,groupBy:c[0].value});if(!(0,u.isLimitedSystemRule)(m.filter)&&(0,u.isLimitedSystemRule)(t.value)){let e=r?u.systemFilter.filter(e=>"clientIp"!==e.value):u.systemFilter;l({filter:t.value,groupBy:e[0].value});return}l({filter:t.value})}else l({[t.type]:t.value})},[l,m,e,i,a]),h=(0,t.useMemo)(()=>{let t=e||!i||!a;if("all_rules"===m.filter)return c;if("BotID"===m.filter)return f;let r=(0,u.isLimitedSystemRule)(m.filter)?u.systemFilter:u.defaultFilter;return t?r.filter(e=>"clientIp"!==e.value):r},[m.filter,e,i,a]);return[m,g,h]}e.s(["getEnabledTimeRangeOptions",()=>g,"useToolbarState",()=>h],1496379);let b=[{threshold:(0,r.default)("4h"),granularity:{minutes:30}},{threshold:(0,r.default)("2h"),granularity:{minutes:15}},{threshold:(0,r.default)("1h"),granularity:{minutes:5}},{threshold:(0,r.default)("10m"),granularity:{minutes:1}}];function p(){let[e]=h();return v(e.range)}function v(e){if("string"!=typeof e){let t,r,i=(t=Math.abs(e.from.getTime()-e.to.getTime()),r=b.find(e=>t>e.threshold),r?.granularity??{seconds:10});return{granularity:i,range:{end:(0,a.endOfDuration)(e.to,i),start:(0,a.startOfDuration)(e.from,i)}}}let t="live"===e?{seconds:10}:{minutes:"1h"===e?1:15},i=new Date,l="live"===e?(0,r.default)("10m"):(0,r.default)(e);return{granularity:t,range:{end:(0,a.endOfDuration)(i,t),start:(0,a.startOfDuration)(new Date(i.getTime()-l),t)}}}function y(e){let{granularity:r,range:a}=(0,t.useMemo)(()=>v(e.range),[e.range]);return(0,t.useMemo)(()=>{let t="default_web_traffic"===e.filter,i="all_rules"===e.filter?500:20;return"BotID"===e.filter?{event:"botIdCheck",reason:"firewall_tab",rollups:{value:{measure:"count",aggregation:"sum"}},granularity:r,groupBy:x(e),filter:w(e),limit:i,tailRollup:"others",summaryOnly:!1,startTime:a.start,endTime:a.end}:t?{event:"incomingRequest",reason:"firewall_tab",rollups:{value:{measure:"count",aggregation:"sum"}},granularity:r,groupBy:x(e),filter:w(e),limit:i,tailRollup:"others",summaryOnly:!1,startTime:a.start,endTime:a.end}:{event:"firewallAction",reason:"firewall_tab",rollups:{value:{measure:"count",aggregation:"sum"}},granularity:r,groupBy:x(e),filter:w(e),limit:i,tailRollup:"others",summaryOnly:!1,startTime:a.start,endTime:a.end}},[r,a,e])}function w(e){if("BotID"===e.filter)return"";let t=[];switch(e.action){case"allow":t.push("wafAction eq 'allow'");break;case"challenge":t.push("wafAction in ('challenge', 'challenge-failed', 'challenge-solved')");break;case"all":break;default:t.push(`wafAction eq '${(0,i.denormalizeFirewallAction)(e.action)}'`)}let r=(0,i.wafRuleId)(e.filter);return"all_rules"!==e.filter&&t.push(`wafRuleId eq '${r}'`),t.join(" and ")}function x(e){let t=[];return"BotID"!==e.filter&&t.push("wafAction"),"all_rules"===e.filter?t.unshift("wafRuleId"):t.unshift(e.groupBy),"clientIp"===e.groupBy&&t.push("asnId","asnName","clientIpCountry"),t.map(t=>"sourcePath"===t?"default_web_traffic"===e.filter?"route":"requestPath":t)}e.s(["useFirewallTimeRange",()=>p,"useQuerySelect",()=>y],4689018);var j=e.i(6468255),P=e.i(9100551),k=e.i(9722978),A=e.i(3306538),I=e.i(5468328),L=e.i(3487134),C=e.i(6675233),R=e.i(57106),_=e.i(9148191),T=e.i(421794);function B(e){let{className:t}=e,{isChildMicrofrontend:r}=(0,_.useMicrofrontendsProjectInfo)();return r?(0,j.jsx)("div",{className:(0,k.clsx)("flex-row items-center gap-2",t),children:(0,j.jsx)("div",{className:"pl-2",children:(0,j.jsx)(F,{})})}):null}function S(e){let{config:t,rulesets:r}=e,a=(0,P.useParams)(),i=(0,T.botProtectionFromConfig)(t?.currentConfig),l=(0,T.botProtectionFromRulesets)(r),n=i?.active??l?.active,o=i?.action??l?.defaultAction;return(0,j.jsx)(R.Link,{canPrefetch:()=>!0,isDifferentZone:!1,href:a?.teamSlug&&a?.project?`/${a.teamSlug}/${a.project}/firewall/configure#bot-management`:"#",children:n?"log"===o?(0,j.jsx)(A.Badge,{icon:(0,j.jsx)(C.Robot,{size:10}),size:"sm",variant:"gray-subtle",children:"Monitoring Bot Activity"}):(0,j.jsx)(A.Badge,{size:"sm",variant:"blue-subtle",icon:(0,j.jsx)(C.Robot,{size:10,color:"blue-900"}),children:"Bot Protection Enabled"}):(0,j.jsx)(A.Badge,{size:"sm",variant:"pill",className:"",icon:(0,j.jsx)(C.Robot,{size:10,color:"gray-900"}),children:"Enable Bot Protection"})})}function F(){let{defaultProjectBaseUrl:e,isChildMicrofrontend:t}=(0,_.useMicrofrontendsProjectInfo)();return t?(0,j.jsx)(R.Link,{href:`${e}/firewall`,icon:!1,children:(0,j.jsx)(I.Tooltip,{text:"Firewall rules for the default app are also run for this microfrontend.",children:(0,j.jsx)(A.Badge,{icon:(0,j.jsx)(L.Microfrontends,{}),size:"sm",variant:"blue-subtle",children:"View Parent Firewall"})})}):null}e.s(["BotProtectionStatusBadge",()=>S,"FirewallStatusBadge",()=>B],2329363)},5149014,e=>{"use strict";var t=e.i(6468255),r=e.i(8122440),a=e.i(6696646),i=e.i(57106),l=e.i(3306538),n=e.i(5468328),o=e.i(6060673),s=e.i(8077518),u=e.i(8778858),c=e.i(8114130);function d(e){let{teamId:n,projectId:o,size:s,onProxyClick:u}=e,{data:c,isLoading:d}=(0,r.useReverseProxyStatus)({projectIdOrName:o,teamIdOrSlug:n}),f=!!(!d&&c?.length),m=(0,a.useCallback)(()=>f?u?(0,t.jsx)(l.Badge,{className:"normal-case select-none border border-transparent transition-colors hover:border-gray-500 cursor-pointer",onClick:u,size:s??"md",variant:"gray-subtle",children:"Unknown proxy is obscuring signals"}):(0,t.jsx)(i.Link,{href:"/guides/can-i-use-a-proxy-on-top-of-my-vercel-deployment",target:"_blank",children:(0,t.jsx)(l.Badge,{className:"normal-case select-none border border-transparent transition-colors hover:border-gray-500",size:s??"md",variant:"gray-subtle",children:"Unknown proxy is obscuring signals"})}):null,[f,s,u]);return[f,m,d]}function f(e){let{projectId:r,size:n}=e,{data:s,isLoading:u}=(0,o.useProject)(r),c={activeUntil:s?.security?.attackModeActiveUntil??null,lastUpdate:s?.security?.attackModeUpdatedAt??null},d=!!(!u&&s?.security?.attackModeEnabled),f=(0,a.useCallback)(()=>d?(0,t.jsx)(i.Link,{href:"/docs/vercel-firewall/attack-challenge-mode",target:"_blank",children:(0,t.jsx)(l.Badge,{className:"normal-case select-none border border-transparent transition-colors hover:border-amber-500",size:n??"md",variant:"amber-subtle",children:"All requests are being challenged"})}):null,[d,n]);return[d,f,c,u]}function m(e){let[t,r]=(0,a.useState)(null),i=(0,a.useRef)(!0);return((0,a.useEffect)(()=>(i.current=!0,()=>{i.current=!1}),[]),(0,a.useEffect)(()=>{let t,a,l=()=>{if(!i.current)return;if(!e){t=requestAnimationFrame(()=>r(null));return}let n=Date.now();if(n>e){t=requestAnimationFrame(()=>r(null));return}t=requestAnimationFrame(()=>{i.current&&r(e-n)}),a=setTimeout(l,500)};return l(),()=>{t&&cancelAnimationFrame(t),a&&clearTimeout(a)}},[e]),t)?`${(0,s.convertMsToTime)(t)} Remaining`:"Enabled"}function g(e){let{teamId:t,projectId:r}=e,{data:a,isLoading:i}=(0,u.useAttackStatus)({projectId:r,teamId:t}),l=a?.anomalies.find(e=>"active"===e.state&&!e.endTime)??null;return{isLoading:i,activeAnomaly:l,hasAnomaly:!!(!i&&l)}}function h(e){let{projectId:r,size:a}=e,{isLoading:s,data:u,mutate:d}=(0,o.useProject)(r),f=(0,c.globalBypassStatus)(u),m=!!(!s&&f.enabled),g=null,h="";if(f.enabled)try{let e=new Intl.DateTimeFormat("en-US",{month:"long",day:"2-digit"}),t=new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"long"}),r=new Date(1e3*f.ttl),a=e.format(r),i=t.format(r);h=`until ${a}`,g=`System Mitigations will resume ${i}`}catch{}return[m,()=>m?(0,t.jsx)(n.Tooltip,{as:"div",delay:!1,text:(0,t.jsx)("p",{className:"text-left",children:g}),tooltipStyle:{display:g?void 0:"none"},children:(0,t.jsx)(i.Link,{href:"/docs/vercel-firewall/ddos-mitigation#bypass-system-level-mitigations",target:"_blank",children:(0,t.jsxs)(l.Badge,{className:"normal-case select-none border border-transparent transition-colors hover:border-red-500",size:a??"md",variant:"red-subtle",children:["Susceptible to attacks ",h]})})}):null,s]}e.s(["useACMBadge",()=>f,"useActiveAnomaly",()=>g,"useCountdown",()=>m,"useGlobalBypass",()=>h,"useReverseProxyBadge",()=>d])},9983900,e=>{"use strict";var t=e.i(6468255);function r(e){let{size:r=16,fill:a="currentColor",className:i=""}=e;return(0,t.jsx)("svg",{className:i,fill:a,height:r,viewBox:"0 0 56 56",width:r,xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M40.25 24.5C48.949 24.5 56 31.552 56 40.25 56 48.949 48.949 56 40.25 56c-8.698 0-15.75-7.051-15.75-15.75 0-8.698 7.052-15.75 15.75-15.75ZM37.696 42c.138 3.376.675 6.74 1.612 10.02l-1.091.31a12.33 12.33 0 0 0 4.065 0l-1.09-.31A42.838 42.838 0 0 0 42.804 42h-5.108ZM23 0c0 1.785.56 3.083 1.453 4.122.933 1.085 2.307 1.976 4.045 2.74 1.733.76 3.698 1.34 5.718 1.881 1.958.524 4.053 1.03 5.792 1.61l1.367.456v6.066h-4v-3.148c-1.26-.361-2.662-.71-4.193-1.12-2.05-.548-4.263-1.192-6.292-2.084-2.025-.889-3.997-2.079-5.471-3.794-.146-.17-.284-.346-.419-.525-.135.179-.273.355-.419.525-1.474 1.715-3.446 2.905-5.47 3.794-2.03.892-4.244 1.536-6.293 2.084-1.531.41-2.933.759-4.193 1.12v19.618c0 5.114 2.84 9.807 7.37 12.18l4.683 2.453 1.771.928-1.855 3.543-1.772-.927-4.683-2.454A17.75 17.75 0 0 1 .625 33.345V10.809l1.367-.457c1.739-.579 3.834-1.085 5.792-1.609 2.02-.54 3.985-1.12 5.718-1.882 1.738-.763 3.112-1.654 4.045-2.739C18.44 3.083 19 1.785 19 0h4Zm23.307 42a46.327 46.327 0 0 1-1.372 9.57c3.924-1.627 6.82-5.23 7.44-9.57h-6.068Zm-18.182 0c.62 4.34 3.515 7.943 7.438 9.57a46.332 46.332 0 0 1-1.37-9.57h-6.068Zm7.438-13.07c-3.923 1.626-6.817 5.23-7.438 9.57h6.068a46.328 46.328 0 0 1 1.37-9.57Zm9.372 0a46.33 46.33 0 0 1 1.372 9.57h6.068c-.62-4.34-3.516-7.945-7.44-9.57ZM40.25 28c-.693 0-1.372.058-2.033.169l1.09.311a42.838 42.838 0 0 0-1.61 10.02h5.107a42.838 42.838 0 0 0-1.612-10.02l1.09-.311c-.66-.11-1.34-.169-2.032-.169Z"})})}function a(e){let{size:r=16,fill:a="currentColor",className:i=""}=e;return(0,t.jsx)("svg",{className:i,fill:a,height:r,viewBox:"0 0 42 55",width:r,xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M23 0c0 1.785.56 3.083 1.453 4.122.933 1.085 2.307 1.976 4.045 2.74 1.733.76 3.698 1.34 5.718 1.881 1.958.524 4.053 1.03 5.792 1.61l1.367.456v22.536a17.75 17.75 0 0 1-9.514 15.723l-9.933 5.204-.928.486-.928-.486-9.933-5.204A17.75 17.75 0 0 1 .625 33.345V10.809l1.367-.457c1.739-.579 3.834-1.085 5.792-1.609 2.02-.54 3.985-1.12 5.718-1.882 1.738-.763 3.112-1.654 4.045-2.739C18.44 3.083 19 1.785 19 0h4Zm-2 6.204c-.135.179-.273.355-.419.525-1.474 1.715-3.446 2.905-5.47 3.794-2.03.892-4.244 1.536-6.293 2.084-1.531.41-2.933.759-4.193 1.12v19.618c0 5.114 2.84 9.807 7.37 12.18L21 50.242l9.005-4.717a13.751 13.751 0 0 0 7.37-12.18V13.728c-1.26-.362-2.662-.71-4.193-1.12-2.05-.549-4.263-1.193-6.292-2.085-2.025-.889-3.997-2.079-5.471-3.794-.146-.17-.284-.346-.419-.525ZM30.828 24.5 18.914 36.414a2 2 0 0 1-2.828 0L11.172 31.5 14 28.672l3.5 3.5 10.5-10.5 2.828 2.828Z"})})}function i(e){let{size:r=16,fill:a="currentColor",className:i=""}=e;return(0,t.jsx)("svg",{className:i,fill:a,height:r,viewBox:"0 0 55 54",width:r,xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M11.625 33.345c0 5.114 2.84 9.807 7.37 12.18L28 50.242l3.135-1.641 1.771-.93 1.856 3.545-1.772.928-4.062 2.128-.928.486-.928-.486-9.933-5.204a17.75 17.75 0 0 1-9.514-15.723v-9.97h4v9.97ZM30 0c0 1.785.56 3.083 1.453 4.122.933 1.085 2.307 1.976 4.045 2.74 1.733.76 3.699 1.34 5.718 1.881 1.958.524 4.053 1.03 5.792 1.61l1.367.456v22.536c0 3.414-.983 6.681-2.737 9.465l8.815 8.815-2.828 2.828L1.547 4.375l2.828-2.828 7.864 7.864.44-.115c3.388-.888 6.79-1.734 9.39-3.217C24.541 4.67 26 2.861 26 0h4Zm-2 6.204c-1.05 1.39-2.432 2.484-3.95 3.35-2.583 1.473-5.73 2.388-8.536 3.131L42.717 39.89a13.736 13.736 0 0 0 1.658-6.544V13.728c-1.26-.362-2.662-.71-4.193-1.12-2.05-.549-4.263-1.193-6.292-2.085-2.025-.889-3.997-2.079-5.471-3.794-.146-.17-.284-.346-.419-.525Z"})})}e.s(["ShieldCheckLocal",()=>a,"ShieldGlobeLocal",()=>r,"ShieldOffLocal",()=>i])},9317241,e=>{"use strict";var t=e.i(6468255),r=e.i(5714623),a=e.i(6696646),i=e.i(5468328),l=e.i(9386557),n=e.i(6143247),o=e.i(57106),s=e.i(594750),u=e.i(421794),c=e.i(5149014);function d(e){let{children:r,...i}=e,l=(0,a.useCallback)(()=>!0,[]);return(0,t.jsx)(o.Link,{canPrefetch:l,isDifferentZone:!1,...i,children:r})}let f="w-full rounded hover:!bg-gray-500/40 odd:bg-gray-200/40 dark:odd:bg-gray-100/40 py-1.5 px-2 group-hover:odd:bg-transparent transition-colors";function m(e){let{hasReverseProxy:r,projectId:c}=e,{config:m}=(0,s.useFirewallConfig)({projectId:c}),g=(0,u.botProtectionFromConfig)(m?.currentConfig),h=(0,a.useMemo)(()=>g&&g.active?r?"limited":"log"===g.action?"logging":"active":"inactive",[g,r]),b=(0,a.useCallback)(()=>{if(r)return(0,t.jsxs)("p",{className:"text-left",children:["An unkown proxy is hiding real IPs and JA4s, reducing Bot Protection accuracy. One client can trigger a challenge for all traffic behind the proxy."," ",(0,t.jsx)(o.Link,{href:"/docs/bot-management#bot-protection-ruleset-with-reverse-proxies",target:"_blank",underline:!0,children:"Learn More"})]})},[r]);return r?(0,t.jsx)(i.Tooltip,{as:"div",className:f,delay:!1,text:(0,t.jsx)(b,{}),children:(0,t.jsxs)(d,{href:"firewall/configure#bot-management",className:"flex justify-between w-full",children:[(0,t.jsx)("p",{className:"text-label-14 font-medium",children:"Bot Protection"}),(0,t.jsxs)("p",{className:"text-label-14 text-gray-900 flex gap-1 items-center capitalize",children:[(0,t.jsx)(l.WarningFill,{color:"amber-800",size:16}),(0,t.jsx)("span",{children:h})]})]})}):(0,t.jsxs)(d,{href:"firewall/configure#bot-management",className:(0,n.cn)(f,"flex justify-between items-center "),children:[(0,t.jsx)("p",{className:"text-label-14 font-medium",children:"Bot Protection"}),(0,t.jsx)("p",{className:"text-label-14 text-gray-900 flex gap-1 items-center capitalize",children:h})]})}function g(e){let{isAlerting:r,challengeData:a}=e,n=(0,c.useCountdown)(a.activeUntil);return r?(0,t.jsx)(i.Tooltip,{as:"div",className:f,delay:!1,position:"bottom",text:(0,t.jsxs)("p",{className:"text-left",children:["Browsers typically solve it in 1-3 seconds, with ~100ms load time. Every request will be affected while the challenge is active."," ",(0,t.jsx)(o.Link,{href:"/docs/vercel-firewall/attack-challenge-mode",target:"_blank",underline:!0,children:"Learn More"})]}),children:(0,t.jsxs)(d,{href:"firewall/configure#danger-zone",className:"flex justify-between w-full",children:[(0,t.jsx)("p",{className:"text-label-14 font-medium",children:"Attack Mode"}),(0,t.jsxs)("p",{className:"text-label-14 text-gray-900 flex gap-1 items-center",children:[(0,t.jsx)(l.WarningFill,{color:"amber-800",size:16}),(0,t.jsx)("span",{children:n})]})]})}):null}function h(e){let{projectId:r}=e,{config:a}=(0,s.useFirewallConfig)({projectId:r});return(0,t.jsxs)(d,{href:"firewall/configure#custom-rules",className:(0,n.cn)(f,"flex justify-between items-center "),children:[(0,t.jsx)("p",{className:"text-label-14 font-medium",children:"Custom Rules"}),(0,t.jsx)("p",{className:"text-label-14 text-gray-900",children:a?.rules.length??0})]})}function b(e){let{children:i,hasAnomaly:l,hasChallengeMode:o,hasDeployments:s=!0,hasGlobalBypass:u,size:c}=e,d=(0,a.useMemo)(()=>{let e={bg:{highlight:void 0,base:"var(--ds-blue-200)"},border:{highlight:void 0,base:"var(--ds-blue-400)"}};return u?e.border.highlight="var(--ds-red-400)":o&&(e.border.highlight="var(--ds-amber-400)"),u?e.border.base="var(--ds-red-400)":l&&(e.border.base="var(--ds-amber-400)"),u?e.bg.highlight="var(--ds-red-200)":o&&(e.bg.highlight="var(--ds-amber-200)"),u?e.bg.base="var(--ds-red-200)":l&&(e.bg.base="var(--ds-amber-200)"),e},[u,l,o]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.default,{id:"f61bf247ce9276be",children:".scp-card.jsx-f61bf247ce9276be:before{background-image:linear-gradient(to bottom,transparent 70%,var(--border-b)),linear-gradient(to bottom left,var(--border),transparent 75%),linear-gradient(to bottom right,var(--border-highlight,var(--border)),transparent 75%)}.scp-card-content.jsx-f61bf247ce9276be{background-image:linear-gradient(to bottom,transparent -5%,var(--ds-background-100)50%),linear-gradient(to bottom right,var(--bg-highlight,var(--bg)),transparent 50%),linear-gradient(to bottom left,var(--bg),transparent 50%)}"}),(0,t.jsx)("div",{style:{"--border-highlight":d.border.highlight,"--border":d.border.base,"--border-b":"var(--ds-gray-200)","--bg-highlight":d.bg.highlight,"--bg":d.bg.base},className:"jsx-f61bf247ce9276be "+((0,n.cn)("relative isolate rounded-md h-full p-px flex flex-col justify-between gap-4 tabular-nums","before:absolute after:absolute before:block after:block before:rounded-md after:rounded-md before:-z-10 after:-z-10","before:inset-0","after:inset-px bg-background-100",s?"scp-card":"shadow-sm")||""),children:(0,t.jsx)("div",{className:"jsx-f61bf247ce9276be "+((0,n.cn)(" relative h-full p-2 pt-4 lg:pt-2 rounded-md flex flex-col gap-8",{"scp-card-content":s,"gap-3.5":"sm"===c})||""),children:i})})]})}e.s(["AttackChallengeRow",()=>g,"BotProtectionRow",()=>m,"CustomRulesRow",()=>h,"GradientPostureCard",()=>b],9317241)}]);

//# sourceMappingURL=d74315c3b7dae628.js.map
//# debugId=ec3ebef5-ae25-5cf5-a702-592a07d4b8d7
