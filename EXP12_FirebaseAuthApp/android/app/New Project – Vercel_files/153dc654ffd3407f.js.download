
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5c8461ba-0172-59be-8cb7-07fbe89447d0")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8822420,e=>{"use strict";var r=e.i(6468255),t=e.i(3487134),n=e.i(9722978);function o(e){let{className:n,size:o=28,color:i,iconSize:l}=e;return(0,r.jsx)(s,{className:n,size:o,children:(0,r.jsx)(t.Microfrontends,{color:i,size:l})})}function s(e){let{className:t,size:o=28,children:s}=e;return(0,r.jsx)("div",{className:(0,n.clsx)(`flex h-[${o}px] min-w-[${o}px] items-center justify-center rounded-full text-center`,t),children:s})}e.s(["IconInCircleWrapper",()=>s,"MicrofrontendsIconInCircle",()=>o])},7643270,e=>{"use strict";function r(e){return e?e.length>48?"Group name must be less than 48 characters":null:"Group name is required"}let t=e=>e.replaceAll('"paths": []','"paths": [/* add paths here */]');function n(e,r,n){return t(JSON.stringify({$schema:"https://openapi.vercel.sh/microfrontends.json",applications:{[e.name]:{development:{fallback:n??"...loading.vercel.app"}},...r.reduce((e,r)=>(e[r.name]={routing:[{paths:[]}]},e),{})}},null,2))}e.s(["getSuggestedMicrofrontendsConfig",()=>n,"partitionConfigReferencedProjects",0,(e,r)=>{if(!r)return{missingReferences:[],extraReferences:[]};let t=e&&"applications"in e?Object.entries(e.applications):[];return{missingReferences:r.filter(e=>!t.some(r=>{let[t]=r;return t===e.name})),extraReferences:t.filter(e=>{let[t]=e;return!r.some(e=>e.name===t)}).map(e=>{let[r]=e;return{name:r}})}},"partitionMicrofrontendsProjects",0,(e,r)=>{let t=e.find(e=>e.microfrontends?.isDefaultApp),{viewingProjectName:n,applications:o}=r||{},s=e.filter(e=>e.id!==t?.id).sort((e,r)=>e.name.localeCompare(r.name)),i=t?[t,...s.sort((e,r)=>{if(e.name===n)return -1;if(r.name===n)return 1;let t=o?.[e.id]?.deploymentId,s=o?.[r.id]?.deploymentId;return t&&!s?-1:!t&&s?1:e.name.localeCompare(r.name)})]:[];return{defaultProject:t,otherProjects:s,sortedProjects:i}},"postprocessConfig",0,t,"validateMicrofrontendsGroupName",()=>r])},4111070,163676,8369958,e=>{"use strict";var r=e.i(6468255),t=e.i(9508212),n=e.i(6891161),o=e.i(3500331),s=e.i(8735244),i=e.i(455575),l=e.i(4030453),a=e.i(6696646),c=e.i(8433839),d=e.i(6311495),u=e.i(7722264),p=e.i(1583207),m=e.i(6161994),x=e.i(1360174),h=e.i(1344973),f=e.i(6881349),g=e.i(3487134),j=e.i(8248414),y=e.i(9358876);function b(e){let{selectedGroup:t,onGroupSelected:n,errored:o,disabled:s}=e,[i,l]=(0,a.useState)(""),c=(0,a.useMemo)(()=>(0,x.default)(l,500),[]),{data:d,isLoading:u}=(0,m.useMicrofrontendsGroups)(),p=(0,a.useMemo)(()=>d?.groups.filter(e=>e.group.name.toLowerCase().includes(i.toLowerCase()))??[],[d,i]);return(0,r.jsxs)(f.Combobox,{disabled:s,filter:e=>e,onChange:e=>{n(p.find(r=>r.group.id===e)),l("")},onClear:()=>l(""),placeholder:"Select Group",prefixIcon:t?(0,r.jsx)(g.Microfrontends,{}):null,value:t?.group.name??null,errored:o,children:[(0,r.jsx)(f.Combobox.Input,{onChange:e=>c(e.target.value)}),(0,r.jsx)(f.Combobox.List,{emptyMessage:u?i?`No groups found with the name "${i}".`:"No microfrontends groups under this account.":"Loading…",children:p.map(e=>(0,r.jsx)(f.Combobox.Option,{value:e.group.id,children:(0,r.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,r.jsx)(h.Text,{weight:600,children:e.group.name}),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsxs)(h.Text,{size:14,children:[e.projects.length," ",(0,y.pluralize)("project",e.projects.length)]}),(0,r.jsx)(j.ProjectAvatarGroup,{projectIds:e.projects.map(e=>e.id),totalProjectsCount:e.projects.length})]})]})},e.group.id))})]})}var v=e.i(2689512),C=e.i(8866953),M=e.i(4600551),N=e.i(5307161);function k(e){let{microfrontendsGroup:x,handleOnAddProject:h,project:f,onClose:j,onSuccess:k,overlayClassname:A,overlayBackdropClassname:P,selectedProjectsCount:S}=e,w=(0,d.useTeamSlug)(),T=(0,N.useBillingPlan)(),[G,R]=(0,a.useState)(!1),[B,I]=(0,a.useState)(""),[$,F]=(0,a.useState)(null),[L,D]=(0,a.useState)(null),U=f||L,[E,z]=(0,a.useState)(void 0),[O,H]=(0,a.useState)(null),{data:q}=(0,m.useMicrofrontendsGroups)(),V=x||(q?.groups?.length===1?q?.groups[0]:void 0),Y=V||E,{verifyMicrofrontendsAction:K}=(0,p.useMicrofrontendsBilling)({groupId:Y?.group?.id}),{microfrontendsProjectSelector:W,validateSelectedProject:J,selectedProjectError:_}=function(e){let{selectedProject:t,setSelectedProject:n,disabled:o,group:s}=e,[i,d]=(0,a.useState)(null),u=e=>s&&e?.microfrontends?.groupIds.includes(s.id)?(d(`${e.name} is already part of this microfrontends group.`),!1):e?.microfrontends?.enabled?(d(`Projects can only be part of one microfrontends group. ${e.name} is already part of a microfrontends group.`),!1):(d(null),!0);return{microfrontendsProjectSelector:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.ProjectSelector,{selectedProject:t,onProjectSelected:e=>{n(e),u(e)},errored:!!i,disabled:o}),i?(0,r.jsx)(l.Error,{children:i}):null]}),validateSelectedProject:u,selectedProjectError:i}}({selectedProject:L,setSelectedProject:D,disabled:G,group:Y?.group}),Q=(0,a.useCallback)(()=>(F(null),!!B&&(!!B.startsWith("/")||(F("Default route must start with a slash"),!1))),[B]),X=(0,a.useCallback)(async()=>{R(!0),H(null);let e=K({action:"add-project",source:"add-microfrontends-project-a",closeMfeModal:j});if(e){H(e),R(!1);return}if(!Q()||!B||L&&!J(L)||!U)return void R(!1);if(h){h(U,B),R(!1);return}if(!Y?.group||!w)return void R(!1);try{await (0,C.addProjectToMicrofrontendsGroup)({projectId:U.id,microfrontendsGroupId:Y.group.id,defaultRoute:B,teamSlug:w}),await k?.(),i.toasts.success(`${U.name} added to ${Y.group.name} successfully.`)}catch(e){(0,u.isError)(e)&&i.toasts.error(e.message)}R(!1),j()},[J,h,j,U,Y,k,B,w,Q,L,O,K]),Z=!!(G||!U||!h&&!Y||_||!B||$||O);return(0,r.jsxs)(n.Modal.Modal,{active:!0,onClickOutside:j,overlayClassname:A,overlayBackdropClassname:P,children:[(0,r.jsxs)(n.Modal.Body,{children:[(0,r.jsx)(n.Modal.Header,{children:(0,r.jsxs)(n.Modal.Title,{className:"flex gap-2 items-center",children:["Add Project ",(0,r.jsx)(M.PlanBadge,{plan:T,subtle:!1})]})}),(0,r.jsx)(t.Stack,{direction:"column",gap:6,children:(0,r.jsxs)(t.Stack,{direction:"column",gap:4,children:[(0,r.jsx)("div",{className:"flex flex-col gap-2",children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-sm text-gray-900",children:"You're adding"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-background-200 rounded-[6px] border border-gray-400 h-[40px]",children:[(0,r.jsx)(v.ProjectAvatar,{size:20,project:f}),(0,r.jsx)("span",{className:"font-medium truncate",children:f.name})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-sm text-gray-900",children:"Select your project to add"}),W]})}),h?null:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-900",children:"Your microfrontends group"}),V?(0,r.jsx)("div",{className:"p-2 bg-background-200 rounded-[6px] border border-gray-400 h-[40px]",children:(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.Microfrontends,{size:14,color:"gray-900"}),(0,r.jsx)("span",{className:"font-medium truncate",children:V?.group?.name})]}),(0,r.jsxs)("span",{className:"text-gray-900",children:[V?.projects.length," ",(0,y.pluralize)("project",V?.projects.length)]})]})}):(0,r.jsx)(b,{selectedGroup:E,onGroupSelected:e=>z(e)})]}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:"Specify a default route for the project. This path will be used for deployment screenshots, and for the default link to the project."}),(0,r.jsx)(o.Input,{disabled:G,"aria-label":"Default Route",maxLength:40,error:$,autoFocus:!0,showErrorMessage:!1,onChange:e=>I(e.target.value),placeholder:"/default-path (required)",value:B,onBlur:Q,onKeyDown:e=>{"Enter"!==e.key||Z||X()}}),$?(0,r.jsx)(l.Error,{children:$}):null,(0,r.jsx)("span",{className:"text-sm text-gray-900",children:"This can be updated later in the project's microfrontends settings."})]})})]}),(0,r.jsx)(n.Modal.ButtonActions,{className:"p-6",children:O||(0,r.jsx)(p.MicrofrontendsBilling,{groupId:Y?.group?.id,selectedProjectsCount:S})}),(0,r.jsxs)(n.Modal.Actions,{children:[(0,r.jsx)(n.Modal.Action,{disabled:G,onClick:j,type:"secondary",children:"Cancel"}),(0,r.jsx)(n.Modal.Action,{disabled:Z,onClick:X,type:"default",prefix:G?(0,r.jsx)(s.Spinner,{}):void 0,children:G?"Adding…":"Add Project"})]})]})}e.s(["AddProjectToMfeGroupModal",()=>k],4111070);var A=e.i(6607601),P=e.i(5838627),S=e.i(277234),w=e.i(8042625),T=e.i(4244280);function G(e){let{project:o,group:l,config:c,onClose:p,onSuccess:m}=e,x=(0,d.useTeamSlug)(),[f,g]=(0,a.useState)(!1),j=(0,a.useCallback)(async()=>{if(g(!0),!o)return void g(!1);try{await (0,S.fetchAPI)(`${(0,T.API_PROJECTS_MICROFRONTENDS)(o.id)}${(0,w.encode)({teamId:x})}`,{method:"PATCH",body:{enabled:!1},throwOnHTTPError:!0}),await m(),i.toasts.success("Removed from group successfully.")}catch(e){(0,u.isError)(e)&&i.toasts.error(e.message)}g(!1),p()},[o,p,x,m]),y=o?c?.applications?.[o.name]:null;return(0,r.jsxs)(n.Modal.Modal,{active:!0,onClickOutside:p,children:[(0,r.jsxs)(n.Modal.Body,{children:[(0,r.jsx)(n.Modal.Header,{children:(0,r.jsx)(n.Modal.Title,{children:"Remove from Group"})}),(0,r.jsxs)(t.Stack,{direction:"column",gap:4,children:[(0,r.jsxs)(h.Text,{children:["Are you sure you want to remove"," ",(0,r.jsx)(h.Text,{as:"span",weight:500,children:o?.name})," ","from"," ",(0,r.jsx)(h.Text,{as:"span",weight:500,children:l.name}),"?"]}),(0,r.jsxs)(h.Text,{children:["Removing the project will mean"," ",(0,r.jsx)(h.Text,{as:"span",weight:500,children:o?.name})," ","is no longer a child app in the microfrontends group"," ",(0,r.jsx)(h.Text,{as:"span",weight:500,children:l.name}),"."]}),c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.Text,{as:"h3",children:["You will also need to"," ",(0,r.jsx)(h.Text,{as:"span",weight:500,children:"remove"})," ","the related configuration for"," ",(0,r.jsx)(h.Text,{as:"span",weight:500,children:o?.name})," ","from your ",(0,r.jsx)(A.InlineCode,{children:"microfrontends.json"}),y?":":"."]}),y&&o?(0,r.jsx)(P.CodeBlock,{language:"json",className:"m-0",hideLineNumbers:!0,children:JSON.stringify({[o.name]:y},null,2)}):null]}):null]})]}),(0,r.jsxs)(n.Modal.Actions,{children:[(0,r.jsx)(n.Modal.Action,{disabled:f,onClick:p,type:"secondary",children:"Cancel"}),(0,r.jsx)(n.Modal.Action,{disabled:f||!o,onClick:j,type:"error",prefix:f?(0,r.jsx)(s.Spinner,{}):void 0,children:f?"Removing…":"Remove from Group"})]})]})}e.s(["RemoveFromGroupModal",()=>G],163676);var R=e.i(7917902),B=e.i(3052383);function I(e){let{group:t,onClose:n,onDelete:o}=e,[s,l]=(0,a.useState)(null),{mutate:c}=(0,m.useMicrofrontendsGroups)(),{team:d}=(0,R.useAccount)(),p=d?.id,[x,h]=(0,a.useState)(!1),f=(0,a.useCallback)(async()=>{if(p){h(!0);try{await (0,S.fetchAPI)(`/api/v2/teams/${encodeURIComponent(p)}/microfrontends/${encodeURIComponent(t.id)}${(0,w.encode)({teamId:p})}`,{method:"DELETE",throwOnHTTPError:!0}),i.toasts.success("Deleted microfrontends group successfully."),await c(),o?.(),n()}catch(e){(0,u.isError)(e)&&l(e)}h(!1)}},[p,t.id,c,o,n]);return(0,r.jsx)(B.default,{active:!0,error:s,onCancel:n,onConfirm:()=>{f()},loading:x,resourceName:t.name,resourceType:"Microfrontends Group",subtitle:"This microfrontends group will be deleted along with all of its Settings."})}e.s(["DeleteMicrofrontendsGroupModal",()=>I],8369958)},7206786,4121886,e=>{"use strict";var r=e.i(6468255),t=e.i(8674454),n=e.i(6694387),o=e.i(4991687),s=e.i(8459493),i=e.i(455575),l=e.i(5468328),a=e.i(7448864),c=e.i(8876434),d=e.i(545405),u=e.i(1717203),p=e.i(7557283),m=e.i(7837522),x=e.i(7780974),h=e.i(4111070),f=e.i(163676),g=e.i(6696646),j=e.i(8369958),y=e.i(9508212),b=e.i(6891161),v=e.i(3500331),C=e.i(3671642),M=e.i(8735244),N=e.i(7917902),k=e.i(277234),A=e.i(8042625),P=e.i(6161994),S=e.i(7722264),w=e.i(7643270);function T(e){let{group:t,onClose:n,onUpdate:o}=e,[s,i]=(0,g.useState)(null),l=t.name||`<Missing Group Name> ${t.slug}`,[a,c]=(0,g.useState)(l),[d,u]=(0,g.useState)(!1),p=!!a&&a===t.name,{mutate:m}=(0,P.useMicrofrontendsGroups)(),{team:x}=(0,N.useAccount)(),h=x?.id,f=(0,g.useCallback)(async()=>{let e=(0,w.validateMicrofrontendsGroupName)(a);if(e)return void i(e);if(h){u(!0);try{let e=await (0,k.fetchAPI)(`/api/v2/teams/${encodeURIComponent(h)}/microfrontends/${encodeURIComponent(t.id)}${(0,A.encode)({teamId:h})}`,{method:"PATCH",body:{name:a},throwOnHTTPError:!0});await m(),o?.(e.updatedMicrofrontendsGroup.slug),n()}catch(e){(0,S.isError)(e)&&i(e.message)}u(!1)}},[a,h,t.id,m,o,n]);return(0,r.jsxs)(b.Modal.Modal,{active:!0,onClickOutside:n,children:[(0,r.jsxs)(b.Modal.Body,{children:[(0,r.jsx)(b.Modal.Header,{children:(0,r.jsx)(b.Modal.Title,{children:"Edit Microfrontends Group Name"})}),(0,r.jsxs)(y.Stack,{direction:"column",gap:4,children:[(0,r.jsx)(C.Label,{value:"Group name"}),(0,r.jsx)(v.Input,{"aria-label":"Microfrontends group name",error:s,onChange:e=>{c(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&f()},value:a,disabled:d})]})]}),(0,r.jsxs)(b.Modal.Actions,{children:[(0,r.jsx)(b.Modal.Action,{disabled:d,onClick:n,type:"secondary",children:"Cancel"}),(0,r.jsx)(b.Modal.Action,{disabled:p||d,onClick:f,type:"secondary",prefix:d?(0,r.jsx)(M.Spinner,{}):void 0,children:d?"Saving…":"Save"})]})]})}var G=e.i(9100551),R=e.i(6311495),B=e.i(1583207),I=e.i(5806401),$=e.i(2504781),F=e.i(8161149),L=e.i(8522580),D=e.i(5255926),U=e.i(6318858),E=e.i(6942035),z=e.i(109803),O=e.i(3487134),H=e.i(8433839),q=e.i(3306538),V=e.i(8232741),Y=e.i(1848296),K=e.i(923772),W=e.i(2689512);function J(e){let{defaultApp:t,project:n,removeProject:o,useRadioGroup:s=!1,defaultRoutes:i}=e,{component:a}=(0,Y.useRadio)({value:n.id,disabled:!1}),c=i?.[n.id],d=(0,r.jsx)(V.Entity.Content,{title:(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("span",{className:"font-medium text-sm",children:n.name}),c?(0,r.jsx)("span",{className:"text-gray-900 text-sm",children:c}):null]})});if(s)return(0,r.jsx)("label",{className:"block border-x-0 border-t-0 [&:not(:last-child)]:border-b [&:not(:last-child)]:border-solid [&:not(:last-child)]:border-[--accents-2]",children:(0,r.jsx)(V.Entity,{className:"py-4",left:a,children:d})});if(o)return(0,r.jsx)(V.Entity,{className:"py-4",left:(0,r.jsx)(W.ProjectAvatar,{project:n,size:24}),right:(0,r.jsx)("div",{className:"flex cursor-pointer items-center",onClick:()=>o(n),onKeyUp:()=>o(n),role:"button",tabIndex:0,children:(0,r.jsx)(l.Tooltip,{text:"Remove project from the microfrontends group",children:(0,r.jsx)(K.Trash,{color:"gray-800"})})}),children:d});let u=t?.id===n.id?(0,r.jsx)(l.Tooltip,{text:"Application that controls the lifecycle of the microfrontends group",children:(0,r.jsx)(q.Badge,{className:"select-none",variant:"blue-subtle",children:"Default"})}):null;return(0,r.jsx)(V.Entity,{left:(0,r.jsx)(W.ProjectAvatar,{project:n,size:18}),right:u,children:d})}function _(e){let{defaultApp:t,selectedProjects:n,removeProject:o,setDefaultApp:s,useRadioGroup:i=!1,defaultRoutes:l}=e,a=(0,r.jsx)("div",{className:"flex flex-col gap-3",children:n.map(e=>(0,r.jsx)(V.Entity.List,{children:(0,r.jsx)(J,{defaultApp:t,project:e,removeProject:o,useRadioGroup:i,defaultRoutes:l})},e.id))});return i&&s?(0,r.jsx)(Y.RadioGroup,{onChange:e=>{let r=n.find(r=>r.id===e);r&&s(r)},value:t?.id??"",children:a}):a}var Q=e.i(6060673),X=e.i(9762045),Z=e.i(9481787),ee=e.i(57106),er=e.i(5307161);e.i(6483798);var et=e.i(8287059),en=e.i(4600551),eo=e.i(9739627);function es(){let e=(0,er.useBillingPlan)(),t=(0,et.useOpenUpgradeModal)();return"hobby"!==e?null:(0,r.jsxs)("div",{className:"flex flex-row space-between rounded-[6px] bg-blue-100 border border-gray-400 relative items-stretch overflow-hidden",children:[(0,r.jsx)("div",{className:"rounded-[6px] w-full h-full absolute z-[1]",style:{background:"linear-gradient(177deg, #F0F7FF -7.33%, rgba(240, 247, 255, 0.50) 8%, rgba(240, 247, 255, 0.00) 52.57%, rgba(255, 255, 255, 0.50) 94.94%, #F0F7FF 104.91%)"}}),(0,r.jsxs)("div",{className:"flex flex-col gap-[6px] py-3 px-4 relative z-[2]",children:[(0,r.jsxs)("span",{className:"flex items-center gap-[6px]",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Unlock more projects with"}),(0,r.jsx)(en.PlanBadge,{plan:"pro",subtle:!1})]}),(0,r.jsxs)("span",{className:"text-sm text-gray-900",children:["Add unlimited projects for $250/additional project/month and a larger request limit with our Pro plan."," ",(0,r.jsx)(ee.Link,{external:!0,icon:!0,variant:"blend",onClick:()=>{t({source:"create-microfrontends-side-panel-add-projects",forceImmediateUpgrade:!0})},children:"Upgrade now"})]})]}),(0,r.jsx)(eo.Image,{alt:"MFE diagram",height:90,srcDark:"https://assets.vercel.com/image/upload/v1761132387/front/microfrontends/microfrontends-diagram.png",srcLight:"https://assets.vercel.com/image/upload/v1761132387/front/microfrontends/microfrontends-diagram.png",width:147})]})}function ei(){let e=(0,er.useBillingPlan)(),t=(0,et.useOpenUpgradeModal)(),{teamHasExceededMaxGroups:n}=(0,B.useMicrofrontendsBilling)();return"hobby"===e&&n?(0,r.jsxs)("div",{className:"relative flex flex-row overflow-hidden border border-gray-400 rounded-md",children:[(0,r.jsxs)("div",{className:"p-5 flex flex-col gap-4 relative z-[1] w-full",style:{background:"linear-gradient(179deg, #FFF -1.81%, rgba(255, 255, 255, 0.50) 12%, rgba(255, 255, 255, 0.00) 52.15%, rgba(255, 255, 255, 0.50) 90.32%, #FFF 99.31%)"},children:[(0,r.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(0,r.jsxs)("span",{className:"flex items-center gap-2 text-lg font-medium",children:["Unlock more groups with"," ",(0,r.jsx)(en.PlanBadge,{plan:"pro",size:"sm",subtle:!1})]}),(0,r.jsx)("span",{className:"text-gray-900 text-sm w-[70%]",children:"Get unlimited groups with unlimited projects and a larger request limit by upgrading your plan."})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)($.Button,{onClick:()=>t({source:"microfrontends-overview",forceImmediateUpgrade:!0}),size:"small",children:"Upgrade now"}),(0,r.jsx)(ee.ButtonLink,{href:"/docs/plans/pro-plan",size:"small",type:"secondary",children:"Learn more"})]})]}),(0,r.jsx)(eo.Image,{alt:"MFE diagram",className:"absolute right-0",height:142,srcDark:"https://assets.vercel.com/image/upload/v1761739607/front/microfrontends/microfrontends-asset-angled.png",srcLight:"https://assets.vercel.com/image/upload/v1761739607/front/microfrontends/microfrontends-asset-angled.png",width:284})]}):null}e.s(["UnlockMoreGroupsWithProBanner",()=>ei,"UnlockMoreProjectsWithProBanner",()=>es],4121886);var el=e.i(6143247),ea=e.i(8248414),ec=e.i(9358876);let ed=[x.VercelActivityAction.CreateMicrofrontendsGroupNameStepCompleted,x.VercelActivityAction.CreateMicrofrontendsGroupSelectProjectsStepCompleted,x.VercelActivityAction.CreateMicrofrontendsGroupChooseDefaultAppStepCompleted];function eu(e){let{source:t,onClose:n}=e,[o,s]=(0,g.useState)(1),[i,l]=(0,g.useState)(""),[a,c]=(0,g.useState)([]),[d,u]=(0,g.useState)(null),[p,x]=(0,g.useState)({}),h=(0,er.useBillingPlan)(),{track:f,isReady:j}=(0,m.useTrackActivity)(),y=(0,g.useCallback)(()=>{s(e=>(j&&ed[e-1]&&f(ed[e-1],{source:t}),e+1))},[j,f,t]),b=(0,g.useCallback)(()=>{s(e=>e-1)},[]),v=(0,g.useMemo)(()=>[{title:"Name your group",description:"Give your microfrontends group a descriptive name. The name will be used in the dashboard and Vercel Toolbar to identify this microfrontends group.",suffix:i?(0,r.jsx)("span",{className:"text-sm text-gray-900",children:i}):null,component:(0,r.jsx)(em,{onNextStep:y,groupName:i,setGroupName:l})},{title:"Select Projects",description:`Choose which projects to include in this microfrontend group.${"hobby"===h?" As a Hobby user, you can add a maximum of 2.":""}`,suffix:a.length?(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-900",children:[a.length," ",(0,ec.pluralize)("project",a.length)]}),(0,r.jsx)(ea.ProjectAvatarGroup,{projectIds:a.map(e=>e.id),totalProjectsCount:a.length})]}):null,component:(0,r.jsx)(ex,{onNextStep:y,onPreviousStep:b,selectedProjects:a,setSelectedProjects:c,defaultRoutes:p,setDefaultRoutes:x})},{title:"Choose default app",description:"Choose one application to serve as the default app. This is the project that manages the microfrontends.json configuration for the microfrontends group and handles any URL not handled by another microfrontend.",suffix:d?(0,r.jsx)("span",{className:"text-sm text-gray-900",children:d.name}):null,component:(0,r.jsx)(eh,{onNextStep:y,onPreviousStep:b,selectedProjects:a,defaultRoutes:p,setDefaultApp:u,defaultApp:d})},{title:"Review",description:"Review your microfrontends group configuration. After the group is created, deployments for all projects will continue as normal until the microfrontends.json configuration is added to the default app.",component:(0,r.jsx)(ef,{source:t,onPreviousStep:b,selectedProjects:a,defaultRoutes:p,defaultApp:d,groupName:i})}],[i,l,y,b,a,c,p,x,d,u,h,n,t]);return(0,r.jsx)(I.Sheet,{open:!0,onOpenChange:e=>{e||n()},children:(0,r.jsx)(I.SheetContent,{className:"m-3 h-[calc(100%-1.5rem)] w-[calc(100%-1.5rem)] overflow-y-auto rounded-[1rem] bg-white p-0 pb-6 lg:w-3/4 sm:max-w-[800px]",side:"right",children:(0,r.jsxs)("main",{className:"flex flex-col h-full shrink-0 grow-0",children:[(0,r.jsx)("header",{className:"sticky top-0 z-50 bg-background-100 pt-7",children:(0,r.jsxs)("section",{className:"flex items-center justify-start gap-4 px-8",children:[(0,r.jsx)(I.SheetTitle,{className:"flex items-center gap-4 text-heading-24",children:(0,r.jsx)("span",{children:"Add Microfrontend Group"})}),(0,r.jsx)(I.SheetDescription,{className:"sr-only",children:"Configure a drain to send your data to external services"}),(0,r.jsxs)("div",{className:"flex items-center gap-3 ml-auto",children:[(0,r.jsx)(ee.ButtonLink,{type:"tertiary",size:"small",href:"/docs/microfrontends/quickstart",suffix:(0,r.jsx)(z.External,{}),className:"!text-gray-600 hover:!text-gray-900",tab:!0,children:"Quickstart"}),(0,r.jsx)($.Button,{svgOnly:!0,"aria-label":"close modal",shape:"circle",size:"tiny",onClick:n,className:"!border-0 !bg-transparent",children:(0,r.jsx)(E.Cross,{color:"gray-1000"})})]})]})}),(0,r.jsx)("div",{className:"px-8 pt-6 pb-4",children:v.map((e,t)=>{let{title:n,description:i,component:l,suffix:a}=e;return(0,r.jsx)(ep,{title:n,description:i,number:t+1,isActive:o===t+1,isComplete:o>t+1,totalSteps:v.length,onClick:()=>s(t+1),suffix:a,children:l},n)})})]})})})}function ep(e){let{number:t,title:n,isComplete:o,description:s,isActive:i,onClick:l,suffix:a,totalSteps:c,children:d}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:(0,el.cn)("flex items-center gap-3 px-3 py-3 cursor-pointer transition-colors",{"hover:bg-gray-50":!i,"hover:bg-success-100":o&&!i}),onClick:o&&!i?l:void 0,title:o&&!i?"Click to return to this step":void 0,children:[(0,r.jsx)("div",{className:(0,el.cn)("flex size-7 items-center justify-center rounded-full text-sm font-medium border",{"bg-success text-black border-success":o,"bg-black text-white border-black":!o&&i,"bg-white text-gray-900 border-gray-500":!o&&!i}),children:o?(0,r.jsx)(U.Check,{size:14}):t}),(0,r.jsx)("p",{className:(0,el.cn)("text-[16px] leading-[24px]",i&&"font-medium"),children:n}),!i&&a]}),i&&(0,r.jsxs)("div",{className:`flex flex-col items-stretch justify-start gap-6 flex-initial ${(0,el.cn)("pl-6 ml-[1.6rem] -mt-1 -mb-1 py-4",t!==c&&"border-gray-400 border-dashed border-l")}`,children:[(0,r.jsx)("span",{className:"text-sm text-gray-900",children:s}),d]})]})}function em(e){let{groupName:t,setGroupName:n,onNextStep:o}=e,[s,i]=(0,g.useState)(null),[a,c]=(0,g.useState)(null),{data:d,isLoading:m}=(0,P.useMicrofrontendsGroups)(),{teamHasExceededMaxGroups:x,verifyMicrofrontendsAction:h,teamHasUsedAllFreeProjects:f}=(0,B.useMicrofrontendsBilling)({groupId:void 0}),{can:j,isLoading:y}=(0,u.default)(),b=!f||j(p.Action.Update,p.Resource.BillingPlan),C=j(p.Action.Update,p.Resource.TeamMicrofrontends),M=(0,g.useCallback)(e=>{n(e);let r=(0,w.validateMicrofrontendsGroupName)(e);return r?(i(r),!1):d?.groups.some(r=>r.group.name.toLowerCase()===e.toLowerCase())?(i("Group name already exists"),!1):(i(null),!0)},[d,n,i]),N=h({action:"create-group",source:"create-microfrontends-group",closeMfeModal:void 0}),k=(0,g.useCallback)(()=>{o()},[o]),A=y||m,S=!!(!C||!b||x||0===t.length||N||s);return(0,r.jsxs)(r.Fragment,{children:[A?(0,r.jsx)(D.Skeleton,{height:65,width:"100%"}):(0,r.jsx)(v.Input,{"aria-label":"Group Name",className:"w-full",disabled:!C,error:s,label:"Group Name",placeholder:"e.g. Main Website, Customer Portal",value:t,onChange:e=>M(e.target.value),onKeyDown:e=>{"Enter"!==e.key||S||k()}}),A||C?null:(0,r.jsx)(L.Note,{fill:!0,type:"secondary",children:"You do not have the required permission to create a microfrontends group."}),N,(0,r.jsx)(l.Tooltip,{disableTriggers:!S,className:"self-start",text:C?b?x?"You have reached the maximum number of microfrontends groups for this team":void 0:"Missing permission to add paid features":"Additional permissions are required",children:(0,r.jsx)($.Button,{disabled:S,onClick:k,className:"self-start",children:"Next"})}),a]})}function ex(e){let{selectedProjects:t,setSelectedProjects:n,defaultRoutes:o,setDefaultRoutes:s,onPreviousStep:i,onNextStep:a}=e,[c,d]=(0,g.useState)(null),[m,x]=(0,g.useState)(null),[f,j]=(0,g.useState)(!1),[y,b]=(0,g.useState)(null),{can:v}=(0,u.default)(),C=v(p.Action.Update,p.Resource.Project),{verifyMicrofrontendsAction:M,groupHasExceededMaxProjects:N}=(0,B.useMicrofrontendsBilling)({selectedProjectsCount:t.length}),k=M({action:"add-project",source:"add-microfrontends-project",closeMfeModal:void 0}),A=(0,g.useCallback)(e=>e?(e.microfrontends?.groupIds.length??0)>0?(d(`Projects can only be part of one microfrontends group. ${e.name} is already part of a microfrontends group.`),x(e),!1):t.some(r=>r.id===e.id)?(d(`${e.name} is already added to this group.`),x(e),!1):(d(null),x(null),b(e),j(!0),!0):(d(null),x(null),!0),[t,C,d,x,b,j]),P=0===t.length;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)(H.ProjectSelector,{disabled:!C||N,placeholder:"Search projects to add",selectedProject:m,onProjectSelected:A,errored:!!c}),c?(0,r.jsx)("span",{className:"text-sm text-red-900",children:c}):null,N?(0,r.jsx)("span",{className:"text-sm text-red-900",children:"You have reached the maximum number of projects for this group."}):null,C?null:(0,r.jsx)("span",{className:"text-sm text-red-900",children:"Additional permissions required to add projects to this group."})]}),(0,r.jsxs)("div",{children:[t.length>0?(0,r.jsx)(_,{selectedProjects:t,removeProject:e=>{n(r=>r.filter(r=>r.id!==e.id)),s(r=>{let{[e.id]:t,...n}=r;return n})},defaultRoutes:o}):null,0===t.length?(0,r.jsx)(F.EmptyState.Root,{className:"bg-background-200",description:"Projects will appear here once they have been selected and added.",icon:(0,r.jsx)(O.Microfrontends,{size:20}),title:"No projects have been added yet"}):null]}),k||(0,r.jsx)(es,{}),(0,r.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,r.jsx)($.Button,{onClick:i,type:"secondary",children:"Back"}),(0,r.jsx)(l.Tooltip,{disableTriggers:!P,text:"At least one project must be selected to continue",children:(0,r.jsx)($.Button,{disabled:P,onClick:a,children:"Next"})})]}),f?(0,r.jsx)(h.AddProjectToMfeGroupModal,{onClose:()=>{j(!1),b(null)},handleOnAddProject:(e,r)=>{e&&(n(r=>r.some(r=>r.id===e.id)?r:[...r,e]),s(t=>({...t,[e.id]:r.trim()})),j(!1))},project:y,selectedProjectsCount:t.length,overlayClassname:"z-[102] pointer-events-auto",overlayBackdropClassname:"z-[101]"}):null]})}function eh(e){let{defaultApp:t,onNextStep:n,onPreviousStep:o,selectedProjects:s,setDefaultApp:i,defaultRoutes:l}=e,a=0===s.length||!t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_,{defaultApp:t,selectedProjects:s,setDefaultApp:i,useRadioGroup:!0,defaultRoutes:l}),(0,r.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,r.jsx)($.Button,{onClick:o,type:"secondary",children:"Back"}),(0,r.jsx)($.Button,{disabled:a,onClick:n,children:"Next"})]})]})}function ef(e){let{defaultApp:t,groupName:n,onPreviousStep:o,selectedProjects:s,defaultRoutes:a,source:c}=e,[d,h]=(0,g.useState)(!1),{mutate:f}=(0,P.useMicrofrontendsGroups)(),{mutate:j}=(0,Q.useProject)(t?.id),{team:y,isLoading:b}=(0,N.useAccount)(),{can:v,isLoading:C}=(0,u.default)(),{teamHasUsedAllFreeProjects:M}=(0,B.useMicrofrontendsBilling)({selectedProjectsCount:s.length}),{track:k,isReady:A}=(0,m.useTrackActivity)(),w=!M||v(p.Action.Update,p.Resource.BillingPlan),T=v(p.Action.Update,p.Resource.TeamMicrofrontends),R=y?.id,I=y?.slug,F=(0,G.useRouter)(),L=b||C||d||!T||!w,D=s.filter(e=>e.id!==t?.id),U=(0,g.useCallback)(async()=>{if(t&&n&&R&&T){h(!0);try{await (0,X.createMicrofrontendsGroup)({groupName:n,defaultApp:{projectId:t.id,defaultRoute:a[t.id]||"/"},nonDefaultProjects:D.map(e=>({projectId:e.id,defaultRoute:a[e.id]})),teamId:R}),await Promise.all([f(),j()]),A&&k(x.VercelActivityAction.MicrofrontendsGroupCreated,{source:c});let e=(0,Z.getDashboardHref)(`/${t.name}/settings/microfrontends`,I);F.push(e)}catch(e){i.toasts.error((0,S.isError)(e)?e.message:"An unknown error occurred"),h(!1)}}},[T,t,a,n,A,f,D,F,R,I,k,j,c]);return n&&t?(0,r.jsxs)("div",{className:"flex flex-col gap-4 p-3 border border-gray-400 rounded-md bg-background-200",children:[(0,r.jsx)("span",{className:"font-medium",children:n}),(0,r.jsx)("div",{className:"flex flex-col gap-4",children:(0,r.jsx)(_,{defaultApp:t,selectedProjects:s.toSorted((e,r)=>e.id===t.id?-1:r.id===t.id?1:e.name.localeCompare(r.name)),defaultRoutes:a})}),(0,r.jsx)("div",{className:"px-2 py-3",children:(0,r.jsx)(B.MicrofrontendsBilling,{calculateTotal:!0,selectedProjectsCount:s.length})}),(0,r.jsxs)("div",{className:"flex flex-row flex-wrap gap-3",children:[(0,r.jsx)($.Button,{onClick:o,type:"secondary",children:"Back"}),(0,r.jsx)(l.Tooltip,{disableTriggers:!L,text:T?w?void 0:"Missing permission to add paid features":"Additional permissions are required",children:(0,r.jsx)($.Button,{disabled:L,onClick:()=>void U(),children:d?"Creating…":"Create Microfrontends Group"})})]})]}):(0,r.jsx)("span",{className:"text-sm text-red-900",children:"An unexpected error occurred."})}var eg=e.i(5838627),ej=e.i(1344973),ey=e.i(9668517),eb=e.i(8518548);function ev(e){let{config:t,extraReferences:n,missingReferences:o,onClose:s,projects:i,group:l,toggleAddingProject:a}=e;return(0,r.jsxs)(b.Modal.Modal,{active:!0,onClickOutside:s,width:720,children:[(0,r.jsx)(b.Modal.Body,{children:(0,r.jsx)(eM,{config:t,extraReferences:n,missingReferences:o,projects:i,group:l,onClose:s,toggleAddingProject:a})}),(0,r.jsx)(b.Modal.Actions,{className:"justify-end",children:(0,r.jsx)(b.Modal.Action,{onClick:s,children:"Done"})})]})}function eC(e){let{reference:t,onClose:n,toggleAddingProject:o}=e,{data:s}=(0,Q.useProject)(t.name);return(0,r.jsxs)("span",{className:"flex gap-2",children:[(0,r.jsxs)("span",{className:"flex items-center gap-2 font-medium",children:[s?(0,r.jsx)(W.ProjectAvatar,{project:s,size:20}):null,t.name]}),(0,r.jsx)($.Button,{type:"tertiary",size:"small",onClick:()=>{o(s),n()},children:"Add to group"})]},`missing-references-${t.name}`)}function eM(e){let{config:t,extraReferences:n,missingReferences:o,group:s,projects:i,onClose:l,toggleAddingProject:a}=e,c=(0,ey.useTeamSlug)(),{defaultProject:d,otherProjects:u}=(0,w.partitionMicrofrontendsProjects)(i),{domain:p}=(0,eb.useBestProductionDomain)(d?.id);if(!d||!c)return null;let m=d.rootDirectory?`${d.rootDirectory}/microfrontends.json`:"microfrontends.json";if(!t){let e=(0,w.getSuggestedMicrofrontendsConfig)(d,u,p?.name);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Modal.Header,{children:(0,r.jsx)(b.Modal.Title,{children:"Create Your Config"})}),(0,r.jsxs)(y.Stack,{direction:"column",gap:4,children:[(0,r.jsxs)(ej.Text,{children:["The latest production deployment for"," ",(0,r.jsx)(ee.Link,{href:`/${c}/${d.name}`,variant:"underline",children:d.name})," ","does not yet have a"," ",(0,r.jsx)("pre",{className:"inline",children:"microfrontends.json"})," configuration file. Until a config file is added, deployments will work like any regular project, not as part of a Microfrontends group. If the file already exists, redeploy the project to upload it."]}),(0,r.jsxs)(ej.Text,{children:["Add your ",(0,r.jsx)("pre",{className:"inline",children:"microfrontends.json"})," ","configuration file to the root of your default project",d.rootDirectory?(0,r.jsxs)(r.Fragment,{children:[" ","(",(0,r.jsx)("pre",{className:"inline",children:m}),")"," "]}):"",". See the"," ",(0,r.jsx)(ee.Link,{href:"/docs/microfrontends/quickstart#define-microfrontends.json",external:!0,tab:!0,variant:"highlight",children:"docs"})," ","for details on how to define your routes."]}),(0,r.jsx)(eg.CodeBlock,{filename:m,language:"json",className:"m-0",children:e})]})]})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Modal.Header,{children:(0,r.jsx)(b.Modal.Title,{children:"Update Your Config"})}),(0,r.jsxs)(y.Stack,{direction:"column",gap:4,children:[o.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ej.Text,{color:"gray-900",lineHeight:24,children:["The latest production deployment for"," ",(0,r.jsxs)(ej.Text,{color:"gray-1000",as:"span",children:[(0,r.jsx)(ee.Link,{href:`/${c}/${d.name}`,variant:"underline",children:d.name})," "]})," ","does not include configuration for all projects in the microfrontends group"," ",(0,r.jsx)(ej.Text,{color:"gray-1000",as:"span",children:(0,r.jsx)(ee.Link,{href:`/${c}/${d.name}/settings/microfrontends`,variant:"underline",children:s.name})}),". Add the missing application",o.length>1?"s":""," to your"," ",(0,r.jsx)("pre",{className:"inline",children:"microfrontends.json"}),", or remove the project",o.length>1?"s":""," from the group:"]}),(0,r.jsx)(eg.CodeBlock,{language:"json",hideLineNumbers:!0,className:"m-0",children:(0,w.postprocessConfig)(JSON.stringify({applications:o.map(e=>({[e.name]:"microfrontends"in e&&{routing:[{paths:[]}]}}))},null,2))})]}):null,n.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ej.Text,{color:"gray-900",lineHeight:24,children:[n.length>1?"Applications definitions ":"An application definition ",n.length>1?"were":"was"," found in your"," ",(0,r.jsx)("pre",{className:"inline",children:"microfrontends.json"})," that"," ",n.length>1?"are":"is"," not a project in the microfrontends group"," ",(0,r.jsx)(ej.Text,{color:"gray-1000",as:"span",children:(0,r.jsx)(ee.Link,{href:`/${c}/${d.name}/settings/microfrontends`,variant:"underline",children:s.name})}),":"]}),(0,r.jsx)(y.Stack,{gap:4,children:n.map(e=>(0,r.jsx)(eC,{reference:e,toggleAddingProject:a,onClose:l},`extra-reference-${e.name}`))}),(0,r.jsxs)(ej.Text,{color:"gray-900",children:["Note: application names in the"," ",(0,r.jsx)("pre",{className:"inline",children:"microfrontends.json"})," must match the Vercel project name."]})]}):null]})]})}var eN=e.i(3089600);function ek(e){let{microfrontendsGroup:t,mutateMicrofrontendsGroups:n,mutateProject:o}=e,{projects:s,group:l,config:a}=t||{},c=(0,G.useRouter)(),y=(0,R.useTeamSlug)(),{track:b,isReady:v}=(0,m.useTrackActivity)(),[C,M]=(0,g.useState)();(0,eN.default)("source",e=>{M(e)});let[N,k]=(0,g.useState)(!1),A=(0,g.useCallback)(()=>k(e=>!e),[k]),[P,S]=(0,g.useState)(!1),I=(0,g.useCallback)(e=>{S(r=>(v&&!r&&b(x.VercelActivityAction.MicrofrontendsAddProjectModalOpened,{source:C}),"object"==typeof e&&"id"in e&&"name"in e?e:!r))},[v,b,S,C]),[$,F]=(0,g.useState)(null),[L,D]=(0,g.useState)(!1),U=(0,g.useCallback)(()=>D(e=>!e),[D]),[E,z]=(0,g.useState)(!1),O=(0,g.useCallback)(()=>{z(e=>!e)},[z]),[H,q]=(0,g.useState)(!1),V=(0,g.useCallback)(()=>{q(e=>(v&&!e&&b(x.VercelActivityAction.CreateMicrofrontendsGroupModalOpened,{source:C}),!e))},[v,b,q,C]),{can:Y}=(0,u.default)(),K=Y(p.Action.Delete,p.Resource.TeamMicrofrontends),{teamHasUsedAllFreeProjects:W}=(0,B.useMicrofrontendsBilling)({groupId:l?.id}),J=!W||Y(p.Action.Update,p.Resource.BillingPlan),_=Y(p.Action.Update,p.Resource.TeamMicrofrontends),Q=(0,g.useCallback)(e=>{(0,d.copyToClipboard)(e),i.toasts.success("Copied to clipboard!")},[]),X=`/${y}/~/settings/microfrontends`,{missingReferences:Z,extraReferences:ee}=(0,w.partitionConfigReferencedProjects)(a,s),er=()=>{l&&Q(l.id)},et=()=>{l&&Q(l.slug)};return{toggleAddingProject:I,setIsRemovingProject:F,toggleEditingName:U,toggleDeletingGroup:A,copyGroupId:er,copyGroupSlug:et,toggleCreateMicrofrontend:V,isShowingHelpModal:E,toggleHelpModal:Z.length>0||ee.length>0?O:void 0,ManageMicrofrontendsMenu:eA({toggleAddingProject:I,toggleEditingName:U,toggleDeletingGroup:A,canUpdateMicrofrontendsGroup:_,canAddPaidMfeProject:J,canDeleteMicrofrontendsGroup:K,copyGroupId:er,copyGroupSlug:et}),manageMicrofrontendsModals:(0,r.jsxs)(r.Fragment,{children:[L&&l?(0,r.jsx)(T,{group:l,onClose:U,onUpdate:e=>{c.push(e)}}):null,N&&l?(0,r.jsx)(j.DeleteMicrofrontendsGroupModal,{group:l,onClose:A,onDelete:()=>{c.push(X)}}):null,P?(0,r.jsx)(h.AddProjectToMfeGroupModal,{microfrontendsGroup:t,onClose:I,project:"object"==typeof P?P:void 0,onSuccess:async()=>{await Promise.all([n?.(),o?.()].filter(Boolean))}}):null,$&&l?(0,r.jsx)(f.RemoveFromGroupModal,{project:$,group:l,onClose:()=>F(null),config:a||null,onSuccess:async()=>{await Promise.all([n?.(),o?.()].filter(Boolean))}}):null,E&&s&&l?(0,r.jsx)(ev,{config:a,extraReferences:ee,missingReferences:Z,onClose:O,projects:s,group:l,toggleAddingProject:I}):null,H?(0,r.jsx)(eu,{source:C,onClose:()=>q(!1)}):null]})}}let eA=e=>{let{toggleAddingProject:n,toggleEditingName:i,toggleDeletingGroup:l,canUpdateMicrofrontendsGroup:a,canAddPaidMfeProject:c,canDeleteMicrofrontendsGroup:d,copyGroupId:u,copyGroupSlug:p}=e;return function(e){let{hideAddProject:m,...x}=e;return(0,r.jsxs)(o.MenuContainer,{children:[(0,r.jsx)(eT,{...x}),(0,r.jsxs)(t.Menu,{width:200,children:[m?null:(0,r.jsx)(eP,{onClick:n,canAddPaidMfeProject:c,canUpdateMicrofrontendsGroup:a}),(0,r.jsx)(s.MenuItem,{onClick:u,children:"Copy Group ID"}),(0,r.jsx)(s.MenuItem,{onClick:p,children:"Copy Group Slug"}),(0,r.jsx)(eS,{canUpdateMicrofrontendsGroup:a,onClick:i}),(0,r.jsx)(ew,{canDeleteMicrofrontendsGroup:d,onClick:l})]})]})}};function eP(e){let{onClick:t,canUpdateMicrofrontendsGroup:n,canAddPaidMfeProject:o}=e;return n?o?(0,r.jsx)(s.MenuItem,{onClick:t,children:"Add Project"}):(0,r.jsx)(l.Tooltip,{text:"Missing permission to add paid features",children:(0,r.jsx)(a.MenuItemLocked,{children:"Add Project"})}):(0,r.jsx)(l.Tooltip,{text:"Additional permissions required",children:(0,r.jsx)(a.MenuItemLocked,{children:"Add Project"})})}function eS(e){let{canUpdateMicrofrontendsGroup:t,onClick:n}=e;return t?(0,r.jsx)(s.MenuItem,{onClick:n,children:"Rename Group"}):(0,r.jsx)(l.Tooltip,{text:"Additional permissions required",children:(0,r.jsx)(a.MenuItemLocked,{children:"Rename Group"})})}function ew(e){let{canDeleteMicrofrontendsGroup:t,onClick:n}=e;return t?(0,r.jsx)(s.MenuItem,{onClick:n,type:"error",children:"Delete Group"}):(0,r.jsx)(l.Tooltip,{text:"Additional permissions required",children:(0,r.jsx)(a.MenuItemLocked,{children:"Delete Group"})})}function eT(e){let{disabled:t,type:o="tertiary",size:s="small"}=e;return(0,r.jsx)(n.MenuButton,{"aria-label":"Menu",shape:"square",size:s,svgOnly:!0,type:o,disabled:t,children:(0,r.jsx)(c.MoreHorizontal,{})})}e.s(["useMicrofrontendsGroupActions",()=>ek],7206786)}]);

//# sourceMappingURL=7de91360971502ef.js.map
//# debugId=5c8461ba-0172-59be-8cb7-07fbe89447d0
