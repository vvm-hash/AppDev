
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f0bf1650-bb5b-53d4-8fe8-b1b6943be2de")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7886235,e=>{e.v({checked:"toggle-module__fUrgQa__checked",disabled:"toggle-module__fUrgQa__disabled",input:"toggle-module__fUrgQa__input "+e.i(5472387).visuallyHidden,large:"toggle-module__fUrgQa__large",medium:"toggle-module__fUrgQa__medium",noMargin:"toggle-module__fUrgQa__noMargin",switchFirst:"toggle-module__fUrgQa__switchFirst",thumb:"toggle-module__fUrgQa__thumb",thumbIcon:"toggle-module__fUrgQa__thumbIcon",titleCasing:"toggle-module__fUrgQa__titleCasing",toggle:"toggle-module__fUrgQa__toggle",wrapper:"toggle-module__fUrgQa__wrapper"})},1906681,e=>{"use strict";var t=e.i(6468255),n=e.i(6696646),r=e.i(9722978),a=e.i(4004502),o=e.i(9544652),i=e.i(7886235);let s={amber:{background:"--ds-amber-700",foreground:"--ds-amber-100",lightModeForeground:"--ds-amber-1000",checkedBackground:"--ds-gray-100"},"amber-inverted":{background:"--ds-gray-100",foreground:"--ds-gray-100",lightModeForeground:"--ds-amber-1000",checkedBackground:"--ds-amber-700"},"amber-track-only":{background:"--ds-amber-700",foreground:"--ds-black",lightModeForeground:"--ds-black",checkedBackground:"--ds-gray-100"},red:{background:"--ds-red-600",foreground:"--ds-red-100",lightModeForeground:"--ds-red-1000",checkedBackground:"--ds-gray-100"}},u=e=>{let{className:u,children:l,size:c,disabled:d,name:p,checked:m,onChange:g,onClick:f,onBlur:h,onFocus:b,onKeyDown:y,noMargin:v,direction:C="label-first",labelCasing:S="title",stopPropagation:x=!1,icon:w,color:k,...E}=e,j=(0,o.useDisabled)()||d,_=(0,n.useCallback)(e=>{!j&&g&&(x&&e.stopPropagation(),g(!m))},[m,g,j,x]),N={...E.style};if(k){let e=s[k];N["--unchecked-bg-color-override"]=`var(${e.background})`,N["--checked-bg-color-override"]=`var(${e.checkedBackground})`,N["--thumb-fg-color-override"]=`var(${e.foreground})`,e.lightModeForeground&&(N["--thumb-light-fg-color-override"]=`var(${e.lightModeForeground})`)}return(0,t.jsxs)("label",{className:(0,r.clsx)(i.default.wrapper,u,{[String(i.default.large)]:"large"===c,[String(i.default.medium)]:"medium"===c,[String(i.default.switchFirst)]:"switch-first"===C,[String(i.default.titleCasing)]:"title"===S}),"data-version":"v1",...E,style:N,children:[l?(0,t.jsx)("span",{children:l}):null,(0,t.jsx)("input",{checked:m,className:(0,r.clsx)(i.default.input,"group"),"data-testid":(0,a.tid)(E["data-testid"]??"toggle","input"),disabled:j,name:p,onBlur:h,onChange:_,onClick:f,onFocus:b,onKeyDown:e=>{"Enter"===e.key&&_(e),y?.(e)},type:"checkbox"}),(0,t.jsx)("span",{className:(0,r.clsx)(i.default.toggle,{[String(i.default.checked)]:m,[String(i.default.disabled)]:j,[String(i.default.noMargin)]:v},""),children:(0,t.jsx)("div",{className:(0,r.clsx)(i.default.thumb,{[String(i.default.checked)]:m}),children:w?(0,t.jsxs)("div",{"aria-hidden":!0,className:(0,r.clsx)({[String(i.default.checked)]:m,[String(i.default.thumbIcon)]:!j},"flex justify-center items-center w-full h-full",j?"text-gray-700":"text-gray-900 dark:text-background-100"),children:[m?w.checked:null,m?null:w.unchecked]}):null})})]})};e.s(["Toggle",()=>u])},1246255,7239573,e=>{"use strict";var t=e.i(1511518),n=e.i(516467);function r(e,r,a){let o=(0,n.toDate)(e,a?.in);return o.setTime(o.getTime()+r*t.millisecondsInMinute),o}function a(e,t,n){return r(e,-t,n)}e.s(["addMinutes",()=>r],7239573),e.s(["subMinutes",()=>a],1246255)},5481907,e=>{"use strict";var t=e.i(6696646),n=e.i(3911483),r=e.i(277234),a=e.i(4244280),o=e.i(1233856),i=e.i(3737038),s=e.i(1511518),u=e.i(1667062),l=e.i(7239573),c=e.i(6092370),d=e.i(268049),p=e.i(1246255),m=e.i(818351),g=e.i(9667097),f=e.i(2749380),h=e.i(5297450),b=e.i(8151845),y=e.i(4337458),v=e.i(9100551),C=e.i(9486194),S=e.i(8690335),x=e.i(1813317),w=e.i(5269510);let k=e=>(n,r,a)=>{let o=(0,t.useRef)(void 0),i=e(n,r,a);(0,t.useEffect)(()=>{void 0!==i.data&&Array.isArray(n)&&n[1]&&(o.current=i.data)},[i.data,n]);let s=(0,t.useCallback)(()=>{o.current=void 0},[]);Array.isArray(n)&&!n[1]&&(o.current=void 0);let u=void 0===i.data?o.current:i.data,l=void 0===i.data&&void 0!==o.current;return Object.assign(i,{currentData:u,isLagging:l,resetLaggy:s})};function E(e,n){let r,a=(0,t.useMemo)(()=>{if(e)return{...e}},[e]),p=(r=(0,v.useSearchParams)(),(0,t.useCallback)(e=>{let{rollups:t,by:n,event:a,filter:o}=e;if(!t||!a||!C.queryBuilderEvents.includes(a))return;let i=(0,x.getGroupableDimensions)(a);if(o&&(0,S.parseFilters)(o).some(e=>!i.includes(e.dimension)))return;n=n?.filter(e=>i.includes(e));let s=r?.get("period"),u=r?.get("from"),l=r?.get("to"),c=u&&l?{from:new Date(1e3*Number(u)),to:new Date(1e3*Number(l))}:s;return Object.entries(t).reduce((e,t)=>{let[r,i]=t,{measure:s,aggregation:u}=i;return e[r]={metric:`${a}.${s}`,by:n||[],filter:o||"",aggregation:u,time:c||""},e},{})},[r])),{start:w,end:k,isRelativeTime:E}=(0,b.useRangeFromQueryState)(),[{environment:j}]=(0,b.useSonarQueryState)(),_=(0,y.useSonarQueryScopeWithSlug)(),N=(0,y.useSonarQueryScope)(),A=(0,h.useShouldShowDemoData)();if(a&&!a.scope&&(a.scope=_),a){let e=a.startTime||w,t=a.endTime||k;a.granularity=a.granularity||(0,f.getGranularityFromDuration)(Math.round(t.getTime()-e.getTime()),a.lowGranularity),a.startTime=(0,o.startOfDuration)(a.startTime||e,a.granularity),a.endTime=(0,o.endOfDuration)(a.endTime||t,a.granularity)}a&&!a.reason&&(a.reason="observability_chart");let T=n?.noEnvironmentFilter===!0,M=n?.builderQueryFilter||a?.filter;if(a&&"all"!==j&&!T&&(a.filter=(0,c.andFilterStrings)(`environment eq '${j}'`,a.filter),M=(0,c.andFilterStrings)(`environment eq '${j}'`,M)),a&&(a.filter=(0,c.andFilterStrings)(a.filter,(0,c.serializeObjectFilter)(a.contextFilter)),M=(0,c.andFilterStrings)(M,(0,c.serializeObjectFilter)(a.contextFilter)),N?.type==="project"&&(M=(0,c.andFilterStrings)(`projectId eq '${N.projectIds[0]}'`,M)),n?.useQueryCache))try{{let e=new URLSearchParams(window.location.search).get("queryId");e&&(a.queryId=e)}}catch{}let R=p({event:a?.event,rollups:a?.rollups,by:a?.groupBy?.filter(e=>"projectName"!==e),filter:M}),I=a?.granularity&&E?(0,d.milliseconds)(a.granularity):0,O=!!((n?.showDemoData||A)&&n?.demoConfig),F=(0,t.useMemo)(()=>!a||O?null:JSON.stringify(a),[a,O]),{isLoading:D,...P}=(0,m.useIsomorphicSWR)(F,async()=>{if(a?.scope)return(0,g.getSonarData)(a)},{refreshInterval:n?.disableRefetch===!0?0:I,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateIfStale:!1,keepPreviousData:!0,errorRetryCount:0,ssr:{timeout:4e3}}),L=(n?.showDemoData||A)&&n?.demoConfig&&a?JSON.stringify({event:a.event,by:a.groupBy,rollups:a.rollups,durationMs:a.endTime&&a.startTime?a.endTime.getTime()-a.startTime.getTime():0,granularity:a.granularity}):null,U=(0,t.useMemo)(()=>{if(L&&n?.demoConfig)return function(e,t){let n,{startTime:r,endTime:a,granularity:o,groupBy:c=[]}=e,d=(n=(0,u.differenceInMilliseconds)(a,r)/s.millisecondsInMinute,(0,i.getRoundingMethod)(void 0)(n)),p=o.minutes||15,m=Math.ceil(d/p/("lowGranularity"in e?4:1)),g=[],f=[],h=Object.keys(t.rollups),b=0,y=e=>!!e&&"object"==typeof e&&"base"in e&&"variation"in e&&"number"==typeof e.base&&"number"==typeof e.variation,v=(e=>{if(0===e.length)return[{}];let n=[{}];for(let r of e){let e=[];if(t.groupValues?.[r])e=t.groupValues[r];else{let n=new Set;for(let e of Object.values(t.rollups))if(!y(e)&&e.groupConfigs){let t=e.groupConfigs;t[r]&&Object.keys(t[r]).forEach(e=>{n.add(e)})}e=Array.from(n)}if(0===e.length)throw Error(`No values found for group field "${r}". Please provide groupValues or groupConfigs for this field.`);let a=[];for(let t of n)for(let n of e)a.push({...t,[r]:n});n=a}return n})(c),C=e.rollups;for(let e of v){let n={...e},a={};for(let n=0;n<m;n++){let o=(0,l.addMinutes)(r,n*p),i={timestamp:o,...e};for(let n of h){let r,s=t.rollups[n],u=C[n];if(void 0===s)continue;if(y(s))r=s;else for(let[t,n]of(r=s.defaultConfig,Object.entries(e)))if(s.groupConfigs?.[t]?.[n]){r=s.groupConfigs[t][n];break}let{base:l=0,variation:c=0,diurnalPattern:d=!1}=r,p=l+(Math.random()-.5)*c;d&&(p*=1+.3*Math.sin(o.getHours()/24*Math.PI*2)),r.allowNegative||(p=Math.max(0,p));let m=u?.aggregation;"sum"===m?p=Math.round(p):"avg"===m||("p75"===m?p+=Math.random()*c*.5:p=Math.round(p)),i[n]=p,a[n]||(a[n]=[]),a[n].push(p),b+=p}g.push(i)}for(let e of h){let t=a[e],r=C[e],o=r?.aggregation,i=null;if(t&&0!==t.length)switch(o){case"avg":i=t.reduce((e,t)=>e+t,0)/t.length;break;case"p75":{t.sort((e,t)=>e-t);let e=Math.floor(.75*(t.length-1));i=t[e]||0;break}default:i=t.reduce((e,t)=>e+t,0)}else i=null;n[e]=i||0}f.push(n)}return{data:e.summaryOnly?void 0:g,query:e,summary:f,statistics:{rowsRead:b,bytesRead:46*b,dbTimeSeconds:.1+.1*Math.random(),engineTimeSeconds:.1+.1*Math.random(),queryTable:"demo"}}}(a,n.demoConfig)},[L]);return U?{...P,isRelativeTime:!0,data:U,isLoading:!1}:{...P,builderQuery:R,isRelativeTime:E,isLoading:D||P.isValidating||!a?.scope}}function j(e,t){let r=(0,y.useSonarQueryScope)();return e&&!e.scope&&(e.scope=r),(0,n.default)(e?[e,t]:null,async e=>{let[n]=e;if(t){let e=new Date,t=(0,o.endOfDuration)((0,p.subMinutes)(e,1),{seconds:10});n.startTime=(0,o.startOfDuration)(new Date(e.getTime()-6e5),{seconds:10}),n.endTime=t}if(n.scope)return(0,g.getSonarData)(n)},{refreshInterval:e?.granularity&&t?(0,d.milliseconds)({seconds:8}):0,revalidateOnFocus:!1,revalidateOnReconnect:!1,use:[k],onErrorRetry:(e,t,n,r,a)=>{let{retryCount:o}=a;401===e.status||403===e.status||o>=3||setTimeout(()=>void r({retryCount:o}),2500)}})}function _(){let e=(0,b.useRangeFromQueryState)(),t=(0,y.useSonarQueryScope)(),[{environment:i}]=(0,b.useSonarQueryState)(),s={minutes:15},u={from:(0,o.startOfDuration)(e.start,s),to:(0,o.endOfDuration)(e.end,s),scope:t,environment:i};return{isRelativeTime:e.isRelativeTime,...(0,n.default)(u,async e=>{if(e.scope)return await (0,r.fetchAPI)(`${a.API_OBSERVABILITY_BUILD_DIAGNOSTICS}?${(0,w.stringify)((0,g.getSonarTeamParam)(e.scope))}`,{method:"POST",body:JSON.stringify(e),throwOnHTTPError:!0})},{refreshInterval:0,revalidateOnFocus:!1,revalidateOnReconnect:!1})}}e.s(["useBuildDiagnostics",()=>_,"useSonarLiveQuery",()=>j,"useSonarQuery",()=>E],5481907)},1136434,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M12.0607 6.74999L11.5303 7.28032L8.7071 10.1035C8.31657 10.4941 7.68341 10.4941 7.29288 10.1035L4.46966 7.28032L3.93933 6.74999L4.99999 5.68933L5.53032 6.21966L7.99999 8.68933L10.4697 6.21966L11 5.68933L12.0607 6.74999Z" fill="currentColor"/>');e.s(["ChevronDownSmall",0,t])},8250954,e=>{"use strict";var t=e.i(9487122);function n(e){return(0,t.constructFrom)(e,Date.now())}e.s(["constructNow",()=>n])},2812875,e=>{"use strict";var t=e.i(4495794);function n(e,n,r){return(0,t.addMonths)(e,-n,r)}e.s(["subMonths",()=>n])},8355955,e=>{e.v({previous:"Previous",next:"Next",selectedDateDescription:"Selected Date: {date, date, full}",selectedRangeDescription:"Selected Range: {start, date, long} to {end, date, long}",todayDate:"Today, {date, date, full}",todayDateSelected:"Today, {date, date, full} selected",dateSelected:"{date, date, full} selected",startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range"})},6995468,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 0.5V1.25V2H10.5V1.25V0.5H12V1.25V2H14H15.5V3.5V13.5C15.5 14.8807 14.3807 16 13 16H3C1.61929 16 0.5 14.8807 0.5 13.5V3.5V2H2H4V1.25V0.5H5.5ZM2 3.5H14V6H2V3.5ZM2 7.5V13.5C2 14.0523 2.44772 14.5 3 14.5H13C13.5523 14.5 14 14.0523 14 13.5V7.5H2Z" fill="currentColor"/>');e.s(["Calendar",0,t])},1019550,(e,t,n)=>{var r=e.r(9225935),a=e.r(1716110),o=e.r(5697125),i=Math.ceil,s=Math.max;t.exports=function(e,t,n){t=(n?a(e,t,n):void 0===t)?1:s(o(t),0);var u=null==e?0:e.length;if(!u||t<1)return[];for(var l=0,c=0,d=Array(i(u/t));l<u;)d[c++]=r(e,l,l+=t);return d}},4498440,e=>{"use strict";var t,n=e.i(6696646);function r(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var a=e.i(7430406),o=e.i(7079014),i=e.i(1315599),s=e.i(4393136),u=e.i(3222420),l=e.i(4938657),c=e.i(237982),d=e.i(6468255),p="dismissableLayer.update",m=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),g=n.forwardRef((e,o)=>{let{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:s,onPointerDownOutside:g,onFocusOutside:b,onInteractOutside:y,onDismiss:v,...C}=e,S=n.useContext(m),[x,w]=n.useState(null),k=x?.ownerDocument??globalThis?.document,[,E]=n.useState({}),j=(0,a.useComposedRefs)(o,e=>w(e)),_=Array.from(S.layers),[N]=[...S.layersWithOutsidePointerEventsDisabled].slice(-1),A=_.indexOf(N),T=x?_.indexOf(x):-1,M=S.layersWithOutsidePointerEventsDisabled.size>0,R=T>=A,I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document,r=(0,l.useCallbackRef)(e),a=n.useRef(!1),o=n.useRef(()=>{});return n.useEffect(()=>{let e=e=>{if(e.target&&!a.current){let n=function(){h("dismissableLayer.pointerDownOutside",r,a,{discrete:!0})},a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",o.current),o.current=n,t.addEventListener("click",o.current,{once:!0})):n()}else t.removeEventListener("click",o.current);a.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}(e=>{let t=e.target,n=[...S.branches].some(e=>e.contains(t));R&&!n&&(g?.(e),y?.(e),e.defaultPrevented||v?.())},k),O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document,r=(0,l.useCallbackRef)(e),a=n.useRef(!1);return n.useEffect(()=>{let e=e=>{e.target&&!a.current&&h("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{let t=e.target;![...S.branches].some(e=>e.contains(t))&&(b?.(e),y?.(e),e.defaultPrevented||v?.())},k);return(0,c.useEscapeKeydown)(e=>{T===S.layers.size-1&&(s?.(e),!e.defaultPrevented&&v&&(e.preventDefault(),v()))},k),n.useEffect(()=>{if(x)return i&&(0===S.layersWithOutsidePointerEventsDisabled.size&&(t=k.body.style.pointerEvents,k.body.style.pointerEvents="none"),S.layersWithOutsidePointerEventsDisabled.add(x)),S.layers.add(x),f(),()=>{i&&1===S.layersWithOutsidePointerEventsDisabled.size&&(k.body.style.pointerEvents=t)}},[x,k,i,S]),n.useEffect(()=>()=>{x&&(S.layers.delete(x),S.layersWithOutsidePointerEventsDisabled.delete(x),f())},[x,S]),n.useEffect(()=>{let e=()=>E({});return document.addEventListener(p,e),()=>document.removeEventListener(p,e)},[]),(0,d.jsx)(u.Primitive.div,{...C,ref:j,style:{pointerEvents:M?R?"auto":"none":void 0,...e.style},onFocusCapture:r(e.onFocusCapture,O.onFocusCapture),onBlurCapture:r(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:r(e.onPointerDownCapture,I.onPointerDownCapture)})});function f(){let e=new CustomEvent(p);document.dispatchEvent(e)}function h(e,t,n,r){let{discrete:a}=r,o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),a?(0,u.dispatchDiscreteCustomEvent)(o,i):o.dispatchEvent(i)}g.displayName="DismissableLayer",n.forwardRef((e,t)=>{let r=n.useContext(m),o=n.useRef(null),i=(0,a.useComposedRefs)(t,o);return n.useEffect(()=>{let e=o.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,d.jsx)(u.Primitive.div,{...e,ref:i})}).displayName="DismissableLayerBranch";var b=e.i(1004168),y=e.i(9771370),v=e.i(943988),C=e=>{var t;let r,o,{present:i,children:s}=e,u=function(e){var t,r;let[a,o]=n.useState(),i=n.useRef(null),s=n.useRef(e),u=n.useRef("none"),[l,c]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>r[e][t]??e,t));return n.useEffect(()=>{let e=S(i.current);u.current="mounted"===l?e:"none"},[l]),(0,v.useLayoutEffect)(()=>{let t=i.current,n=s.current;if(n!==e){let r=u.current,a=S(t);e?c("MOUNT"):"none"===a||t?.display==="none"?c("UNMOUNT"):n&&r!==a?c("ANIMATION_OUT"):c("UNMOUNT"),s.current=e}},[e,c]),(0,v.useLayoutEffect)(()=>{if(a){let e,t=a.ownerDocument.defaultView??window,n=n=>{let r=S(i.current).includes(CSS.escape(n.animationName));if(n.target===a&&r&&(c("ANIMATION_END"),!s.current)){let n=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=n)})}},r=e=>{e.target===a&&(u.current=S(i.current))};return a.addEventListener("animationstart",r),a.addEventListener("animationcancel",n),a.addEventListener("animationend",n),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",r),a.removeEventListener("animationcancel",n),a.removeEventListener("animationend",n)}}c("ANIMATION_END")},[a,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:n.useCallback(e=>{i.current=e?getComputedStyle(e):null,o(e)},[])}}(i),l="function"==typeof s?s({present:u.isPresent}):n.Children.only(s),c=(0,a.useComposedRefs)(u.ref,(t=l,(o=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(o=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof s||u.isPresent?n.cloneElement(l,{ref:c}):null};function S(e){return e?.animationName||"none"}C.displayName="Presence";var x=0;function w(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var k=e.i(5097496),E=e.i(73772),j=e.i(8665489),_="Dialog",[N,A]=(0,o.createContextScope)(_),[T,M]=N(_),R=e=>{let{__scopeDialog:t,children:r,open:a,defaultOpen:o,onOpenChange:u,modal:l=!0}=e,c=n.useRef(null),p=n.useRef(null),[m,g]=(0,s.useControllableState)({prop:a,defaultProp:o??!1,onChange:u,caller:_});return(0,d.jsx)(T,{scope:t,triggerRef:c,contentRef:p,contentId:(0,i.useId)(),titleId:(0,i.useId)(),descriptionId:(0,i.useId)(),open:m,onOpenChange:g,onOpenToggle:n.useCallback(()=>g(e=>!e),[g]),modal:l,children:r})};R.displayName=_;var I="DialogTrigger",O=n.forwardRef((e,t)=>{let{__scopeDialog:n,...o}=e,i=M(I,n),s=(0,a.useComposedRefs)(t,i.triggerRef);return(0,d.jsx)(u.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ee(i.open),...o,ref:s,onClick:r(e.onClick,i.onOpenToggle)})});O.displayName=I;var F="DialogPortal",[D,P]=N(F,{forceMount:void 0}),L=e=>{let{__scopeDialog:t,forceMount:r,children:a,container:o}=e,i=M(F,t);return(0,d.jsx)(D,{scope:t,forceMount:r,children:n.Children.map(a,e=>(0,d.jsx)(C,{present:r||i.open,children:(0,d.jsx)(y.Portal,{asChild:!0,container:o,children:e})}))})};L.displayName=F;var U="DialogOverlay",B=n.forwardRef((e,t)=>{let n=P(U,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=M(U,e.__scopeDialog);return o.modal?(0,d.jsx)(C,{present:r||o.open,children:(0,d.jsx)($,{...a,ref:t})}):null});B.displayName=U;var V=(0,j.createSlot)("DialogOverlay.RemoveScroll"),$=n.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=M(U,n);return(0,d.jsx)(k.RemoveScroll,{as:V,allowPinchZoom:!0,shards:[a.contentRef],children:(0,d.jsx)(u.Primitive.div,{"data-state":ee(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),H="DialogContent",G=n.forwardRef((e,t)=>{let n=P(H,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=M(H,e.__scopeDialog);return(0,d.jsx)(C,{present:r||o.open,children:o.modal?(0,d.jsx)(z,{...a,ref:t}):(0,d.jsx)(W,{...a,ref:t})})});G.displayName=H;var z=n.forwardRef((e,t)=>{let o=M(H,e.__scopeDialog),i=n.useRef(null),s=(0,a.useComposedRefs)(t,o.contentRef,i);return n.useEffect(()=>{let e=i.current;if(e)return(0,E.hideOthers)(e)},[]),(0,d.jsx)(Z,{...e,ref:s,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:r(e.onCloseAutoFocus,e=>{e.preventDefault(),o.triggerRef.current?.focus()}),onPointerDownOutside:r(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:r(e.onFocusOutside,e=>e.preventDefault())})}),W=n.forwardRef((e,t)=>{let r=M(H,e.__scopeDialog),a=n.useRef(!1),o=n.useRef(!1);return(0,d.jsx)(Z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||r.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),Z=n.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,...u}=e,l=M(H,r),c=n.useRef(null),p=(0,a.useComposedRefs)(t,c);return n.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??w()),document.body.insertAdjacentElement("beforeend",e[1]??w()),x++,()=>{1===x&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),x--}},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(b.FocusScope,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:s,children:(0,d.jsx)(g,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ee(l.open),...u,ref:p,onDismiss:()=>l.onOpenChange(!1)})}),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ea,{titleId:l.titleId}),(0,d.jsx)(eo,{contentRef:c,descriptionId:l.descriptionId})]})]})}),q="DialogTitle",Q=n.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=M(q,n);return(0,d.jsx)(u.Primitive.h2,{id:a.titleId,...r,ref:t})});Q.displayName=q;var Y="DialogDescription",K=n.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,a=M(Y,n);return(0,d.jsx)(u.Primitive.p,{id:a.descriptionId,...r,ref:t})});K.displayName=Y;var J="DialogClose",X=n.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,o=M(J,n);return(0,d.jsx)(u.Primitive.button,{type:"button",...a,ref:t,onClick:r(e.onClick,()=>o.onOpenChange(!1))})});function ee(e){return e?"open":"closed"}X.displayName=J;var et="DialogTitleWarning",[en,er]=(0,o.createContext)(et,{contentName:H,titleName:q,docsSlug:"dialog"}),ea=e=>{let{titleId:t}=e,r=er(et),a=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return n.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},eo=e=>{let{contentRef:t,descriptionId:r}=e,a=er("DialogDescriptionWarning"),o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return n.useEffect(()=>{let e=t.current?.getAttribute("aria-describedby");r&&e&&(document.getElementById(r)||console.warn(o))},[o,t,r]),null};e.s(["Close",()=>X,"Content",()=>G,"Description",()=>K,"Overlay",()=>B,"Portal",()=>L,"Root",()=>R,"Title",()=>Q,"Trigger",()=>O],4498440)},8852425,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 1L16 15H0L8 1Z" fill="currentColor"/>');e.s(["LogoVercel",0,t])},6498592,(e,t,n)=>{let r=[{source:"/templates/next.js/microfrontends",destination:"/docs/microfrontends",permanent:!1},{source:"/space",destination:"/spaces",permanent:!0},{source:"/documentation",permanent:!0,destination:"/docs"},{source:"/support/articles",permanent:!1,destination:"/guides",runInNextConfig:!0},{source:"/support/articles/can-you-do-trunk-based-development-on-vercel",permanent:!0,destination:"/guides/using-vercel-cli-for-custom-workflows",runInNextConfig:!0},{source:"/support/articles/docs/serverless-functions/introduction",destination:"/docs/functions",permanent:!0,runInNextConfig:!0},{source:"/support/articles/:slug*",permanent:!0,destination:"/guides/:slug*"},{source:"/support/request(.*)",permanent:!0,destination:"/help#issues"},{source:"/support/cases(.*)",permanent:!0,destination:"/help#issues"},{source:"/support/:slug*",permanent:!0,destination:"/help/:slug*"},{source:"/ambassadors/(.*)",permanent:!0,destination:"/signup"},{source:"/api(|/?)",permanent:!0,destination:"/docs/rest-api"},{source:"/examples(.*)",permanent:!0,destination:"/new/templates"},{source:"/enable-comments",destination:"/docs/workflow-collaboration/comments",permanent:!0},{source:"/knowledge/:path*",permanent:!0,destination:"/guides/:path*"},{source:"/cli",destination:"/docs/cli",permanent:!0},{source:"/:slug((?!docs/|api/).*)/:project/:id((?!spaces).*)/overview",statusCode:302,destination:"/:slug/:project/:id"},{source:"/account/oauth",destination:"/account/settings/authentication",permanent:!0,beforeFiles:!0},{source:"/account/general",destination:"/account/settings",permanent:!0,beforeFiles:!0},{source:"/account/tokens",destination:"/account/settings/tokens",permanent:!0,beforeFiles:!0},{source:"/account/invoices",destination:"/account/settings/invoices",permanent:!0,beforeFiles:!0},{source:"/account/sign-in-with-vercel",destination:"/account/settings/sign-in-with-vercel",permanent:!0,beforeFiles:!0},{source:"/account/authentication",destination:"/account/settings/authentication",permanent:!0,beforeFiles:!0},{source:"/account/billing",destination:"/account/settings/billing-information",permanent:!0,beforeFiles:!0},{source:"/account/teams",destination:"/account",permanent:!0,beforeFiles:!0},{source:"/account/login-connections",destination:"/account/authentication",permanent:!0,beforeFiles:!0},{source:"/import",statusCode:302,destination:"/new"},{source:"/new/git",statusCode:302,destination:"/new"},{source:"/new/git/external",statusCode:302,destination:"/new/clone",runInNextConfig:!0},{source:"/new/import-flow",statusCode:302,destination:"/new/import"},{source:"/new/clone-flow",statusCode:302,destination:"/new/clone"},{source:"/new/project",statusCode:302,destination:"/new"},{source:"/new2",statusCode:302,destination:"/new"},{source:"/new3",statusCode:302,destination:"/new"},{source:"/import/templates",statusCode:302,destination:"/new/templates"},{source:"/hackathon-coc",statusCode:302,destination:"https://www.notion.so/zeithq/Code-of-Conduct-51978aca806041c1b654c16522f1b41b"},{source:"/download",statusCode:301,destination:"/cli"},{source:"/desktop",statusCode:301,destination:"/cli"},{source:"/dockerfile",statusCode:301,destination:"/guides/does-vercel-support-docker-deployments"},{source:"/logos",statusCode:301,destination:"/design"},{source:"/integrations",destination:"/marketplace",statusCode:301,runInNextConfig:!0},{source:"/marketplace/redis-cloud",destination:"/marketplace/redis",statusCode:301,runInNextConfig:!0},{source:"/marketplace/edgedb",destination:"/marketplace/gel",statusCode:301,runInNextConfig:!0},{source:"/marketplace",destination:"/marketplace/category/:category",permanent:!0,has:[{type:"query",key:"category",value:"(?<category>.*)"}]},{source:"/integration/:slug",destination:"/marketplace/:slug",permanent:!0},{source:"/integration/:slug/new",destination:"/marketplace/:slug/new",permanent:!0},{source:"/integrations/:slug/add",destination:"/integrations/:slug",statusCode:302,runInNextConfig:!0},{source:"/integrations/order-cloud",destination:"/integrations/ordercloud",statusCode:301,runInNextConfig:!0},{source:"/integrations/dato",destination:"/integrations/datocms",statusCode:301,runInNextConfig:!0},{source:"/integrations/slack-new",destination:"/integrations/slack",statusCode:301,runInNextConfig:!0},{source:"/integrations/logtail",destination:"/integrations/betterstack",statusCode:301,runInNextConfig:!0},{source:"/integrations/mongodb-atlas",destination:"/integrations/mongodbatlas",statusCode:301,runInNextConfig:!0},{source:"/integrations/mongodb",destination:"/integrations/mongodbatlas",statusCode:301,runInNextConfig:!0},{source:"/integrations/(stripe|stripe-live|lighthouse|gcloud|easycron|instant-rollback|oceanbase|cloudamqp|onegraph)",destination:"/integrations",statusCode:307,runInNextConfig:!0},{source:"/integrations/image-optimizer",destination:"/docs/image-optimization",statusCode:301,runInNextConfig:!0},{source:"/micro",statusCode:302,destination:"https://github.com/vercel/micro"},{source:"/mix",statusCode:301,destination:"/docs/rest-api"},{source:"/network",statusCode:301,destination:"/edge-network"},{source:"/next",statusCode:302,destination:"https://nextjs.org"},{source:"/next\\.js",statusCode:302,destination:"https://nextjs.org"},{source:"/now",statusCode:302,destination:"/home"},{source:"/pkg",statusCode:302,destination:"https://github.com/vercel/pkg"},{source:"/update-cli",statusCode:301,destination:"/docs/guides/updating-now-cli"},{source:"/upgrade",statusCode:301,destination:"/docs/v1-upgrade"},{source:"/world",statusCode:301,destination:"/edge-network"},{source:"/chat",statusCode:301,destination:"/help"},{source:"/account/add-ons",destination:"/account/billing",permanent:!0,beforeFiles:!0},{source:"/account/plan",destination:"/account/billing",permanent:!0,beforeFiles:!0},{source:"/account/identity",destination:"/account",permanent:!0,beforeFiles:!0},{source:"/account/git-integrations",destination:"/account/settings/authentication",permanent:!0,beforeFiles:!0},{source:"/teams/:teamSlug/settings/identity",statusCode:301,destination:"/:teamSlug/~/settings"},{source:"/teams/:teamSlug/settings/url",statusCode:301,destination:"/:teamSlug/~/settings"},{source:"/teams/:teamSlug/settings/plan",statusCode:301,destination:"/:teamSlug/~/settings/billing"},{source:"/teams/:teamSlug/settings/git-integrations",statusCode:301,destination:"/:teamSlug/~/settings/git"},{source:"/dns",statusCode:301,destination:"/edge-network"},{source:"/icons",statusCode:301,destination:"/design/icons"},{source:"/dashboard/deployments",statusCode:303,destination:"/dashboard"},{source:"/dashboard/:usernameOrSlug/deployments",statusCode:303,destination:"/:usernameOrSlug"},{source:"/dashboard/projects",statusCode:303,destination:"/dashboard"},{source:"/dashboard/:usernameOrSlug/projects",statusCode:303,destination:"/:usernameOrSlug"},{source:"/dashboard/:usernameOrSlug/events",statusCode:303,destination:"/dashboard/:usernameOrSlug/activity"},{source:"/dashboard/events",statusCode:303,destination:"/dashboard/activity"},{source:"/feedback",destination:"/contact",statusCode:302},{source:"/contact/((?!general|sales|support|turborepo$).*)",statusCode:302,destination:"/contact"},{source:"/setup-github",destination:"/github",statusCode:302},{source:"/github-setup",destination:"/github",statusCode:302},{source:"/github/complete-installation",destination:"/docs/git",statusCode:302},{source:"/github/deployment",destination:"/docs/git",statusCode:302},{source:"/github/authorize",destination:"/git/authorize",statusCode:302},{source:"/functions/edge-functions/streaming",destination:"/docs/fundamentals/what-is-streaming",statusCode:301},{source:"/vercel-product-tour",destination:"/product-tour",statusCode:301},{source:"/:teamSlug/~/settings/secure-compute",destination:"/:teamSlug/~/settings/connectivity",permanent:!0},{source:"/:teamSlug/~/settings/secure-compute/networks/:id",destination:"/:teamSlug/~/settings/connectivity/networks/:id",permanent:!0},{source:"/:teamSlug/:project/settings/git-integration",statusCode:301,destination:"/:teamSlug/:project/settings/git"},{source:"/:teamSlug/:project/settings/secure-compute",destination:"/:teamSlug/:project/settings/connectivity",permanent:!0},{source:"/:teamSlug/:project/flag",statusCode:307,destination:"/:teamSlug/:project/flags"},{source:"/:teamSlug((?!dashboard)[^/]+)/:project((?!~)[^/]+)/integrations",statusCode:301,destination:"/:teamSlug/:project/settings/integrations"},{source:"/:teamSlug/:project/settings/serverless-functions",statusCode:301,destination:"/:teamSlug/:project/settings/functions"},{source:"/github",destination:"/docs/git/vercel-for-github",statusCode:301},{source:"/gitlab",destination:"/docs/git/vercel-for-gitlab",statusCode:301},{source:"/bitbucket",destination:"/docs/git/vercel-for-bitbucket",statusCode:301},{source:"/brand",destination:"/design",statusCode:301},{source:"/conf",destination:"https://nextjs.org/conf",statusCode:301},{source:"/jobs",destination:"/careers",statusCode:301},{source:"/turborepo",destination:"/solutions/turborepo",statusCode:302},{source:"/turborepo/onboarding",destination:"/solutions/turborepo",statusCode:302},{source:"/turborepo/token",destination:"/notifications/cli-login/turbo/token",statusCode:302,beforeFiles:!0},{source:"/turborepo/success",destination:"/notifications/cli-login/turbo/success",statusCode:302,beforeFiles:!0},{source:"/turborepo/studio",destination:"/turborepo/studio/get-started",permanent:!0,beforeFiles:!0},{source:"/tv",destination:"https://www.youtube.com/channel/UCLq8gNoee7oXM7MvTdjyQvA",statusCode:301},{source:"/changelogpod",destination:"/go/changelogpod",permanent:!0,beforeFiles:!0},{source:"/sitemap.xml",destination:"/crawled-sitemap.xml",statusCode:301},{source:"/:path*",has:[{type:"host",value:"vercel.engineering"}],destination:"https://vercel.com/blog/:path*",permanent:!1},{source:"/teams/:teamSlug/support",destination:"/:teamSlug/~/support/cases",permanent:!0},{source:"/reinvent",destination:"/home?utm_campaign=aws_reinvent_serverless_talk",permanent:!1},{source:"/:teamSlug/:project/insights/audience",destination:"/:teamSlug/:project/analytics/audience",permanent:!0},{source:"/:teamSlug/:project/insights",destination:"/:teamSlug/:project/analytics",permanent:!0},{source:"/:teamSlug/:project/cron-jobs",destination:"/:teamSlug/:project/settings/cron-jobs",permanent:!0},{source:"/:teamSlug((?!api/).*)/:project/dpl_:deploymentId",destination:"/:teamSlug/:project/:deploymentId",permanent:!1},{source:"/:teamSlug((?!api/).*)/:project/dpl_:deploymentId/:tab",destination:"/:teamSlug/:project/:deploymentId/:tab",permanent:!1},{source:"/marketplace/category/databases",destination:"/marketplace?category=storage",permanent:!0},{source:"/storage/postgres",destination:"/marketplace?category=storage",permanent:!0},{source:"/teams/:teamSlug/spaces/:spaceId*",destination:"/:teamSlug/~/repos/:spaceId*",permanent:!0},{source:"/teams/:teamSlug/repos/:spaceId*",destination:"/:teamSlug/~/repos/:spaceId*",permanent:!0},{source:"/integrations/shopify",destination:"/docs/integrations/shopify",permanent:!0,runInNextConfig:!0},{source:"/templates/next.js/web3-sessions",permanent:!0,destination:"/templates?type=web3"},{source:"/dashboard/:teamSlug/activity",permanent:!0,destination:"/:teamSlug/~/activity"},{source:"/dashboard/:teamSlug/domains/:path*",permanent:!0,destination:"/:teamSlug/~/domains/:path*"},{source:"/dashboard/:teamSlug/integrations/:path*",permanent:!0,destination:"/:teamSlug/~/integrations/:path*"},{source:"/dashboard/:teamSlug/monitoring/:path*",permanent:!0,destination:"/:teamSlug/~/monitoring/:path*"},{source:"/dashboard/:teamSlug/usage",permanent:!0,destination:"/:teamSlug/~/usage"},{source:"/dashboard/:teamSlug/stores/:path*",permanent:!0,destination:"/:teamSlug/~/stores/:path*"},{source:"/teams/:teamSlug/settings/:path*",permanent:!0,destination:"/:teamSlug/~/settings/:path*"},{source:"/teams/:teamSlug/comments/:path*",permanent:!0,destination:"/:teamSlug/~/comments/:path*"},{source:"/teams/:teamSlug/support/cases/:path*",permanent:!0,destination:"/:teamSlug/~/support/cases/:path*"},{source:"/teams/:teamSlug/exports",permanent:!0,destination:"/:teamSlug/~/exports"},{source:"/:teamSlug/~/vercel-agent/:path*",permanent:!0,destination:"/:teamSlug/~/agent/:path*"},{source:"/teams",destination:"/dashboard",permanent:!1,beforeFiles:!0},{source:"/template",destination:"/templates",permanent:!0,beforeFiles:!0},{source:"/device",destination:"/oauth/device",permanent:!0,beforeFiles:!0},{source:"/signup/email",destination:"/signup",permanent:!0,beforeFiles:!0},{source:"/signup/enterprise",destination:"/signup",permanent:!1,beforeFiles:!0},{source:"/signup/enterprise/team",destination:"/dashboard",permanent:!1,beforeFiles:!0},{source:"/templates/next.js/virtual-event-starter-kit",destination:"/templates",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions",destination:"/docs/functions",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions",destination:"/docs/functions",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/edge-functions-crypto",destination:"/docs/functions",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/edge-functions-crypto",destination:"/docs/functions",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/feature-flag-apple-store",destination:"https://flags-sdk.dev",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/feature-flag-apple-store",destination:"https://flags-sdk.dev",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/jwt-authentication",destination:"/docs/functions",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/jwt-authentication",destination:"/docs/functions",permanent:!0,beforeFiles:!0},{source:"/blog/gpt-3-app-next-js-vercel-edge-functions",destination:"/docs/functions",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/edge-functions-cors",destination:"/docs/functions",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/edge-functions-cors",destination:"/docs/functions",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/api-rate-limit-upstash",destination:"/docs/vercel-firewall/vercel-waf/rate-limiting-sdk",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/api-rate-limit-upstash",destination:"/docs/vercel-firewall/vercel-waf/rate-limiting-sdk",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/api-rate-limit-and-tokens",destination:"/docs/vercel-firewall/vercel-waf/rate-limiting-sdk",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/api-rate-limit-and-tokens",destination:"/docs/vercel-firewall/vercel-waf/rate-limiting-sdk",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/og-image-generation",destination:"/docs/og-image-generation/examples",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/og-image-generation",destination:"/docs/og-image-generation/examples",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/nuxt-edge-functions",destination:"/docs/frameworks/nuxt",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/nuxt-edge-functions",destination:"/docs/frameworks/nuxt",permanent:!0,beforeFiles:!0},{source:"/templates/astro/astro-edge-functions",destination:"/docs/frameworks/astro",permanent:!0,beforeFiles:!0},{source:"/new/templates/astro/astro-edge-functions",destination:"/docs/frameworks/astro",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/remix-edge-functions",destination:"/docs/frameworks/remix",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/remix-edge-functions",destination:"/docs/frameworks/remix",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/react-edge-functions",destination:"/docs/frameworks/nextjs",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/react-edge-functions",destination:"/docs/frameworks/nextjs",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/preact-edge-functions",destination:"/docs/frameworks/nextjs",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/preact-edge-functions",destination:"/docs/frameworks/nextjs",permanent:!0,beforeFiles:!0},{source:"/templates/edge-functions/sveltekit-route-config",destination:"/docs/frameworks/sveltekit",permanent:!0,beforeFiles:!0},{source:"/new/templates/edge-functions/sveltekit-route-config",destination:"/docs/frameworks/sveltekit",permanent:!0,beforeFiles:!0},{source:"/templates/svelte/sveltekit-edge-functions",destination:"/docs/frameworks/sveltekit",permanent:!0,beforeFiles:!0},{source:"/templates/nextjs",destination:"/templates/next.js",permanent:!0,beforeFiles:!0},{source:"/new/templates/svelte/sveltekit-edge-functions",destination:"/docs/frameworks/sveltekit",permanent:!0,beforeFiles:!0},{source:"/teams/invite/:code",destination:"/invites/:code",permanent:!0,beforeFiles:!0},{source:"/teams/create",destination:"/dashboard?createTeam=true",permanent:!0,beforeFiles:!0},{source:"/new/:teamSlug/clone",destination:"/new/clone?teamSlug=:teamSlug",permanent:!0,beforeFiles:!0},{source:"/new/:teamSlug/import",destination:"/new/import?teamSlug=:teamSlug",permanent:!0,beforeFiles:!0},{source:"/new/:teamSlug/git/third-party",destination:"/new/git/third-party?teamSlug=:teamSlug",permanent:!0,beforeFiles:!0},{source:"/new/:teamSlug((?!clone|import|repos|git|templates|.*/success|.*/templates|.*/repos/?.*).*)",destination:"/new?teamSlug=:teamSlug",permanent:!0,beforeFiles:!0},{source:"/:teamSlug/~/integrations/products/:slug/:cfgId/:protocolType/:resourceId/:path*",destination:"/:teamSlug/~/integrations/:slug/:cfgId/resources/:protocolType/:resourceId/:path*",permanent:!0,beforeFiles:!0},{source:"/:teamSlug/~/integrations/products/:slug/:cfgId/:path*",destination:"/:teamSlug/~/integrations/:slug/:cfgId/:path*",permanent:!0,beforeFiles:!0},{source:"/:teamSlug/~/integrations/products/:slug",destination:"/:teamSlug/~/integrations/:slug",permanent:!0,beforeFiles:!0},{source:"/:teamSlug/:project((?!~).*)/experimentation/collections",destination:"/:teamSlug/:project/flags",permanent:!0}],a=["/account/:path*","/sso/access/:path*","/sso/integrations/:slug","/sso/integrations/:slug/:icfgId","/login/scope/:teamSlug","/claim-deployment","/oauth/integrations","/new/:teamSlug/success","/new/:teamSlug/repos/:path*","/new/repos/:path*","/notifications/domain-misconfigured","/notifications/:teamSlug/domain-misconfigured","/v0/:teamSlug/:path*","/:teamSlug/~/:path*","/:teamSlug/:project/analytics","/:teamSlug/:project/experimentation/:path*","/:teamSlug/:project/flag/:path*","/:teamSlug/:project/flags","/:teamSlug/:project/flags/:path*","/:teamSlug/:project/observability","/:teamSlug/:project/observability/:path*","/:teamSlug/:project/settings","/:teamSlug/:project/firewall","/:teamSlug/:project/firewall/:path*","/:teamSlug/:project/settings/:path*","/:teamSlug/:project/deployments","/:teamSlug/:project/logs","/:teamSlug/:project/speed-insights","/:teamSlug/:project/stores","/:teamSlug/:project/stores/blob/:storeId*","/:teamSlug/:project/stores/kv/:storeId*","/:teamSlug/:project/stores/postgres/:storeId*","/:teamSlug/:project/stores/edge-config/:edgeConfigId*","/:teamSlug/:project/stores/integration/:storeId*"];for(let e of a)r.push({source:e.replace("/:teamSlug","/:teamSlug((?!auth-redirect|.well-known|api|marketplace).*)"),destination:`/auth-redirect${e}`,permanent:!1,missing:[{type:"cookie",key:"isLoggedIn"}],beforeFiles:!0});let o=new Set,i=[],s=[],u=/:|\(|\{|\?|\+|\*/,l=/\{\/\}\?$/;for(let e of r)e.beforeFiles||e.has||e.missing||e.runInNextConfig||u.test(e.source.replace(l,""))?(delete e.beforeFiles,delete e.runInNextConfig,s.push(e)):(i.push(e),o.add(e.source));let c=[...i,...s],d=[...new Set(c.map(function(e){let t=e.source.replace("\\","").replace(l,"").split("/")[1];if(!t||"string"!=typeof t)throw Error(`No top level slug found for redirect: ${e.source}`,{cause:{redirect:e}});return t}).filter(e=>e&&!u.test(e)).filter(e=>/^[a-z0-9-.]+$/i.test(e)))];t.exports.allRedirects=c,t.exports.redirectsToplevelSlugs=d,t.exports.authenticatedRoutes=a},3534033,e=>{"use strict";var t=e.i(6468255),n=e.i(9722978),r=e.i(57106),a=e.i(9544652),o=e.i(3508637),i=e.i(1509709),s=e.i(6498592);let u=[];for(let e of s.allRedirects)e.has||(/^[/a-z0-9-]{1,}$/i.exec(e.source)?u.push(e.source):u.push((0,o.pathToRegexp)(e.source).source));let l=u.map(e=>e.startsWith("/")?e:new RegExp(e)),c=e=>{let{href:o,as:i,children:s,onClick:u,download:l=!1,error:c=!1,underlineOnHover:d=!0,prefetch:p=!0,className:m}=e,g=(0,a.useDisabled)();return(0,t.jsx)(r.Link,{as:i,className:(0,n.clsx)("text-[var(--geist-link-color)] no-underline",m,{"hover:underline":d,"underline text-[var(--geist-error)]":c,"text-[#999]":g}),download:l,href:o,onClick:u,prefetch:!!p&&void 0,children:s})},d=e=>{let{href:r,onClick:a,children:o,underlineOnHover:i=!0}=e;return(0,t.jsx)("a",{className:(0,n.clsx)("cursor-pointer text-[var(--geist-link-color)] no-underline",{"hover:underline":i}),href:r,onClick:a,children:o})},p=e=>{let{href:r,onClick:o,children:i,underlineOnHover:s=!0,download:u=!1,className:l}=e,c=(0,a.useDisabled)();return(0,t.jsx)("a",{className:(0,n.clsx)("text-[var(--geist-link-color)] no-underline",l,{"hover:underline":s,"text-[#999]":c}),download:u,href:r,onClick:o,rel:"noopener",target:"_blank",children:i})};e.s(["ExternalLink",0,p,"GenericLink",0,e=>!function(e){let t="string"==typeof e?e:e?.pathname;if(!t||/^https?:\/\/$/.exec(t)||t.includes("*"))return!1;try{let e=new URL(t,"http://n").pathname;for(let t of l)if("string"==typeof t){if(t===e)return!1}else if(t.test(e))return!1}catch(e){(0,i.captureException)(e,{attributes:{path:t}})}return t.startsWith("/")}(e.href)?e.href?.startsWith("#")?(0,t.jsx)(d,{...e}):(0,t.jsx)(p,{...e}):(0,t.jsx)(c,{...e}),"InternalLink",0,c],3534033)},9359026,e=>{"use strict";var t=e.i(4439612),n=(0,t.createServerReference)("403f556a41fa6628780afc160f1a1c67f84b1e88da",t.callServer,void 0,t.findSourceMapURL,"completePurchaseIntent");e.s(["completePurchaseIntent",()=>n])},7564085,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.75 2H1V3.5H1.75H14.25H15V2H14.25H1.75ZM1 7H1.75H9.25H10V8.5H9.25H1.75H1V7ZM1 12H1.75H11.25H12V13.5H11.25H1.75H1V12Z" fill="currentColor"/>');e.s(["AlignmentLeft",0,t])},4373123,5895979,5325056,5978870,2166755,e=>{"use strict";e.i(942336);var t=e.i(6468255),n=e.i(6696646),r=e.i(9781044),a=e.i(633201),o=e.i(5802506),i=e.i(7917902),s=e.i(3322724),u=e.i(287495);let l=new Map;function c(e){if(!e)return Promise.resolve(null);let t=l.get(e);return t||(t=(0,a.loadStripe)(e).catch(t=>((0,o.captureError)(t),l.delete(e),null)),l.set(e,t)),t}e.s(["getStripe",()=>c,"withBillingContext",0,e=>{function n(n){let{account:a}=(0,i.useAccount)(),o=(0,u.default)(),l=(0,s.useMediaQuery)(600),d=`${l?16:14}px`,p=a?.billing?.platform==="stripeTestMode";return(0,t.jsx)(r.Elements,{options:{loader:"always",payment_method_types:["card"],appearance:{theme:o?"stripe":"night",variables:{colorBackground:o?"#fff":"#000",colorPrimary:o?"#000":"#fff",fontSizeBase:d}},currency:"usd",mode:"setup"},stripe:c(p?"pk_test_51KWTJcBQYfoTMhVJkeKojfST4MsShve9XJ7Seqw7mgZaUCeO1DR4dR3EkrWFDqD0MG5IiZRYFygw6ZR8FnmZZKnn004vR9fkFq":"pk_live_alyEi3lN0kSwbdevK0nrGwTw"),children:(0,t.jsx)(e,{...n})})}return n.displayName=`WithBillingContext${e.displayName||e.name||"Component"}`,n}],5895979);let d=(0,n.createContext)(void 0);function p(){let e=(0,n.useContext)(d);if(!e)throw Error("useCopperStripe must be used within CopperProvider");return e}function m(){let e=(0,n.useContext)(d);if(!e)throw Error("useCopperClient must be used within CopperProvider");return{teamIdOrSlug:e.teamIdOrSlug,purchaseIntent:e.purchaseIntent,providerDetails:e.providerDetails,setPurchaseIntent:e.setPurchaseIntent,setProviderDetails:e.setProviderDetails,clearPaymentState:e.clearPaymentState}}function g(e){let{children:r,environment:a,teamIdOrSlug:o,clearPaymentStateRef:i}=e,[s,u]=(0,n.useState)(null),[l,p]=(0,n.useState)(null),m=(0,n.useMemo)(()=>c(function(e){switch(e){case"production_test":return"pk_test_51KWTJcBQYfoTMhVJkeKojfST4MsShve9XJ7Seqw7mgZaUCeO1DR4dR3EkrWFDqD0MG5IiZRYFygw6ZR8FnmZZKnn004vR9fkFq";case"production":return"pk_live_alyEi3lN0kSwbdevK0nrGwTw";default:throw Error(`Unsupported environment for Stripe key: ${e}`)}}(a)),[a]),g=(0,n.useCallback)(()=>{u(null),p(null)},[]);(0,n.useEffect)(()=>{i&&(i.current=g)},[g,i]);let f=(0,n.useMemo)(()=>({stripe:m,teamIdOrSlug:o??null,purchaseIntent:s,providerDetails:l,setPurchaseIntent:u,setProviderDetails:p,clearPaymentState:g}),[m,o,s,l,g]);return(0,t.jsx)(d.Provider,{value:f,children:r})}e.s(["CopperProvider",()=>g,"useCopperClient",()=>m,"useCopperStripe",()=>p],5325056);var f=e.i(8297232);let h=(0,n.createContext)(void 0);var b=e.i(7722264);let y={layout:{type:"tabs",defaultCollapsed:!1},terms:{card:"never",applePay:"never",googlePay:"never"}};function v(e){let{paymentElementOptions:r}=e,{confirmHandler:a,onReady:o}=function(){let e=(0,n.useContext)(h);if(!e)throw Error("useCopperCheckout must be used within CopperPaymentElement");return e}(),i=(0,f.useCheckout)(),s=(0,n.useCallback)(async()=>{try{if("success"!==i.type)return{success:!1,error:"error"===i.type?i.error.message:"Checkout session failed to load"};let e=await i.checkout.confirm({redirect:"if_required"});if("error"===e.type)return{success:!1,error:e.error.message};return{success:!0}}catch(e){return{success:!1,error:(0,b.isErrorLike)(e)?e.message:"An error occurred"}}},[i]);return(0,n.useEffect)(()=>(a.current=s,()=>{a.current=null}),[a,s]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.PaymentElement,{onReady:o,options:r??y}),(0,t.jsx)(f.BillingAddressElement,{})]})}function C(e){let{confirmHandler:r,clientSecret:a,options:o,onReady:i}=e,{stripe:s}=p(),u=(0,n.useMemo)(()=>({fetchClientSecret:()=>Promise.resolve(a),elementsOptions:o.elementsOptions}),[a,o.elementsOptions]);return(0,t.jsx)(h.Provider,{value:{confirmHandler:r,onReady:i},children:(0,t.jsx)(f.CheckoutProvider,{stripe:s,options:u,children:(0,t.jsx)(v,{paymentElementOptions:o.paymentElement})})})}function S(e){return(0,n.useMemo)(()=>e?.billing?.platform==="stripeTestMode"?"production_test":"production",[e])}e.s(["CopperPaymentElement",()=>C],5978870),e.s(["useEnvironment",()=>S],2166755),e.s([],4373123)},6347389,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)(`<g clip-path="url(#clip0_1529_2727)">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M1.8627 7.61014C2.83103 7.22281 4.11733 7 5.5 7C6.88267 7 8.16897 7.22281 9.1373 7.61014C9.61938 7.80297 10.0598 8.05135 10.3921 8.36552C10.7258 8.68119 11 9.11499 11 9.65V13.35C11 13.8859 10.7347 14.3259 10.3979 14.6514C10.0646 14.9735 9.62194 15.226 9.1373 15.4199C8.1672 15.8079 6.88111 16.0199 5.5 16.0001C4.11889 16.0199 2.8328 15.8079 1.8627 15.4199C1.37806 15.226 0.935392 14.9735 0.602056 14.6514C0.265315 14.3259 0 13.8859 0 13.35V9.65C0 9.11499 0.274157 8.68119 0.607948 8.36552C0.940154 8.05135 1.38062 7.80297 1.8627 7.61014ZM1.5 9.65088V9.65L1.5 9.64998C1.49997 9.64935 1.49947 9.63747 1.5142 9.60866C1.53081 9.57621 1.56658 9.52347 1.63861 9.45535C1.78713 9.31489 2.04229 9.15385 2.41979 9.00285C3.17062 8.70252 4.25931 8.5 5.5 8.5C6.74069 8.5 7.82938 8.70252 8.58021 9.00285C8.95771 9.15385 9.21287 9.31489 9.36139 9.45535C9.43342 9.52347 9.46919 9.57621 9.4858 9.60866C9.50054 9.63747 9.50003 9.64935 9.5 9.64998L9.5 9.65C9.5 9.65002 9.50002 9.65031 9.5 9.65089M1.5 11.5298V13.35C1.5 13.3588 1.50052 13.4336 1.6445 13.5728C1.79189 13.7152 2.04485 13.8772 2.41979 14.0271C3.16618 14.3257 4.25066 14.519 5.48857 14.5001L5.5 14.4999L5.51143 14.5001C6.74934 14.519 7.83382 14.3257 8.58021 14.0271C8.95515 13.8772 9.20811 13.7152 9.3555 13.5728C9.49948 13.4336 9.5 13.3588 9.5 13.35V11.5298C9.38261 11.587 9.26133 11.6402 9.1373 11.6899C8.16897 12.0772 6.88267 12.3 5.5 12.3C4.11733 12.3 2.83103 12.0772 1.8627 11.6899C1.73867 11.6402 1.61739 11.587 1.5 11.5298ZM9.5 9.65089C9.49989 9.65411 9.49857 9.66636 9.4858 9.69134C9.46919 9.72379 9.43342 9.77653 9.36139 9.84465C9.21287 9.98511 8.95771 10.1461 8.58021 10.2971C7.82938 10.5975 6.74069 10.8 5.5 10.8C4.25931 10.8 3.17062 10.5975 2.41979 10.2971C2.04229 10.1461 1.78713 9.98511 1.63861 9.84465C1.56658 9.77653 1.53081 9.72379 1.5142 9.69134C1.50143 9.66636 1.50011 9.65411 1.5 9.65088" fill="currentColor" />
  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.8627 0.61014C7.83103 0.222808 9.11733 0 10.5 0C11.8827 0 13.169 0.222808 14.1373 0.61014C14.6194 0.802973 15.0598 1.05135 15.3921 1.36552C15.7258 1.68119 16 2.11499 16 2.65V6.35C16 6.90413 15.746 7.35093 15.4245 7.67984C15.1106 8.00089 14.7088 8.23745 14.3171 8.41033C13.5387 8.75385 12.6231 8.92251 12 8.92251V7.42251C12.415 7.42251 13.1243 7.29715 13.7115 7.03804C14.0025 6.90961 14.2185 6.76769 14.3518 6.63129C14.4775 6.50275 14.5 6.41311 14.5 6.35V4.52982C14.3826 4.58696 14.2613 4.64025 14.1373 4.68986C13.169 5.07719 11.8827 5.3 10.5 5.3C9.11733 5.3 7.83103 5.07719 6.8627 4.68986C6.73867 4.64025 6.61739 4.58696 6.5 4.52982V5.5H5V2.65C5 2.11499 5.27416 1.68119 5.60795 1.36552C5.94015 1.05135 6.38062 0.802973 6.8627 0.61014ZM6.5 2.65088V2.65L6.5 2.64998C6.49997 2.64935 6.49947 2.63747 6.5142 2.60866C6.53081 2.57621 6.56658 2.52347 6.63861 2.45535C6.78713 2.31489 7.04229 2.15385 7.41979 2.00285C8.17062 1.70252 9.25931 1.5 10.5 1.5C11.7407 1.5 12.8294 1.70252 13.5802 2.00285C13.9577 2.15385 14.2129 2.31489 14.3614 2.45535C14.4334 2.52347 14.4692 2.57621 14.4858 2.60866C14.5005 2.63747 14.5 2.64935 14.5 2.64998L14.5 2.65C14.5 2.65002 14.5 2.65031 14.5 2.65089M6.5 2.65088C6.50011 2.65411 6.50143 2.66636 6.5142 2.69134C6.53081 2.72379 6.56658 2.77653 6.63861 2.84465C6.78713 2.98511 7.04229 3.14615 7.41979 3.29715C8.17062 3.59748 9.25931 3.8 10.5 3.8C11.7407 3.8 12.8294 3.59748 13.5802 3.29715C13.9577 3.14615 14.2129 2.98511 14.3614 2.84465C14.4334 2.77653 14.4692 2.72379 14.4858 2.69134C14.4986 2.66636 14.4999 2.65411 14.5 2.65089" fill="currentColor" />
  </g>
  <defs>
  <clipPath id="clip0_1529_2727">
  <rect width="16" height="16" fill="white" />
  </clipPath>
  </defs>`);e.s(["Coins",0,t])},2471070,e=>{"use strict";var t=e.i(3911483),n=e.i(5338940);function r(e){let{team:r}=(0,n.useTeam)(),{data:a,error:o,isLoading:i,mutate:s}=(0,t.default)(r?.id&&e?`/api/credit-topups?teamId=${r.id}&currency=${e}`:null,async e=>{let t=await fetch(e);if(!t.ok)throw Error(t.statusText);return t.json()});return{topups:a,error:o,loading:i,mutate:s}}function a(){return r("ai_gateway_credits")}function o(){return r("vercel_agent_credits")}e.s(["useAiGatewayCreditTopups",()=>a,"useCreditTopups",()=>r,"useVercelAgentCreditTopups",()=>o])},8297232,e=>{"use strict";var t=e.i(6696646),n=e.i(2304153);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=a){var o=[],i=!0,s=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){return null!==e&&"object"===o(e)},d="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;if(null===e||c(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error(t)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;if(c(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return p(e,t)})};var n=p(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},g=function(e){var n=t.default.useRef(e);return t.default.useEffect(function(){n.current=e},[e]),n.current},f="[object Object]",h=function e(t,n){if(!c(t)||!c(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var a=Object.prototype.toString.call(t)===f;if(a!==(Object.prototype.toString.call(n)===f))return!1;if(!a&&!r)return t===n;var o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(var s={},u=0;u<o.length;u+=1)s[o[u]]=!0;for(var l=0;l<i.length;l+=1)s[i[l]]=!0;var d=Object.keys(s);return d.length===o.length&&d.every(function(r){return e(t[r],n[r])})},b=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},y=t.default.createContext(null);y.displayName="ElementsContext";var v=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e};n.default.any,n.default.object,n.default.func.isRequired;var C=["on","session"],S=t.default.createContext(null);S.displayName="CheckoutContext";var x=function(e,t){if(!e)throw Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in a <CheckoutProvider> provider."));return e},w=function(e,t){if("success"!==t.type)return{stripe:e,checkoutState:t};var n=t.sdk,r=t.session;return n.on,n.session,{stripe:e,checkoutState:{type:"success",checkout:Object.assign({},r,s(n,C))}}},k=function(e){var n=e.stripe,r=e.options,a=e.children,o=t.default.useMemo(function(){return m(n,"Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[n]),i=u(t.default.useState({type:"loading"}),2),s=i[0],l=i[1],c=u(t.default.useState(null),2),d=c[0],p=c[1],f=t.default.useRef(!1);t.default.useEffect(function(){var e=!0,t=function(t){var n=t.stripe;n&&e&&!f.current&&(f.current=!0,n.initCheckout(r).then(function(e){l({type:"success",sdk:e,session:e.session()}),e.on("change",function(e){l(function(t){return"success"===t.type?{type:"success",sdk:t.sdk,session:e}:t})})},function(e){l({type:"error",error:e})}))};return"async"===o.tag?o.stripePromise.then(function(e){p(e),e&&t({stripe:e})}):"sync"===o.tag&&(p(o.stripe),t({stripe:o.stripe})),function(){e=!1}},[o,r,l]);var y=g(n);t.default.useEffect(function(){null!==y&&y!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[y,n]);var v="success"===s.type?s.sdk:null,C=g(r),x=g(v);t.default.useEffect(function(){if(v){var e,t,n,a,o=!!(!x&&v),i=null==C||null==(e=C.elementsOptions)?void 0:e.appearance,s=null==r||null==(t=r.elementsOptions)?void 0:t.appearance,u=!h(s,i);s&&(u||o)&&v.changeAppearance(s);var l=null==C||null==(n=C.elementsOptions)?void 0:n.fonts,c=null==r||null==(a=r.elementsOptions)?void 0:a.fonts,d=!h(l,c);c&&(d||o)&&v.loadFonts(c)}},[r,C,v,x]),t.default.useEffect(function(){b(d)},[d]);var k=t.default.useMemo(function(){return w(d,s)},[d,s]);return t.default.createElement(S.Provider,{value:k},a)};k.propTypes={stripe:n.default.any,options:n.default.shape({fetchClientSecret:n.default.func.isRequired,elementsOptions:n.default.object}).isRequired};var E=function(e){var n=t.default.useContext(S),r=t.default.useContext(y);if(!n)return v(r,e);if(!r)return n;throw Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."))},j=function(){return x(t.default.useContext(S),"calls useCheckout()").checkoutState},_=function(e,n,r){var a=!!r,o=t.default.useRef(r);t.default.useEffect(function(){o.current=r},[r]),t.default.useEffect(function(){if(!a||!e)return function(){};var t=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,t),function(){e.off(n,t)}},[a,n,e,o])},N=["mode"],A=function(e,r){var o="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),l=r?function(e){E("mounts <".concat(o,">"));var n=e.id,r=e.className;return t.default.createElement("div",{id:n,className:r})}:function(n){var r,l=n.id,d=n.className,p=n.options,m=void 0===p?{}:p,f=n.onBlur,b=n.onFocus,y=n.onReady,v=n.onChange,C=n.onEscape,S=n.onClick,x=n.onLoadError,w=n.onLoaderStart,k=n.onNetworksChange,j=n.onConfirm,A=n.onCancel,T=n.onShippingAddressChange,M=n.onShippingRateChange,R=n.onSavedPaymentMethodRemove,I=n.onSavedPaymentMethodUpdate,O=E("mounts <".concat(o,">")),F="elements"in O?O.elements:null,D="checkoutState"in O?O.checkoutState:null,P=(null==D?void 0:D.type)==="success"?D.checkout:null,L=u(t.default.useState(null),2),U=L[0],B=L[1],V=t.default.useRef(null),$=t.default.useRef(null);_(U,"blur",f),_(U,"focus",b),_(U,"escape",C),_(U,"click",S),_(U,"loaderror",x),_(U,"loaderstart",w),_(U,"networkschange",k),_(U,"confirm",j),_(U,"cancel",A),_(U,"shippingaddresschange",T),_(U,"shippingratechange",M),_(U,"savedpaymentmethodremove",R),_(U,"savedpaymentmethodupdate",I),_(U,"change",v),y&&(r="expressCheckout"===e?y:function(){y(U)}),_(U,"ready",r),t.default.useLayoutEffect(function(){if(null===V.current&&null!==$.current&&(F||P)){var t=null;if(P)switch(e){case"payment":t=P.createPaymentElement(m);break;case"address":if("mode"in m){var n=m.mode,r=s(m,N);if("shipping"===n)t=P.createShippingAddressElement(r);else if("billing"===n)t=P.createBillingAddressElement(r);else throw Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":t=P.createExpressCheckoutElement(m);break;case"currencySelector":t=P.createCurrencySelectorElement();break;case"taxId":t=P.createTaxIdElement(m);break;default:throw Error("Invalid Element type ".concat(o,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else F&&(t=F.create(e,m));V.current=t,B(t),t&&t.mount($.current)}},[F,P,m]);var H=g(m);return t.default.useEffect(function(){if(V.current){var e,t=(e=["paymentRequest"],c(m)?Object.keys(m).reduce(function(t,n){var r=!c(H)||!h(m[n],H[n]);return e.includes(n)?(r&&console.warn("Unsupported prop change: options.".concat(n," is not a mutable property.")),t):r?a(a({},t||{}),{},i({},n,m[n])):t},null):null);t&&"update"in V.current&&V.current.update(t)}},[m,H]),t.default.useLayoutEffect(function(){return function(){if(V.current&&"function"==typeof V.current.destroy)try{V.current.destroy(),V.current=null}catch(e){}}},[]),t.default.createElement("div",{id:l,className:d,ref:$})};return l.propTypes={id:n.default.string,className:n.default.string,onChange:n.default.func,onBlur:n.default.func,onFocus:n.default.func,onReady:n.default.func,onEscape:n.default.func,onClick:n.default.func,onLoadError:n.default.func,onLoaderStart:n.default.func,onNetworksChange:n.default.func,onConfirm:n.default.func,onCancel:n.default.func,onShippingAddressChange:n.default.func,onShippingRateChange:n.default.func,onSavedPaymentMethodRemove:n.default.func,onSavedPaymentMethodUpdate:n.default.func,options:n.default.object},l.displayName=o,l.__elementType=e,l},T="undefined"==typeof window,M=["options"];A("currencySelector",T);var R=A("payment",T);A("expressCheckout",T),A("taxId",T);var I=A("address",T),O=function(e){var n=e.options,r=s(e,M),o=a(a({},n),{},{mode:"billing"});return t.default.createElement(I,a(a({},r),{},{options:o}))};e.s(["BillingAddressElement",()=>O,"CheckoutProvider",()=>k,"PaymentElement",()=>R,"useCheckout",()=>j])},1781243,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM10.5 11.5607L9.96967 11.0303L8 9.06066L6.03033 11.0303L5.5 11.5607L4.43934 10.5L4.96967 9.96967L6.93934 8L4.96967 6.03033L4.43934 5.5L5.5 4.43934L6.03033 4.96967L8 6.93934L9.96967 4.96967L10.5 4.43934L11.5607 5.5L11.0303 6.03033L9.06066 8L11.0303 9.96967L11.5607 10.5L10.5 11.5607Z" fill="currentColor"/>');e.s(["CrossCircleFill",0,t])},6317369,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M4 5.5C3.17157 5.5 2.5 4.82843 2.5 4C2.5 3.17157 3.17157 2.5 4 2.5C4.82843 2.5 5.5 3.17157 5.5 4C5.5 4.82843 4.82843 5.5 4 5.5ZM4.75 6.90549C6.04392 6.57245 7 5.39788 7 4C7 2.34315 5.65685 1 4 1C2.34315 1 1 2.34315 1 4C1 5.39788 1.95608 6.57245 3.25 6.90549V14.25V15H4.75V14.25V6.90549ZM9.5 3.25H8.75V4.75H9.5H11C11.1381 4.75 11.25 4.86193 11.25 5V9.09451C9.95608 9.42754 9 10.6021 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.6021 14.0439 9.42754 12.75 9.09451V5C12.75 4.0335 11.9665 3.25 11 3.25H9.5ZM10.5 12C10.5 12.8284 11.1716 13.5 12 13.5C12.8284 13.5 13.5 12.8284 13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1716 10.5 10.5 11.1716 10.5 12Z" fill="currentColor"/>');e.s(["GitPullRequest",0,t])},4148413,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M13.5 4.6736V9.09116L15 10.7065V4.44907C15 4.16343 14.8779 3.89142 14.6644 3.70166L10.7842 0.252591C10.6011 0.0898786 10.3647 0 10.1198 0H2.5H1V1.5V13.5C1 14.8807 2.11929 16 3.5 16H11.7275L11.3016 15.5414L10.3346 14.5H3.5C2.94772 14.5 2.5 14.0523 2.5 13.5V1.5H9.9297L13.5 4.6736ZM8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6ZM4.5 8C4.5 6.067 6.067 4.5 8 4.5C9.933 4.5 11.5 6.067 11.5 8C11.5 8.63488 11.331 9.23028 11.0354 9.74364L14.0496 12.9897L14.5599 13.5393L13.4607 14.5599L12.9504 14.0103L10.0223 10.857C9.4512 11.262 8.7534 11.5 8 11.5C6.067 11.5 4.5 9.933 4.5 8Z" fill="currentColor"/>');e.s(["PreviewDocument",0,t])},87116,e=>{"use strict";var t=e.i(3911483),n=e.i(5338940);function r(){let{team:e}=(0,n.useTeam)(),{data:r,isLoading:a,mutate:o}=(0,t.default)(e?.id?`/api/agent/agent-credits-balance?teamId=${e.id}`:null,e=>fetch(e).then(e=>e.json()));return{balance:r?Number(r.cumulativeBalance):void 0,loading:a,mutate:o}}e.s(["useVercelAgentCreditsBalance",()=>r])},2768434,e=>{"use strict";var t=e.i(4439612),n=(0,t.createServerReference)("40cb85f58b2b68c84649c2801532bc23b7d7dacd39",t.callServer,void 0,t.findSourceMapURL,"createAutoTopupConfig");e.s(["createAutoTopupConfig",()=>n])},5846905,e=>{"use strict";var t=e.i(4439612),n=(0,t.createServerReference)("402ca1bd8a2261cbd05be035b4fd9db276461ab35f",t.callServer,void 0,t.findSourceMapURL,"deleteAutoTopupConfig");e.s(["deleteAutoTopupConfig",()=>n])},9443874,e=>{"use strict";var t=e.i(4439612),n=(0,t.createServerReference)("40c5071c2801acf2a40d7203ad5b57671b33fd6b1c",t.callServer,void 0,t.findSourceMapURL,"updateAutoTopupConfig");e.s(["updateAutoTopupConfig",()=>n])},1249298,e=>{"use strict";var t=e.i(6636464),n=e.i(277234),r=e.i(4244280),a=e.i(5338940),o=e.i(4614946),i=e.i(6696646),s=e.i(2768434),u=e.i(9443874),l=e.i(5846905),c=e.i(7837522),d=e.i(7780974);function p(e,n,r,o){let{team:s,mutate:u}=(0,a.useTeam)(),l=s?.id,{track:p}=(0,c.useTrackActivity)(),m=(0,i.useRef)(void 0),g=(0,t.default)(l?`${e}?teamId=${encodeURIComponent(l)}`:null,n,{onSuccess:()=>{u().catch(()=>{}),m.current&&(p(d.VercelActivityAction.VercelAgentEnabled,{source:m.current.source,isFirstTimeUser:m.current.isFirstTimeUser,feature:r}),m.current=void 0)}}),f=(0,i.useCallback)((e,t)=>(!s?.[r]?.enabled&&e.enabled&&(m.current={source:o,isFirstTimeUser:!s?.[r]?.firstEnabledAt}),g.trigger(e,t)),[g,s,r,o]);return{...g,trigger:f,teamId:l}}function m(e){let{source:t}=e;return p(r.API_VADE_REVIEW_CONFIGURE,async(e,t)=>{let{arg:r}=t,a=await (0,n.fetchAPI)(e,{method:"POST",body:r});if(a.error)throw Error(a.error.message??"An unexpected error occurred. Please try again later.");return a},"vadeReview",t)}function g(e){let{source:t}=e;return p(r.API_VADE_ALERT_INVESTIGATIONS_CONFIGURE,async(e,t)=>{let{arg:r}=t,a=await (0,n.fetchAPI)(e,{method:"POST",body:r});if(a.error)throw Error(a.error.message??"An unexpected error occurred. Please try again later.");return a},"alertInvestigation",t)}function f(){let{team:e}=(0,a.useTeam)(),{mutate:t}=(0,o.useSWRConfig)(),n=(0,i.useCallback)(async n=>{if(!e)throw Error("No team found");let r=await (0,s.createAutoTopupConfig)({teamIdOrSlug:e.id,...n});return t(`/api/credit-topups?teamId=${e.id}&currency=vercel_agent_credits`),r},[e,t]);return{createAutoRecharge:n,updateAutoRecharge:(0,i.useCallback)(async n=>{if(!e)throw Error("No team found");let r=await (0,u.updateAutoTopupConfig)({teamIdOrSlug:e.id,...n});return t(`/api/credit-topups?teamId=${e.id}&currency=vercel_agent_credits`),r},[e,t]),deleteAutoRecharge:(0,i.useCallback)(async()=>{if(!e)throw Error("No team found");let n=await (0,l.deleteAutoTopupConfig)({teamIdOrSlug:e.id});return t(`/api/credit-topups?teamId=${e.id}&currency=vercel_agent_credits`),n},[e,t]),teamId:e?.id}}e.s(["useAutoRechargeActions",()=>f,"useUpdateAIReviews",()=>m,"useUpdateAlertInvestigations",()=>g])},2596253,e=>{"use strict";var t=e.i(2471070);function n(){let{topups:e,loading:n,mutate:r}=(0,t.useVercelAgentCreditTopups)(),a=e?.find(e=>"orb_ledger"!==e.provider.type||"miu"!==e.provider.currency);return{autoRechargeConfig:a?{minimumBalance:a.minimumBalance,targetBalance:a.targetBalance,maximumMonthlySpend:a.maximumMonthlySpend??""}:void 0,loading:n,mutate:r}}e.s(["useVercelAgentCreditsAutoRecharge",()=>n])},6130025,e=>{"use strict";var t=e.i(4439612),n=(0,t.createServerReference)("40cb183f22b02a80b0e50ed28e4213b8344c49c3a4",t.callServer,void 0,t.findSourceMapURL,"revalidateVercelAgentPage");e.s(["revalidateVercelAgentPage",()=>n])},7272607,e=>{"use strict";var t=e.i(4439612),n=(0,t.createServerReference)("40f4a1383c8c09927c0e9384cc60feabe0440185ad",t.callServer,void 0,t.findSourceMapURL,"createTopUpPurchaseIntent");e.s(["createTopUpPurchaseIntent",()=>n])},3041776,e=>{"use strict";(0,e.i(7432042).default)("1y"),e.s(["DEFAULT_AUTO_RECHARGE_MIN_BALANCE_USD",0,5,"DEFAULT_AUTO_RECHARGE_TARGET_BALANCE_USD",0,25,"DEFAULT_MIN_MONTHLY_SPEND",0,50,"MAX_FUND_AMOUNT_USD",0,5e3,"MIN_FUND_AMOUNT_USD",0,10])},3884031,8528535,e=>{"use strict";var t=e.i(6468255),n=e.i(87116),r=e.i(2504781),a=e.i(3500331),o=e.i(6891161),i=e.i(8522580),s=e.i(9508212),u=e.i(1344973),l=e.i(455575),c=e.i(6696646),d=e.i(7272607),p=e.i(5338940),m=e.i(5140444);e.i(3512434);var g=e.i(9835407),f=e.i(7917902),h=e.i(119294),b=e.i(6352514),y=e.i(3041776),v=e.i(3911483),C=e.i(7608222);e.i(4373123);var S=e.i(5325056);let x=g.z.object({amount:g.z.number().int().min(y.MIN_FUND_AMOUNT_USD).max(y.MAX_FUND_AMOUNT_USD)});function w(e){let{activeModalType:g,setActiveModalType:w,autoRechargeConfig:k}=e,{setPurchaseIntent:E,setProviderDetails:j}=(0,S.useCopperClient)(),{data:_}=(0,v.default)("deferred-auto-recharge-config",{fallbackData:null}),{balance:N}=(0,n.useVercelAgentCreditsBalance)(),[A,T]=(0,c.useState)("0"),[M,R]=(0,c.useState)("ready"),I=""===A||"0"===A,O=Number(A),F=Number(N),D=I||Number.isNaN(O)?F:F+Number(A),{team:P}=(0,p.useTeam)(),{user:L}=(0,m.useUser)(),{account:U}=(0,f.useAccount)(),B=(0,l.useToasts)(),V=(0,c.useMemo)(()=>k?`Auto-reload: Add $${Number(k.targetBalance)-Number(k.minimumBalance)} when balance drops below $${k.minimumBalance}`:_?"Auto-reload will activate after your first purchase":"Set up auto-reload to never run out of credits",[k,_]),$=(0,c.useCallback)(async()=>{try{if(!L||!P)return;if(R("in_progress"),!x.safeParse({amount:O}).success)return void R("invalid_amount");let e=await (0,d.createTopUpPurchaseIntent)({amount:A,returnUrl:window.location.href,teamIdOrSlug:P.id});R("completed"),E(e.purchaseIntent),j(e.providerDetails),w("checkout")}catch(e){B.error("Payment failed. Try again or contact support."),R("ready"),E(null),j(null),w(null),h.analytics.track(b.AnalyticsEvent.VERCEL_AGENT_CREDITS_CHECKOUT_ERROR,{message:e.message})}},[A,L,P,U,w,E,j,O,B]);return(0,t.jsxs)(o.Modal.Modal,{active:"top_up"===g,onClickOutside:()=>w(null),children:[(0,t.jsxs)(o.Modal.Body,{children:[(0,t.jsxs)(o.Modal.Header,{children:[(0,t.jsx)(o.Modal.Title,{children:"Add Credit"}),(0,t.jsxs)(o.Modal.Subtitle,{children:["Credit is valid for one year and exclusive to ",C.VERCEL_AGENT_NAME,"."]})]}),(0,t.jsxs)(s.Stack,{direction:"column",gap:4,children:[(0,t.jsxs)(s.Stack,{direction:"row",children:[(0,t.jsxs)(s.Stack,{direction:"column",gap:2,className:"w-full items-center justify-center border-r border-gray-200 text-gray-900",children:[(0,t.jsx)(u.Text,{as:"label",className:"text-gray-900",children:"Current Balance"}),(0,t.jsx)(u.Text,{size:32,className:"tracking-tighter",children:`$${F.toFixed(2)}`})]}),(0,t.jsxs)(s.Stack,{direction:"column",gap:2,className:"w-full items-center justify-center text-gray-900",children:[(0,t.jsx)(u.Text,{as:"label",className:"text-gray-900",children:"New Balance"}),(0,t.jsx)(u.Text,{size:32,className:"tracking-tighter",children:I||Number.isNaN(D)?"":`$${Number(D).toFixed(2)}`})]})]}),(0,t.jsx)(s.Stack,{direction:"column",gap:2,children:(0,t.jsx)(a.Input,{"aria-labelledby":"amount-label",label:"Amount",prefix:"$",suffix:"USD",suffixStyling:!1,value:I?"":A,onChange:e=>T(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),$())},error:"invalid_amount"===M?`Enter $${y.MIN_FUND_AMOUNT_USD} to $${y.MAX_FUND_AMOUNT_USD}`:void 0})}),(0,t.jsx)(i.Note,{action:(0,t.jsx)(r.Button,{size:"small",type:"secondary",onClick:()=>{w("auto_recharge")},children:k||_?"Disable":"Enable Auto-Reload"}),fill:!0,type:"secondary",className:"text-pretty",children:V})]})]}),(0,t.jsxs)(o.Modal.Actions,{children:[(0,t.jsx)(o.Modal.Action,{onClick:()=>w(null),type:"secondary",children:"Cancel"}),(0,t.jsx)(o.Modal.Action,{loading:"in_progress"===M,disabled:I||"in_progress"===M,onClick:$,children:"Continue to Payment"})]})]})}e.s(["TopUpModal",()=>w],3884031);var k=e.i(5255926),E=e.i(4614946),j=e.i(57106),_=e.i(9359026),N=e.i(2768434),A=e.i(6280036),T=e.i(5978870);function M(e){var r,a;let{activeModalType:i,setActiveModalType:d}=e,{purchaseIntent:g,providerDetails:y}=(0,S.useCopperClient)(),{data:C}=(0,v.default)("deferred-auto-recharge-config",{fallbackData:null}),x=(0,c.useMemo)(()=>g?g.lineItems?.map(e=>({name:e.name,amount:Number(e.unitAmount)*Number(e.quantity)}))??[]:[],[g]),[w,M]=(0,c.useState)("initializing"),{team:R}=(0,p.useTeam)(),{user:I}=(0,m.useUser)(),{mutate:O}=(0,E.useSWRConfig)(),{account:F}=(0,f.useAccount)(),{balance:D}=(0,n.useVercelAgentCreditsBalance)(),P=(0,l.useToasts)(),{resolvedTheme:L}=(0,A.useTheme)(),U=(0,c.useMemo)(()=>g?g.lineItems?.filter(e=>"Vercel Agent Credits"===e.name).reduce((e,t)=>e+Number(t.unitAmount)*(Number(t.quantity)||1),0):0,[g]),B=(0,c.useRef)(null),V=(0,c.useCallback)(async()=>{try{if(M("in_progress"),!R||!I||!g||!y||void 0===D||void 0===U)return void M("ready");if(B.current){let e=await B.current();if(e.success){await (0,_.completePurchaseIntent)({purchaseIntentId:g.id,teamIdOrSlug:R.id}),P.success(`Successfully added $${U} to your Agent balance!`);let e=Number(D)+U;if(await O(`/api/agent/agent-credits-balance?teamId=${R.id}`,()=>({cumulativeBalance:e}),{revalidate:!1}),C)try{let{minimumBalance:e,targetBalance:t,maximumMonthlySpend:n}=C;await (0,N.createAutoTopupConfig)({teamIdOrSlug:R.id,minimumBalance:e,targetBalance:t,maximumMonthlySpend:n}),O(`/api/credit-topups?teamId=${R.id}&currency=vercel_agent_credits`),O("deferred-auto-recharge-config",null,{revalidate:!1}),P.success("Auto-reload has been enabled!")}catch(e){P.error("Payment successful, but auto-reload setup failed. Please try setting it up again.")}M("completed"),d(null)}else{h.analytics.track(b.AnalyticsEvent.VERCEL_AGENT_CREDITS_CHECKOUT_ERROR,{message:e.error??"Payment checkout failed"}),P.error(e.error??"Failed to add credits. Please try again."),M("ready");return}}else{h.analytics.track(b.AnalyticsEvent.VERCEL_AGENT_CREDITS_CHECKOUT_ERROR,{message:"Payment handler not initialized"}),P.error("We're having trouble processing your payment. Please try again."),M("ready");return}}catch(e){P.error("We're having trouble processing your payment. Please try again."),M("ready"),d(null),h.analytics.track(b.AnalyticsEvent.VERCEL_AGENT_CREDITS_CHECKOUT_ERROR,{message:e.message})}},[I,R,g,O,M,y,P,d,U,D,C]),$=g?.total?Number(g.total):0,H=g?.tax?Number(g.tax):0;return(0,t.jsxs)(o.Modal.Modal,{active:"checkout"===i,onClickOutside:()=>d(null),children:[(0,t.jsxs)(o.Modal.Body,{children:[(0,t.jsxs)(o.Modal.Header,{children:[(0,t.jsx)(o.Modal.Title,{children:"Confirm Payment Method"}),(0,t.jsx)(o.Modal.Subtitle,{children:"Your default payment method will be used for a one-time charge unless you add a new payment method below."})]}),"initializing"===w?(0,t.jsx)(k.Skeleton,{className:"h-32",width:"100%"}):null,(0,t.jsx)(s.Stack,{direction:"column",gap:4,children:y&&"clientSecret"in y?(0,t.jsx)(T.CopperPaymentElement,{confirmHandler:B,clientSecret:y.clientSecret,options:{elementsOptions:{appearance:(a={theme:"stripe"},{theme:"flat",variables:{fontSizeBase:"14px",fontSizeSm:"14px",colorTextPlaceholder:(r="dark"===L)?"hsl(240, 3.8%, 60%)":"hsl(240, 3.8%, 46.1%)",colorText:r?"white":"rgb(9, 9, 11)",colorPrimary:"var(--blue-700)",colorDanger:"hsl(0, 84.2%, 60.2%)",borderRadius:"6px",colorBackground:r?"black":"white",focusBoxShadow:r?"rgb(255, 255, 255) 0px 0px 0px 0px, rgb(161, 161, 170) 0px 0px 0px 1px, rgba(0, 0, 0, 0.05) 0px 1px 2px 0px":"rgb(0, 0, 0) 0px 0px 0px 0px, rgb(161, 161, 170) 0px 0px 0px 1px, rgba(0, 0, 0, 0.05) 0px 1px 2px 0px"},rules:{".Input":{border:r?"1px solid hsl(240, 5.9%, 30%)":"1px solid hsl(240, 5.9%, 90%)",padding:"10px 12px",transition:"all cubic-bezier(0.4, 0, 0.2, 1) 150ms"},".Label":{marginBottom:"8px",color:r?"#999999":"#666666",lineHeight:"20px",fontWeight:"400"},".AccordionItem":{backgroundColor:r?"black":"white"},".Block":{backgroundColor:r?"black":"white"}},...a}),loader:"never",savedPaymentMethod:{enableRedisplay:"auto"}}},onReady:()=>M("ready")}):null})]}),(0,t.jsxs)(s.Stack,{direction:"column",paddingY:4,paddingTop:2,paddingX:6,gap:4,className:"border-t bg-background-200",children:[(0,t.jsxs)(s.Stack,{direction:"column",children:[x.map(e=>(0,t.jsxs)(s.Stack,{direction:"row",gap:4,justify:"space-between",className:"border-b",paddingY:4,children:[(0,t.jsx)(u.Text,{className:"text-gray-900",weight:500,children:e.name}),(0,t.jsx)(u.Text,{className:"text-gray-900",weight:500,children:`$${e.amount.toFixed(2)}`})]},e.name)),H>0?(0,t.jsxs)(s.Stack,{direction:"row",gap:4,justify:"space-between",className:"border-b",paddingY:4,children:[(0,t.jsx)(u.Text,{className:"text-foreground",weight:500,children:"Estimated Tax"}),(0,t.jsx)(u.Text,{className:"text-foreground",weight:500,children:`$${H.toFixed(2)}`})]}):null,(0,t.jsxs)(s.Stack,{direction:"column",gap:1,className:"border-b",paddingY:4,children:[(0,t.jsxs)(s.Stack,{direction:"row",gap:4,justify:"space-between",children:[(0,t.jsx)(u.Text,{className:"text-foreground",weight:500,children:"Total"}),(0,t.jsx)(u.Text,{className:"text-foreground",weight:500,children:`$${$.toFixed(2)}`})]}),(0,t.jsx)(u.Text,{align:"right",size:12,color:"gray-900",children:"* Plus applicable tax and fees"})]})]}),(0,t.jsxs)(u.Text,{className:"text-gray-900",children:['By pressing "Confirm and Pay" and accessing Agent, you agree to'," ",(0,t.jsx)(j.Link,{href:"/legal/ai-product-terms",className:"text-foreground underline",target:"_blank",children:"Vercel's AI Product Terms."})]})]}),(0,t.jsxs)(o.Modal.Actions,{children:[(0,t.jsx)(o.Modal.Action,{onClick:()=>{d("top_up"),M("initializing")},type:"secondary",children:"Back"}),(0,t.jsx)(o.Modal.Action,{onClick:async()=>{await V()},loading:["in_progress","initializing"].includes(w),children:"Confirm and Pay"})]})]})}function R(e){return(0,t.jsx)(M,{...e})}e.s(["CheckoutModal",()=>R],8528535)},8951690,e=>{"use strict";var t=e.i(6468255),n=e.i(6696646),r=e.i(3500331),a=e.i(9508212),o=e.i(1906681),i=e.i(2504781),s=e.i(455575),u=e.i(6891161),l=e.i(5338940),c=e.i(3911483),d=e.i(4614946),p=e.i(3041776),m=e.i(2768434),g=e.i(5846905),f=e.i(9443874);e.i(3512434);var h=e.i(9835407),b=e.i(87116);let y=h.z.object({minimumBalance:h.z.string().refine(e=>!Number.isNaN(Number(e))&&Number.isInteger(Number(e))&&Number(e)>=p.DEFAULT_AUTO_RECHARGE_MIN_BALANCE_USD,{message:`Must be at least $${p.DEFAULT_AUTO_RECHARGE_MIN_BALANCE_USD}`}),targetBalance:h.z.string().refine(e=>!Number.isNaN(Number(e))&&Number.isInteger(Number(e))&&Number(e)>=p.DEFAULT_AUTO_RECHARGE_TARGET_BALANCE_USD,{message:`Must be at least $${p.DEFAULT_AUTO_RECHARGE_TARGET_BALANCE_USD}`}),maximumMonthlySpend:h.z.string().optional().refine(e=>!e||!Number.isNaN(Number(e))&&Number.isInteger(Number(e))&&Number(e)>=p.DEFAULT_MIN_MONTHLY_SPEND,{message:`Must be at least $${p.DEFAULT_MIN_MONTHLY_SPEND}`})}).superRefine((e,t)=>{let{minimumBalance:n,targetBalance:r}=e;Number(r)<=Number(n)&&t.addIssue({code:h.z.ZodIssueCode.custom,message:`Target balance must be greater than the minimum balance ($${n})`,path:["targetBalance"]})});function v(e){let{autoRechargeConfig:t,draftAutoRechargeConfig:n,type:r}=e;return n?n[r]??"":t?t[r]??"":"minimumBalance"===r?p.DEFAULT_AUTO_RECHARGE_MIN_BALANCE_USD.toString():"targetBalance"===r?p.DEFAULT_AUTO_RECHARGE_TARGET_BALANCE_USD.toString():"maximumMonthlySpend"===r?p.DEFAULT_MIN_MONTHLY_SPEND.toString():"0"}function C(e){let{autoRechargeConfig:h,onCancel:C,onComplete:S}=e,{data:x,mutate:w}=(0,c.default)("deferred-auto-recharge-config",{fallbackData:null}),k=h??x??void 0,[E,j]=(0,n.useState)(!!k),[_,N]=(0,n.useState)(null),[A,T]=(0,n.useState)("ready"),[M,R]=(0,n.useState)({}),{balance:I}=(0,b.useVercelAgentCreditsBalance)(),O=!!k!==E||null!==_,{team:F}=(0,l.useTeam)(),{mutate:D}=(0,d.useSWRConfig)(),P=(0,s.useToasts)(),L=function(e){let{autoRechargeConfig:t,draftAutoRechargeConfig:n}=e;return(e,r)=>({minimumBalance:"minimumBalance"===e?r:v({autoRechargeConfig:t,draftAutoRechargeConfig:n,type:"minimumBalance"}),targetBalance:"targetBalance"===e?r:v({autoRechargeConfig:t,draftAutoRechargeConfig:n,type:"targetBalance"}),maximumMonthlySpend:"maximumMonthlySpend"===e?r:v({autoRechargeConfig:t,draftAutoRechargeConfig:n,type:"maximumMonthlySpend"})})}({autoRechargeConfig:k,draftAutoRechargeConfig:_}),U=(0,n.useCallback)(async()=>{if(!F||!_)return;let{minimumBalance:e,targetBalance:t,maximumMonthlySpend:n}=_;await (0,m.createAutoTopupConfig)({teamIdOrSlug:F.id,minimumBalance:e,targetBalance:t,maximumMonthlySpend:n??""}),D(`/api/credit-topups?teamId=${F.id}&currency=vercel_agent_credits`),P.success("Auto-reload enabled")},[F,_,D,P,w]),B=(0,n.useCallback)(async()=>{if(!F||!h||!_)return;let{maximumMonthlySpend:e,minimumBalance:t,targetBalance:n}=_;await (0,f.updateAutoTopupConfig)({teamIdOrSlug:F.id,updatedMaximumMonthlySpend:e??"",updatedMinimumBalance:t,updatedTargetBalance:n}),D(`/api/credit-topups?teamId=${F.id}&currency=vercel_agent_credits`),P.success("Auto-reload updated")},[F,h,_,D,P]),V=(0,n.useCallback)(async()=>{F&&h&&(await (0,g.deleteAutoTopupConfig)({teamIdOrSlug:F.id}),D(`/api/credit-topups?teamId=${F.id}&currency=vercel_agent_credits`),P.success("Auto-reload disabled"))},[F,h,D,P,g.deleteAutoTopupConfig]),$=(0,n.useCallback)(async()=>{if(T("in_progress"),!O)return void T("ready");let e=y.safeParse({minimumBalance:v({autoRechargeConfig:k,draftAutoRechargeConfig:_,type:"minimumBalance"}),targetBalance:v({autoRechargeConfig:k,draftAutoRechargeConfig:_,type:"targetBalance"}),maximumMonthlySpend:v({autoRechargeConfig:k,draftAutoRechargeConfig:_,type:"maximumMonthlySpend"})});if(!e.success){T("ready");let t={};e.error.errors.forEach(e=>{t[e.path[0]]=e.message}),R(t);return}if(void 0!==I&&Number(e.data.minimumBalance)>=Number(I)){T("ready"),R({minimumBalance:"Must be below your current balance"});return}R({});try{k&&!E?h?await V():w(null):!h&&_?await U():h&&_&&await B(),T("completed"),S?.()}catch{P.error("Auto-reload update failed. Try again."),T("ready")}},[h,_,E,k,U,B,V,w,P,O,S,I,T,R]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Stack,{direction:"column",gap:5,className:"mb-1",children:[(0,t.jsx)(a.Stack,{direction:"row",gap:2,align:"center",justify:"space-between",children:(0,t.jsx)(o.Toggle,{checked:E,size:"large",direction:"switch-first",onChange:()=>{j(e=>{let t=!e;return t&&N({minimumBalance:p.DEFAULT_AUTO_RECHARGE_MIN_BALANCE_USD.toString(),targetBalance:p.DEFAULT_AUTO_RECHARGE_TARGET_BALANCE_USD.toString(),maximumMonthlySpend:""}),R({}),t})},children:(0,t.jsx)("span",{className:"font-medium text-copy-14 text-gray-1000",children:E?"Enabled":"Disabled"})})}),(0,t.jsxs)(a.Stack,{direction:"row",gap:4,children:[(0,t.jsx)(r.Input,{"aria-labelledby":"balance-trigger-label",label:"When balance falls below",width:"100%",prefix:"$",suffix:"USD",value:v({autoRechargeConfig:k,draftAutoRechargeConfig:_,type:"minimumBalance"}),onChange:e=>{N(()=>L("minimumBalance",e.target.value)),M.minimumBalance&&R(e=>({...e,minimumBalance:void 0}))},disabled:!E,suffixStyling:!1,error:M.minimumBalance}),(0,t.jsx)(r.Input,{"aria-labelledby":"balance-reload-label",label:"Reload to target balance",width:"100%",prefix:"$",suffix:"USD",value:v({autoRechargeConfig:k,draftAutoRechargeConfig:_,type:"targetBalance"}),onChange:e=>{N(()=>L("targetBalance",e.target.value)),M.targetBalance&&R(e=>({...e,targetBalance:void 0}))},disabled:!E,suffixStyling:!1,error:M.targetBalance})]}),(0,t.jsx)(a.Stack,{children:(0,t.jsx)(r.Input,{"aria-labelledby":"max-spend-label",label:"Maximum monthly spend",width:"100%",prefix:"$",suffix:"USD",placeholder:v({autoRechargeConfig:k,draftAutoRechargeConfig:_,type:"maximumMonthlySpend"}),value:v({autoRechargeConfig:k,draftAutoRechargeConfig:_,type:"maximumMonthlySpend"}),onChange:e=>{N(()=>L("maximumMonthlySpend",e.target.value)),M.maximumMonthlySpend&&R(e=>({...e,maximumMonthlySpend:void 0}))},disabled:!E,suffixStyling:!1,error:M.maximumMonthlySpend})})]}),(0,t.jsxs)(u.Modal.Actions,{className:"-mx-6 mt-6",children:[C?(0,t.jsx)(i.Button,{type:"secondary",onClick:C,size:"small",children:"Cancel"}):null,(0,t.jsx)(i.Button,{onClick:$,loading:"in_progress"===A,disabled:!O,size:"small",children:"Save"})]})]})}e.s(["AutoRechargeForm",()=>C])},8863362,e=>{"use strict";var t=e.i(6468255),n=e.i(6696646),r=e.i(3884031),a=e.i(8528535),o=e.i(8158658),i=e.i(2596253),s=e.i(6891161),u=e.i(8522580),l=e.i(1344973),c=e.i(8951690),d=e.i(7608222),p=e.i(2471070),m=e.i(57106),g=e.i(9100551);function f(e){let{activeModalType:n,setActiveModalType:r,autoRechargeConfig:a}=e,o=(0,g.useParams)(),i="string"==typeof o?.teamSlug?o.teamSlug:void 0,{topups:f}=(0,p.useVercelAgentCreditTopups)(),h=f?.some(e=>"orb_ledger"===e.provider.type&&"miu"===e.provider.currency)??!1;return(0,t.jsxs)(s.Modal.Modal,{active:"auto_recharge"===n,onClickOutside:()=>r(null),children:[(0,t.jsxs)(s.Modal.Body,{className:h?void 0:"pb-0 -mb-px",children:[(0,t.jsxs)(s.Modal.Header,{children:[(0,t.jsx)(s.Modal.Title,{children:"Auto-Reload"}),(0,t.jsxs)(s.Modal.Subtitle,{children:["Keep ",d.VERCEL_AGENT_NAME," running by automatically adding credit when your balance falls below a certain amount."]})]}),h&&i?(0,t.jsx)(u.Note,{fill:!0,children:(0,t.jsxs)(l.Text,{children:["MIU draw down is enabled for ",d.VERCEL_AGENT_NAME,". Auto-reload is managed in your"," ",(0,t.jsx)(m.Link,{href:`/${i}/~/settings/billing#plan`,variant:"highlight",children:"billing settings"}),"."]})}):(0,t.jsx)(c.AutoRechargeForm,{autoRechargeConfig:a,onCancel:()=>r("top_up"),onComplete:()=>r("top_up")})]}),h&&(0,t.jsx)(s.Modal.Actions,{children:(0,t.jsx)(s.Modal.Action,{type:"secondary",onClick:()=>r("top_up"),children:"Back"})})]})}e.i(4373123);var h=e.i(5325056),b=e.i(2166755),y=e.i(5338940),v=e.i(7917902);function C(){let[e,s]=(0,n.useState)(null),{autoRechargeConfig:u}=(0,i.useVercelAgentCreditsAutoRecharge)(),{team:l}=(0,y.useTeam)(),{account:c}=(0,v.useAccount)(),d=(0,b.useEnvironment)(c),p=(0,n.useRef)(null);return{openModal:()=>s("top_up"),closeModal:(0,n.useCallback)(()=>{s(null),p.current?.()},[]),modals:(0,t.jsxs)(h.CopperProvider,{environment:d,teamIdOrSlug:l?.id,clearPaymentStateRef:p,children:[(0,t.jsx)(r.TopUpModal,{activeModalType:e,setActiveModalType:s,autoRechargeConfig:u}),(0,t.jsx)(a.CheckoutModal,{activeModalType:e,setActiveModalType:s}),(0,t.jsx)(o.default,{active:"add_card"===e,onAdded:()=>{s("checkout")},onCancel:()=>{s("checkout")}}),(0,t.jsx)(f,{activeModalType:e,setActiveModalType:s,autoRechargeConfig:u},JSON.stringify(u))]})}}e.s(["useAddCreditsModal",()=>C],8863362)}]);

//# sourceMappingURL=17389d0ab25c4806.js.map
//# debugId=f0bf1650-bb5b-53d4-8fe8-b1b6943be2de
