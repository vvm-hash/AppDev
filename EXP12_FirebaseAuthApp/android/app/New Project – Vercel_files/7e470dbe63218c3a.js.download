
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a30a6a1d-67ea-57a4-a5fd-6a011f6fc58f")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9583195,(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0});var o,a="basil",i="https://js.stripe.com",l="".concat(i,"/").concat(a,"/stripe.js"),s=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,u=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,c="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",d=function(){for(var e=document.querySelectorAll('script[src^="'.concat(i,'"]')),t=0;t<e.length;t++){var r,n=e[t];if(r=n.src,s.test(r)||u.test(r))return n}return null},p=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(l).concat(t);var n=document.head||document.body;if(!n)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},f=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},m=null,y=null,h=null,g=function(e,t,r){if(null===e)return null;var n,o=t[0].match(/^pk_test/),i=3===(n=e.version)?"v3":n;o&&i!==a&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,t);return f(l,r),l},b=function(e){var t="invalid load parameters; expected object of shape\n\n    {advancedFraudSignals: boolean}\n\nbut received\n\n    ".concat(JSON.stringify(e),"\n");if(null===e||"object"!==n(e))throw Error(t);if(1===Object.keys(e).length&&"boolean"==typeof e.advancedFraudSignals)return e;throw Error(t)},v=!1,S=function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];v=!0;var a=Date.now();return(e=o,null!==m?m:(m=new Promise(function(t,r){if("undefined"==typeof window||"undefined"==typeof document)return void t(null);if(window.Stripe&&e&&console.warn(c),window.Stripe)return void t(window.Stripe);try{var n,o=d();o&&e?console.warn(c):o?o&&null!==h&&null!==y&&(o.removeEventListener("load",h),o.removeEventListener("error",y),null==(n=o.parentNode)||n.removeChild(o),o=p(e)):o=p(e),h=function(){window.Stripe?t(window.Stripe):r(Error("Stripe.js not available"))},y=function(e){r(Error("Failed to load Stripe.js",{cause:e}))},o.addEventListener("load",h),o.addEventListener("error",y)}catch(e){r(e);return}})).catch(function(e){return m=null,Promise.reject(e)})).then(function(e){return g(e,r,a)})};S.setLoadParameters=function(e){if(!(v&&o&&Object.keys(b(e)).reduce(function(t,r){var n;return t&&e[r]===(null==(n=o)?void 0:n[r])},!0))){if(v)throw Error("You cannot change load parameters after calling loadStripe");o=b(e)}},r.loadStripe=S},633201,(e,t,r)=>{t.exports=e.r(9583195)},4361526,e=>{"use strict";var t=e.i(8042625),r=e.i(277234),n=e.i(4244280);async function o(e,o,a){let i={address:o};return void 0!==a&&(i.taxId=a),(0,r.fetchAPI)(`${n.API_SAVE_BILLING_DETAILS}${(0,t.encode)({teamId:e})}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i),throwOnHTTPError:!0})}e.s(["saveBillingDetails",()=>o])},9588822,9781044,e=>{"use strict";e.i(942336);var t=e.i(6468255),r=e.i(6696646),n=e.i(2304153);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=function(e,t,n){var o=!!n,a=r.default.useRef(n);r.default.useEffect(function(){a.current=n},[n]),r.default.useEffect(function(){if(!o||!e)return function(){};var r=function(){a.current&&a.current.apply(a,arguments)};return e.on(t,r),function(){e.off(t,r)}},[o,t,e,a])},d=function(e){var t=r.default.useRef(e);return r.default.useEffect(function(){t.current=e},[e]),t.current},p=function(e){return null!==e&&"object"===i(e)},f="[object Object]",m=function e(t,r){if(!p(t)||!p(r))return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;var o=Object.prototype.toString.call(t)===f;if(o!==(Object.prototype.toString.call(r)===f))return!1;if(!o&&!n)return t===r;var a=Object.keys(t),i=Object.keys(r);if(a.length!==i.length)return!1;for(var l={},s=0;s<a.length;s+=1)l[a[s]]=!0;for(var u=0;u<i.length;u+=1)l[i[u]]=!0;var c=Object.keys(l);return c.length===a.length&&c.every(function(n){return e(t[n],r[n])})},y=function(e,t,r){return p(e)?Object.keys(e).reduce(function(n,o){var i=!p(t)||!m(e[o],t[o]);return r.includes(o)?(i&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),n):i?a(a({},n||{}),{},l({},o,e[o])):n},null):null},h="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;if(null===e||p(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error(t)},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;if(p(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return g(e,t)})};var r=g(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},v=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},S=r.default.createContext(null);S.displayName="ElementsContext";var x=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},w=function(e){var t=e.stripe,n=e.options,o=e.children,a=r.default.useMemo(function(){return b(t)},[t]),i=s(r.default.useState(function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(n):null}}),2),l=i[0],u=i[1];r.default.useEffect(function(){var e=!0,t=function(e){u(function(t){return t.stripe?t:{stripe:e,elements:e.elements(n)}})};return"async"!==a.tag||l.stripe?"sync"!==a.tag||l.stripe||t(a.stripe):a.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[a,l,n]);var c=d(t);r.default.useEffect(function(){null!==c&&c!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[c,t]);var p=d(n);return r.default.useEffect(function(){if(l.elements){var e=y(n,p,["clientSecret","fonts"]);e&&l.elements.update(e)}},[n,p,l.elements]),r.default.useEffect(function(){v(l.stripe)},[l.stripe]),r.default.createElement(S.Provider,{value:l},o)};w.propTypes={stripe:n.default.any,options:n.default.object};var E=function(){var e;return(e="calls useElements()",x(r.default.useContext(S),e)).elements};n.default.func.isRequired;var j=r.default.createContext(null);j.displayName="CheckoutContext",n.default.any,n.default.shape({fetchClientSecret:n.default.func.isRequired,elementsOptions:n.default.object}).isRequired;var C=function(e){var t=r.default.useContext(j),n=r.default.useContext(S);if(!t)return x(n,e);if(!n)return t;throw Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."))},k=["mode"],P=function(e,t){var o="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),a=t?function(e){C("mounts <".concat(o,">"));var t=e.id,n=e.className;return r.default.createElement("div",{id:t,className:n})}:function(t){var n,a=t.id,i=t.className,l=t.options,u=void 0===l?{}:l,p=t.onBlur,f=t.onFocus,m=t.onReady,h=t.onChange,g=t.onEscape,b=t.onClick,v=t.onLoadError,S=t.onLoaderStart,x=t.onNetworksChange,w=t.onConfirm,E=t.onCancel,j=t.onShippingAddressChange,P=t.onShippingRateChange,T=t.onSavedPaymentMethodRemove,O=t.onSavedPaymentMethodUpdate,A=C("mounts <".concat(o,">")),I="elements"in A?A.elements:null,_="checkoutState"in A?A.checkoutState:null,R=(null==_?void 0:_.type)==="success"?_.checkout:null,$=s(r.default.useState(null),2),M=$[0],B=$[1],N=r.default.useRef(null),F=r.default.useRef(null);c(M,"blur",p),c(M,"focus",f),c(M,"escape",g),c(M,"click",b),c(M,"loaderror",v),c(M,"loaderstart",S),c(M,"networkschange",x),c(M,"confirm",w),c(M,"cancel",E),c(M,"shippingaddresschange",j),c(M,"shippingratechange",P),c(M,"savedpaymentmethodremove",T),c(M,"savedpaymentmethodupdate",O),c(M,"change",h),m&&(n="expressCheckout"===e?m:function(){m(M)}),c(M,"ready",n),r.default.useLayoutEffect(function(){if(null===N.current&&null!==F.current&&(I||R)){var t=null;if(R)switch(e){case"payment":t=R.createPaymentElement(u);break;case"address":if("mode"in u){var r=u.mode,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(u,k);if("shipping"===r)t=R.createShippingAddressElement(n);else if("billing"===r)t=R.createBillingAddressElement(n);else throw Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":t=R.createExpressCheckoutElement(u);break;case"currencySelector":t=R.createCurrencySelectorElement();break;case"taxId":t=R.createTaxIdElement(u);break;default:throw Error("Invalid Element type ".concat(o,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else I&&(t=I.create(e,u));N.current=t,B(t),t&&t.mount(F.current)}},[I,R,u]);var L=d(u);return r.default.useEffect(function(){if(N.current){var e=y(u,L,["paymentRequest"]);e&&"update"in N.current&&N.current.update(e)}},[u,L]),r.default.useLayoutEffect(function(){return function(){if(N.current&&"function"==typeof N.current.destroy)try{N.current.destroy(),N.current=null}catch(e){}}},[]),r.default.createElement("div",{id:a,className:i,ref:F})};return a.propTypes={id:n.default.string,className:n.default.string,onChange:n.default.func,onBlur:n.default.func,onFocus:n.default.func,onReady:n.default.func,onEscape:n.default.func,onClick:n.default.func,onLoadError:n.default.func,onLoaderStart:n.default.func,onNetworksChange:n.default.func,onConfirm:n.default.func,onCancel:n.default.func,onShippingAddressChange:n.default.func,onShippingRateChange:n.default.func,onSavedPaymentMethodRemove:n.default.func,onSavedPaymentMethodUpdate:n.default.func,options:n.default.object},a.displayName=o,a.__elementType=e,a},T="undefined"==typeof window;r.default.createContext(null).displayName="EmbeddedCheckoutProviderContext";var O=function(){return C("calls useStripe()").stripe};P("auBankAccount",T),P("card",T),P("cardNumber",T),P("cardExpiry",T),P("cardCvc",T),P("fpxBank",T),P("iban",T),P("idealBank",T),P("p24Bank",T),P("epsBank",T);var A=P("payment",T);P("expressCheckout",T),P("paymentRequestButton",T),P("linkAuthentication",T);var I=P("address",T);P("shippingAddress",T),P("paymentMethodMessaging",T),P("affirmMessage",T),P("afterpayClearpayMessage",T),P("taxId",T),e.s(["AddressElement",()=>I,"Elements",()=>w,"PaymentElement",()=>A,"useElements",()=>E,"useStripe",()=>O],9781044);var _=e.i(633201),R=e.i(7045913),$=e.i(8248823),M=e.i(57106),B=e.i(4030453),N=e.i(9739627),F=e.i(9318197),L=e.i(9508212),D=e.i(1344973),V=e.i(5468328),q=e.i(455575),U=e.i(3869281),W=e.i(8735244),z=e.i(4004502),Y=e.i(5802506),H=e.i(277234),J=e.i(4244280),K=e.i(5338940),G=e.i(7917902),Z=e.i(5140444),Q=e.i(287495),X=e.i(6143247),ee=e.i(4361526);function et(e,t){let[n,o]=(0,r.useState)(()=>{let r=e.current;return!!r&&r.getBoundingClientRect().width>t});return(0,r.useEffect)(()=>{let r=e.current;if(!r)return;let n=new ResizeObserver(e=>{0===e.length||o(Math.round(e[0].contentRect.width)>t)});return n.observe(r),()=>n.disconnect()},[e,t]),n}let er=["rate_limit_error","invalid_request_error","api_error","api_connection_error"];function en(e){let{error:n,stripeMode:o,makeDefaultBillingAddress:a,setMakeDefaultBillingAddress:i,makeDefaultPaymentMethod:l,setMakeDefaultPaymentMethod:s,showSetDefaultPayment:u=!1,backgroundClassName:c,onReady:d}=e,[p,f]=(0,r.useState)(!0),[m,y]=(0,r.useState)(!0),[h,g]=(0,r.useState)(!0),{account:b}=(0,G.useAccount)(),{user:v}=(0,Z.useUser)();(0,r.useEffect)(()=>{p||m||requestAnimationFrame(()=>{g(!1),d?.()})},[p,m,d]);let S=(0,r.useRef)(null),x=(0,r.useRef)(null),w=et(x,400),E=et(x,742);return(0,r.useEffect)(()=>{n&&S.current&&!p&&!m&&S.current.scrollIntoView({behavior:"smooth"})},[n,S,p,m]),(0,t.jsxs)("div",{children:[(0,t.jsxs)(L.Stack,{gap:5,children:[(0,t.jsxs)("div",{ref:x,children:[(0,t.jsxs)(L.Stack,{className:(0,X.cn)("relative min-h-[365px]",{"min-h-[445px]":w,"min-h-[348px]":E}),gap:5,children:["test"===o?(0,t.jsx)(V.Tooltip,{style:{position:"absolute",right:0,top:0,zIndex:100},text:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.Text,{as:"span",color:"gray-900",children:"This is a Test Mode form. You can use test cards and will never be charged real money."}),(0,t.jsx)(M.Link,{color:"accents-1",external:!0,href:"https://www.notion.so/vercel/How-to-test-Billing-Stripe-9df4807475824fefaea5f0e7c3253288",children:"Learn More"})]}),children:(0,t.jsx)(N.Image,{alt:"Stripe Icon",height:19,srcDark:"/front/dashboard/stripe-test-mode.png",srcLight:"/front/dashboard/stripe-test-mode.png",width:19})}):null,(0,t.jsx)(A,{onReady:()=>f(!1),options:{layout:"tabs",defaultValues:{billingDetails:ea(v,b)}}}),(0,t.jsx)(I,{onReady:()=>y(!1),options:{mode:"billing",display:{name:"full"},defaultValues:{name:v?.name??b?.billing?.name??void 0,address:b?.billing?.address?.country?{line1:b.billing.address.line1,line2:b.billing.address.line2,city:b.billing.address.city,state:function(e){if(e?.state)return"US"===e.country?e.state.split("-").pop():e.state}(b.billing.address),postal_code:b.billing.address.postalCode,country:b.billing.address.country}:void 0}}}),(0,t.jsx)("div",{className:(0,X.cn)("flex items-center justify-center absolute inset-0 w-[calc(100%+8px)] h-[calc(100%+8px)] -m-1 p-2",{"opacity-0 pointer-events-none":!h},c??"bg-background-200"),children:(0,t.jsx)(W.Spinner,{})})]}),n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.Spacer,{y:.5}),(0,t.jsx)(B.Error,{"data-testid":(0,z.tid)("card-modal","error"),error:"string"==typeof n?{message:n}:n})]}):null]}),(0,t.jsxs)(L.Stack,{gap:3,children:[u?(0,t.jsx)(U.Checkbox,{checked:l,onChange:()=>s(!l),children:"Set as default payment method"}):null,(0,t.jsx)(U.Checkbox,{checked:a,onChange:()=>i(!a),children:"Use the billing address as my team's primary address"})]})]}),(0,t.jsx)("div",{ref:S})]})}let eo=new Map;function ea(e,t){return{name:e?.name??t?.billing?.name??void 0,email:e?.email??t?.billing?.email??void 0,address:{line1:t?.billing?.address?.line1,line2:t?.billing?.address?.line2,city:t?.billing?.address?.city,state:t?.billing?.address?.state,postal_code:t?.billing?.address?.postalCode,country:t?.billing?.address?.country}}}e.s(["BillingForm",()=>en,"useBillingForm",0,e=>{let[t,n]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1),[i,l]=(0,r.useState)(!0),[s,u]=(0,r.useState)(!1),c=t||o,[d,p]=(0,r.useState)(null),f=E(),m=O(),{team:y,mutate:h}=(0,K.useTeam)(e?.teamOverride?.slug),{user:g,account:b}=(0,G.useAccount)(!1,e?.teamOverride?.slug),v=(0,R.useRouter)(),S=(0,r.useCallback)(()=>{p(null),n(!1)},[]),x=(0,r.useCallback)(async(t,r,o,a)=>{let i,l,s;if(!f||!m)return null;if(p(null),n(!0),(await f.submit()).error){n(!1);try{e?.formResultErrorCallback?.()}catch{}return null}try{var u;let e=t??(o?y?.id:void 0),n=e?`?teamId=${encodeURIComponent(e)}`:"",c={assign:!!r,automaticPaymentMethods:!0};n||"test"!==m._keyMode||(c.mode="test");let d=await (0,H.fetchAPI)(J.API_STRIPE_SETUP_INTENT+n,{method:"POST",body:JSON.stringify(c),throwOnHTTPError:!0});if({setupIntent:i,error:l}=await m.confirmSetup({elements:f,clientSecret:d.client_secret,confirmParams:{return_url:window.location.origin,payment_method_data:{allow_redisplay:"always",billing_details:ea(g,b)}},redirect:"if_required"}),s=(u=i?.payment_method)?"string"==typeof u?u:u.id:null,r&&s&&await (0,H.fetchAPI)(J.API_STRIPE_PAYMENT_METHODS+n,{method:"POST",body:{paymentMethod:s,makeDefault:a?.makeDefault??!0},throwOnHTTPError:!0}),a?.saveBillingAddress){let t=await f.getElement("address")?.getValue(),r=t?.value.address;if(!r)return p({message:"Failed to save billing address."}),null;let n={line1:r.line1,line2:r.line2??void 0,city:r.city,state:r.state,zipCode:r.postal_code,country:r.country.toLowerCase()},o=e??(b&&"uid"in b?b.uid:void 0);if(!o)return p({message:"Failed to save billing address."}),null;await (0,ee.saveBillingDetails)(o,n).catch(()=>{let e=b&&"slug"in b?b.slug:b?.username;q.toasts.message({text:"There was a problem saving your billing address. Please visit billing settings to update it.",action:"Go to Settings",onAction:()=>{v?.replace(`/${e}/~/settings/billing#billing-address`)},cancelAction:"Dismiss",preserve:!0})}),await h().catch(()=>{})}}catch(e){return n(!1),p({message:(0,$.errorToString)(e),sendToSentry:!1}),null}if(n(!1),l){let e=er.includes(l.type);return p({message:`${(0,$.errorToString)(l)}`,sendToSentry:e,additionalStripeErrorInfo:{code:l.code,type:l.type}}),null}return i?"requires_payment_method"===i.status?(p({message:"Please try another payment method."}),null):s:(p({message:"Failed to set up payment method."}),null)},[b,g,f,h,v,m,y?.id,e?.formResultErrorCallback]),w=(0,r.useCallback)(async function(){let{teamId:e,assignCardToEntity:t=!0,shouldUseTeam:r=!0,makeDefault:n=!0,saveBillingAddress:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(c||!f||!m)return null;p(null),a(!0);let i=await x(e,t,r,{makeDefault:n,saveBillingAddress:o});return a(!1),i??null},[f,m,c,x]),j=!m||!f||c;return{error:d,disabled:j,submitting:j,submit:w,registerCard:x,setBillingError:p,stripe:m,reset:S,elements:f,stripeMode:m?._keyMode,makeDefaultBillingAddress:i,setMakeDefaultBillingAddress:l,makeDefaultPaymentMethod:s,setMakeDefaultPaymentMethod:u}},"withStripe",0,e=>{function n(n){let{account:o}=(0,G.useAccount)(),a=(0,Q.default)(),i=(0,r.useMemo)(()=>{let e=window.getComputedStyle(document.documentElement),t=e.getPropertyValue("--ds-background-100"),r=e.getPropertyValue("--ds-gray-1000"),n=e.getPropertyValue("--ds-gray-900"),o=e.getPropertyValue("--ds-gray-alpha-400"),i=e.getPropertyValue("--ds-gray-alpha-500"),l=e.getPropertyValue("--ds-gray-alpha-600"),s=e.getPropertyValue("--ds-red-900"),u=e.getPropertyValue("--ds-red-500"),c=e.getPropertyValue("--ds-red-300"),d=e.getPropertyValue("--ds-blue-900");return{theme:a?"stripe":"night",variables:{colorBackground:t,colorPrimary:a?"#0067D6":"#52A9FF",colorText:r,fontSizeBase:"16px",fontFamily:e.getPropertyValue("--font-sans"),colorDanger:s,gridRowSpacing:"16px",gridColumnSpacing:"12px",tabIconColor:n,tabIconHoverColor:r},disableAnimations:!0,rules:{".Input":{paddingLeft:"12px",paddingRight:"12px",fontSize:"14px",color:r,backgroundColor:t,borderRadius:"6px",borderWidth:"0px",boxShadow:`0 0 0 1px ${o}`,transition:"box-shadow 150ms"},".Input.Input:focus":{boxShadow:`0 0 0 1px ${l}, 0px 0px 0px 4px ${a?"rgba(0, 0, 0, 0.16)":"rgba(255, 255, 255, 0.24)"}`},".Input:hover":{boxShadow:`0 0 0 1px ${i}`},".Input--invalid":{boxShadow:`0 0 0 1px ${s}, 0 0 0 4px ${c}`,color:r},".Input--invalid.Input--invalid:focus":{boxShadow:`0 0 0 1px ${s}, 0 0 0 4px ${c}`},".Input--invalid:hover":{boxShadow:`0 0 0 1px ${s}, 0 0 0 4px ${u}`},".Error":{color:s,fontSize:"13px"},".Label":{fontSize:"13px",color:n,textTransform:"capitalize",marginBottom:"8px"},".Text--terms":{fontSize:"13px",color:n},".Tab":{backgroundColor:t,color:n,borderWidth:"1px",boxShadow:`0 0 0 1px ${o}`,borderColor:"transparent"},".Tab:hover":{color:r,borderWidth:"1px",boxShadow:`0 0 0 1px ${o}`,borderColor:"transparent"},".Tab:focus":{color:r,borderWidth:"1px",boxShadow:`0 0 0 1px ${o}`,borderColor:"transparent"},".Tab--selected":{color:d,boxShadow:`0 0 0 1px ${o}`,border:`1px solid ${d}`,backgroundColor:"transparent",borderColor:d},".Tab--selected:hover":{color:d,boxShadow:`0 0 0 1px ${o}`,border:`1px solid ${d}`,backgroundColor:"transparent",borderColor:d},".Tab--selected:focus":{color:d,boxShadow:`0 0 0 1px ${o}`,border:`1px solid ${d}`,backgroundColor:"transparent",borderColor:d},".TabIcon":{color:n},".TabIcon:hover":{color:r},".TabIcon--selected":{color:d,fill:d},".TabLabel--selected":{color:d},".Block":{backgroundColor:t,color:r,borderWidth:"0px",boxShadow:`0 0 0 1px ${o}`},".BlockDivider":{backgroundColor:o},".BlockAction":{color:d}}}},[a]),l=o?.billing?.platform==="stripeTestMode";return(0,t.jsx)(w,{options:{appearance:i,fonts:[{cssSrc:"https://fonts.googleapis.com/css2?family=Geist:wght@100..900&display=swap"}],currency:"usd",mode:"setup",loader:"never"},stripe:function(e){if(!e)return Promise.resolve(null);let t=eo.get(e);return t||(t=(0,_.loadStripe)(e).catch(t=>((0,Y.captureError)(t),eo.delete(e),null)),eo.set(e,t)),t}(l?"pk_test_51KWTJcBQYfoTMhVJkeKojfST4MsShve9XJ7Seqw7mgZaUCeO1DR4dR3EkrWFDqD0MG5IiZRYFygw6ZR8FnmZZKnn004vR9fkFq":"pk_live_alyEi3lN0kSwbdevK0nrGwTw"),children:(0,t.jsx)(e,{...n})})}return n.displayName=`WithStripe${e.displayName||e.name||"Component"}`,n}],9588822)}]);

//# sourceMappingURL=66c6a65b7a2baa6c.js.map
//# debugId=a30a6a1d-67ea-57a4-a5fd-6a011f6fc58f
