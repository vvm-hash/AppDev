
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a5fe75ac-5b77-5b33-85bd-22194cdbe1e5")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4043190,1610543,5758916,2381001,9974972,9584282,6119682,13501,e=>{"use strict";var t=e.i(6468255),n=e.i(6696646),i=e.i(1991452),l=e.i(6891161),s=e.i(8362472),r=e.i(57106),o=e.i(9716741);e.s(["default",0,function(e){let{active:n,onCancel:a}=e,{teamSlug:d,project:c}=(0,i.useRouter)().query;return(0,t.jsxs)(l.Modal.Modal,{active:n,onClickOutside:a,children:[(0,t.jsxs)(l.Modal.Body,{children:[(0,t.jsx)(l.Modal.Header,{children:(0,t.jsx)(l.Modal.Title,{children:"Assign Domain"})}),(0,t.jsxs)(o.default,{preset:"body-2",children:["In order to assign a domain to your production deployments, configure it in"," ",(0,t.jsx)(r.Link,{as:`/${d}/${c}/settings/domains`,href:"/[teamSlug]/[project]/settings/domains",variant:"highlight",children:"the project settings"})," ",(0,t.jsx)("strong",{children:"(recommended)"}),"."]}),(0,t.jsxs)(o.default,{preset:"body-2",children:["If you want to assign to this specific deployment, however, you can do so using our"," ",(0,t.jsx)(r.Link,{href:"/cli",tab:!0,variant:"highlight",children:"command-line interface"}),":"]}),(0,t.jsx)(s.Snippet,{text:"vercel alias <deployment> <domain>",width:"100%"})]}),(0,t.jsx)(l.Modal.Actions,{children:(0,t.jsx)(l.Modal.Action,{fullWidth:!0,onClick:a,children:"OK"})})]})}],4043190);var a=e.i(3306538),d=e.i(6850581),c=e.i(5255926),u=e.i(9508212),m=e.i(1344973),h=e.i(5468328),p=e.i(3981247),x=e.i(8893913),j=e.i(3753138),g=e.i(6226725),y=e.i(5169576),f=e.i(3978547),v=e.i(4004502),b=e.i(7442760),k=e.i(1717203),S=e.i(7557283),D=e.i(7957424),A=e.i(7218483),R=e.i(5819220),C=e.i(979715),I=e.i(3872542),T=e.i(7808943),w=e.i(9100551),M=e.i(9722978),N=e.i(8735244),L=e.i(85019),P=e.i(4641028),E=e.i(5356862);function z(e){let{children:n,inProgress:i}=e;return(0,t.jsxs)("div",{className:"flex items-center",children:[i?(0,t.jsx)("div",{className:"ml-[-1.5px] w-[19.5px]",children:(0,t.jsx)(N.Spinner,{size:12})}):null,n]})}let F=function(e){let n,{deployment:i,padLeft:l,showSpinner:s=!0,onlyBuild:r=!1}=e,{teamSlug:o}=(0,w.useParams)()??{},a=(0,A.useAge)(i?.buildingAt||void 0,{includeSeconds:!0}),d=i&&"id"in i?i.id:i?.uid,u=i&&"READY"===i.readyState&&i.checksState,{data:m,checks:h,isLoading:p}=(0,P.default)({deploymentId:u?d:void 0,teamId:o}),x=W(i,h,r)||0,j=i?.undeleted||i?.deleted||i?.createdAt||i?.created,g=j?j+x:void 0,y=i?.deleted!==void 0,f=g?new Date(g).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",v=(0,A.useAgo)(g,{suffix:" ago",alwaysRelative:!0});if(!i||p&&!m)return(0,t.jsx)(c.Skeleton,{height:16,width:100});let b=i.checksState&&!i.checksConclusion,k=!!("BUILDING"===i.readyState||"READY"===i.readyState&&!i.aliasAssigned&&b),S=(n=W(i,h,r),(0,L.age)(n,{includeSeconds:!0})||"—"),D=(0,t.jsx)("span",{className:(0,M.clsx)({"pl-[18px]":!k&&l}),suppressHydrationWarning:!0,children:y?(0,t.jsx)("span",{suppressHydrationWarning:!0,title:f,children:v}):(0,t.jsxs)(t.Fragment,{children:[k?a:S,!k&&v?(0,t.jsxs)("span",{suppressHydrationWarning:!0,title:f,children:[" ","(",v,")"]}):null]})});return s?(0,t.jsx)(z,{inProgress:k,children:D}):D};function W(e,t,n){if(!e||"BUILDING"===e.readyState||!("buildingAt"in e))return;let i="readyStateAt"in e?e.readyStateAt:e.ready;if(!i||!e.buildingAt)return;let l=i-e.buildingAt;if(n)return l;let s=t?.length?(0,E.getChecksTimes)(t,e):void 0,r=s?.checksFinishedAt&&s.checksStartedAt?s.checksFinishedAt-s.checksStartedAt:0,o=e.aliasAssignedAt??("number"==typeof e.aliasAssigned?e.aliasAssigned:void 0),a=0;if(o){let e=s?.checksFinishedAt?o-s.checksFinishedAt:o-i;e<18e5&&(a=e)}return l+r+a}var B=e.i(8529990),U=e.i(6625227),O=e.i(6060673),$=e.i(2689512),H=e.i(5071474),q=e.i(7952998),V=e.i(5002318),G=e.i(2084539),Y=e.i(9995926),_=e.i(9375869),K=e.i(8216525),Q=e.i(3907048),J=e.i(779588),Z=e.i(5326905),X=e.i(8459493),ee=e.i(7448864),et=e.i(940143),en=e.i(455575),ei=e.i(7749291),el=e.i(5338940),es=e.i(545405),er=e.i(4478191),eo=e.i(8366444);function ea(e){let{isDisabled:n,menuText:i,tidString:l,icon:s,disabledTooltip:r,title:o,onClick:a}=e;return n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Stack,{className:"geist-show-on-mobile",children:(0,t.jsx)(h.Tooltip,{boxAlign:"left",text:r,children:(0,t.jsx)(X.MenuItem,{"data-testid":(0,v.tid)("deployment-entity","dots-menu",l),disabled:!0,suffix:s,children:(0,t.jsx)(u.Stack,{align:"center",direction:"row",gap:2,children:(0,t.jsx)(m.Text,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:i})})})})}),(0,t.jsx)(u.Stack,{className:"geist-hide-on-mobile",children:(0,t.jsx)(h.Tooltip,{forceHide:!1,position:"left",style:{width:"100%"},text:r,children:(0,t.jsx)(X.MenuItem,{"data-testid":(0,v.tid)("deployment-entity","dots-menu",l),disabled:!0,style:{width:"100%"},suffix:s,children:(0,t.jsx)(u.Stack,{align:"center",direction:"row",gap:2,children:(0,t.jsx)(m.Text,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:i})})})})})]}):(0,t.jsx)(X.MenuItem,{"data-testid":(0,v.tid)("deployment-entity","dots-menu",l),onClick:a,suffix:s,title:o,children:(0,t.jsx)(u.Stack,{align:"center",direction:"row",gap:2,children:(0,t.jsx)(m.Text,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:i})})})}var ed=e.i(6619197),ec=e.i(9365163);function eu(e){let{openModal:n,rollingRelease:i,teamSlug:l,projectSlug:s}=e;return ea({isDisabled:!1,menuText:"Abort Rollout",tidString:"abort-rollout",icon:(0,t.jsx)(x.RotateCounterClockwise,{}),disabledTooltip:"",title:"Abort Rollout",onClick:()=>{n&&i&&l&&s&&n(l,s,i)}})}function em(e){let{openModal:n,rollingRelease:i,teamSlug:l,projectSlug:s}=e;return ea({isDisabled:!1,menuText:"Force Complete",tidString:"force-complete",icon:(0,t.jsx)(j.ArrowCircleUp,{}),disabledTooltip:"",title:"Force Complete",onClick:()=>{n&&i&&l&&s&&n(l,s,i)}})}function eh(e){let{deployment:n,redeploy:i,handleClickRunInstantly:l,handleClickCreateAlias:s,itemsOnly:o,handleCancelDeployment:a,canPromoteToProduction:d,canRedeployProduction:c,canUpdateDeployment:u,canReadDeployment:m,canRollbackDeployment:h,handleClickRollback:p,isRollingReleaseCanaryDeployment:g,isRollingReleaseActive:y,rollingRelease:f,openCompleteRollingReleaseModal:v,openAbortRollingReleaseModal:b}=e,k=(0,en.useToasts)(),S=(0,_.useDeploymentLink)(n),D=a&&("QUEUED"===n.readyState||"BUILDING"===n.readyState),A="READY"===n.readyState,{team:R}=(0,el.useTeam)(),{enabled:C}=(0,eo.useOnDemandConcurrentBuilds)(R,u),I="QUEUED"===n.readyState&&C,T="target"in n&&"production"!==n.target?u:c&&u,w=d&&T&&u&&m&&h,M=(0,ec.useRollbackTooltip)(n),N=ea({isDisabled:!!M,menuText:"Instant Rollback",tidString:"instant-rollback",icon:(0,t.jsx)(x.RotateCounterClockwise,{}),disabledTooltip:M,title:"Instant Rollback",onClick:p}),L=y?"Queue for Promotion":"target"in n&&"production"===n.target?"Promote":"Promote to Production",P=null,E=(0,ed.usePromoteTooltip)(n);d&&(P=(0,t.jsxs)(t.Fragment,{children:[ea({isDisabled:!!E,disabledTooltip:E,menuText:L,tidString:"promote",icon:(0,t.jsx)(j.ArrowCircleUp,{}),title:L,onClick:()=>i(n,!0)}),(0,t.jsx)(Z.MenuDivider,{})]}));let z=g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(et.MenuSection,{title:"Manage Rolling Release",children:[(0,t.jsx)(eu,{openModal:b,rollingRelease:f,teamSlug:R?.slug,projectSlug:n.name}),(0,t.jsx)(em,{openModal:v,rollingRelease:f,teamSlug:R?.slug,projectSlug:n.name})]}),(0,t.jsx)(Z.MenuDivider,{})]}):(0,t.jsxs)(t.Fragment,{children:[h?N:null,d?P:null]}),F=(0,t.jsxs)(t.Fragment,{children:[d||h?z:null,T?(0,t.jsx)(X.MenuItem,{onClick:()=>i(n),children:"Redeploy"}):null,I&&u?(0,t.jsx)(X.MenuItem,{onClick:l,children:"Start Building Now"}):null,m?(0,t.jsx)(X.MenuItem,{Component:r.Link,href:S,isLink:!0,children:"Inspect Deployment"}):null,m?(0,t.jsx)(X.MenuItem,{Component:r.Link,href:`${S}/source`,isLink:!0,children:"View Source"}):null,m?(0,t.jsx)(X.MenuItem,{onClick:()=>{(0,es.copyToClipboard)(n.url),k.message("Copied to clipboard!")},children:"Copy URL"}):null,A&&u?(0,t.jsx)(X.MenuItem,{onClick:s,children:"Assign Domain"}):null,D&&u?(0,t.jsx)(X.MenuItem,{onClick:()=>a?.(n),type:"error",children:"Cancel Deployment"}):null,m?(0,t.jsxs)(X.MenuItem,{Component:r.Link,disabled:!n,href:(0,er.withDefaultRoute)(`https://${n.url}`,n.defaultRoute),isLink:!0,target:"_blank",children:["Visit   ",(0,t.jsx)(ei.ExternalSmall,{})]}):null,!w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z.MenuDivider,{}),h?null:(0,t.jsx)(ee.MenuItemLocked,{children:"Instant Rollback"}),d?null:(0,t.jsx)(ee.MenuItemLocked,{children:"Promote"}),T?null:(0,t.jsx)(ee.MenuItemLocked,{children:"Redeploy"}),I&&!u?(0,t.jsx)(ee.MenuItemLocked,{children:"Run Build"}):null,m?null:(0,t.jsx)(ee.MenuItemLocked,{children:"Inspect Deployment"}),m?null:(0,t.jsx)(ee.MenuItemLocked,{children:"View Source"}),m?null:(0,t.jsx)(ee.MenuItemLocked,{children:"Copy URL"}),A&&!u?(0,t.jsx)(ee.MenuItemLocked,{children:"Assign Domain"}):null,D&&!u?(0,t.jsx)(ee.MenuItemLocked,{children:"Cancel Deployment"}):null,m?null:(0,t.jsxs)(ee.MenuItemLocked,{children:["Visit   ",(0,t.jsx)(ei.ExternalSmall,{})]})]})]});return o?F:(0,t.jsx)(J.DotsMenu,{closeOnSelect:!1,children:F})}var ep=e.i(6143247),ex=e.i(8270020);function ej(){return(0,ex.useIsActive)()?8e3:3e4}e.s(["useDeploymentsPageRefreshInterval",()=>ej],1610543);var eg=e.i(4396019);function ey(e){let{datetime:n,label:i,tooltipTop:l}=e;return(0,t.jsx)(h.Tooltip,{text:(0,t.jsx)(V.DeploymentAliasToolTipText,{datetime:n,tooltipTop:l}),children:(0,t.jsx)("div",{className:"inline-flex items-center text-gray-900 font-medium text-label-14 truncate max-w-full z-10 relative",children:i})})}function ef(e){let{datetime:n}=e,i=(0,A.useAgo)(n);return(0,t.jsx)("span",{children:i})}function ev(e){let{datetime:n}=e;return n?(0,t.jsx)(ef,{datetime:n}):null}var eb=e.i(4206574),ek=e.i(4597921);function eS(e){let{deployment:n}=e,l=(0,i.useRouter)(),{data:s}=(0,O.useProject)(n?.name);return(0,t.jsx)(C.EntityField,{thumbnail:s?(0,t.jsx)($.ProjectAvatar,{project:s,size:22}):(0,t.jsx)($.ProjectAvatarSkeleton,{size:22}),thumbnailSize:22,title:s?(0,t.jsx)(r.Link,{href:`/${l.query.teamSlug}/${s.name}`,title:s.name,children:s.name}):n?.name??null})}function eD(e){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)(eC,{}),children:(0,t.jsx)(eA,{...e})})}function eA(e){let i,{deployment:l,deploymentsMap:s}=e,o=l?.meta?.originalDeploymentId,a=o?String(o):void 0;a&&(i=s?.get(a));let{data:d,isLoading:u}=(0,U.default)(i?void 0:a,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});d&&(i=d);let m=(0,_.useDeploymentLink)(i),h=(0,n.useMemo)(()=>i?(0,H.default)(i).hash:"",[i]);if(a){let e=l?.meta?.action==="promote"||l?.target==="production"&&i?.target!=="production";return(0,t.jsx)(C.EntityField,{title:(0,t.jsx)("div",{className:"flex h-[20px] flex-row gap-2 text-[var(--accents-6)]",children:u?(0,t.jsx)(c.Skeleton,{boxHeight:22,height:14,vcenter:!0,width:100}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid place-content-center",children:e?(0,t.jsx)(j.ArrowCircleUp,{}):(0,t.jsx)(x.RotateCounterClockwise,{})}),(0,t.jsxs)("span",{className:"flex min-w-0 items-center gap-[0.3em]",children:[e?"Production Rebuild":"Redeploy"," of"," ",i?(0,t.jsx)(r.Link,{className:"z-[2] flex min-w-0 text-inherit",href:m,title:i.host||"",variant:"secondary",prefetch:!1,children:h?(0,t.jsx)(T.default,{className:"overflow-hidden truncate whitespace-nowrap bg-transparent p-0 text-[13.5px] text-inherit",children:h}):i.host||""}):"a deleted deployment"]})]})}),titleSkeletonWidth:100})}return(0,t.jsx)(eR,{deployment:l,skeletonWidth:100})}function eR(e){let{deployment:n,skeletonWidth:i}=e;return n?(0,t.jsx)(C.EntityField,{description:(0,t.jsx)(q.DeploymentSource,{branchClassName:"text-[13.5px]",commitClassName:"text-[13.5px]",lineClassName:"gap-x-2 text-gray-1000",secondLineLinkClassName:"gap-x-1 text-[13.5px]",deployment:n}),descriptionSkeletonWidth:i,title:null,titleSkeletonWidth:i}):(0,t.jsx)(eC,{})}function eC(){return(0,t.jsx)(C.EntityField,{description:null,descriptionSkeletonWidth:100,title:null,titleSkeletonWidth:100})}function eI(e){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)(ew,{...e}),children:(0,t.jsx)(eT,{...e})})}function eT(e){let{scope:n}=(0,b.useDeploymentListScope)(),{deployment:i}=e,{team:l}=(0,el.useTeam)(),s=ej(),r=e.projectIdOrName??i?.projectId??i?.name,{data:o}=(0,O.useProject)(r),{deployment:a}=(0,eg.useProjectProductionDeployment)(r,{config:{refreshInterval:s}}),d=i?.customEnvironment?.id&&!i.customEnvironment.slug,{data:c}=(0,D.useCustomEnvironments)(r,{revalidateIfStale:!1,skip:!d}),{data:u}=(0,p.useRollingRelease)({teamIdOrSlug:l?.slug,projectSlug:i?.name},{refreshInterval:s}),m=(0,_.useDeploymentLink)(i),{can:h,isLoading:x}=(0,k.default)({projectIdOrName:r}),{deploymentTargetLabel:j}=(0,Y.useDeploymentEnvironmentLabel)({deployment:i,customEnvironments:c?.customEnvironments}),g=(0,ek.useServerFlag)("promotion-status-visible",!1);return(0,t.jsx)(ew,{...e,arePermissionsLoading:x,can:h,deploymentLink:m,deploymentTargetLabel:j,isCurrentProductionDeployment:a?.id===i?.uid,rollingRelease:u?.rollingRelease??void 0,project:o,isProjectDeploymentsPage:"PROJECT_DEPLOYMENTS"===n,promotionStatusVisibleFlag:g})}let ew=(0,n.memo)(function(e){let{deployment:i,deploymentsMap:l,isCurrentProductionDeployment:s,rollingRelease:o,redeploy:c,handleClickCreateAlias:p,handleCancelDeployment:b,handleClickRunInstantly:k,project:D,openRollbackModal:T,projectCellEnabled:w,deploymentLink:M,can:N,arePermissionsLoading:L,deploymentTargetLabel:P,skeleton:E,openCompleteRollingReleaseModal:z,openAbortRollingReleaseModal:W,isProjectDeploymentsPage:U,promotionStatusVisibleFlag:O}=e,$=D?.lastAliasRequest?.type==="rollback"&&D.lastAliasRequest.toDeploymentId===i?.uid,q=D?.lastAliasRequest?.type==="rollback"&&D.lastAliasRequest.fromDeploymentId===i?.uid,Y=$&&D.lastAliasRequest?.requestedAt||i?.created||0,_=(0,A.useAgo)(Y),J=i?(0,B.getGitInfoFromDeployment)(i):null,Z=i?.meta?.deployHookId||void 0,X=(e,t)=>N?.(e,t)??!1,ee=!!(D&&L),et=i?.target!==null?S.Resource.Deployment:S.Resource.DeploymentPreview,en=X(S.Action.Update,et),ei=X(S.Action.Read,et),el=X(S.Action.Create,S.Resource.DeploymentRollback),es=X(S.Action.Create,S.Resource.Deployment),er=X(S.Action.Create,S.Resource.DeploymentFromProductionBranch),eo=!ee&&(es||er||en||ei||el),ea=(0,n.useMemo)(()=>(0,H.default)(i).hash,[i]),ed=null,ec=o?.state==="ACTIVE"&&!!(o.canaryDeployment?.id&&o.canaryDeployment.id===i?.uid),eu=o?.state==="ACTIVE"&&!!(o.queuedDeploymentId&&o.queuedDeploymentId===i?.uid),em=null,ex=(0,eb.getPromotionStatusInfo)({deployment:i,rollingRelease:o,project:D});O&&(em=ex?(0,t.jsx)(C.EntityField,{description:ex.datetime?(0,t.jsx)("span",{className:"block h-[20px] tabular-nums",children:(0,t.jsx)(ev,{datetime:ex.datetime})}):null,descriptionSkeletonWidth:120,descriptionWrap:!1,title:(0,t.jsx)(ey,{...ex}),titleSkeletonWidth:80,width:120}):(0,t.jsx)(C.EntityField,{width:120,className:"!hidden md:!block"}));let ej=ex?(0,t.jsx)(V.DeploymentAliasToolTipText,{datetime:ex.datetime,tooltipTop:ex.tooltipTop}):null;if(s)ed=$?(0,t.jsx)(h.Tooltip,{className:"translate-y-px",text:ej,children:(0,t.jsx)(a.Badge,{icon:(0,t.jsx)(x.RotateCounterClockwise,{}),size:"sm",variant:"amber-subtle",children:"Current"})}):(0,t.jsx)(h.Tooltip,{className:"translate-y-px",text:ej,children:(0,t.jsx)(a.Badge,{icon:(0,t.jsx)(j.ArrowCircleUp,{}),size:"sm",variant:"blue-subtle",children:"Current"})});else if(ec){let{activeStage:e}=o,n=e?.targetPercentage;ed=(0,t.jsx)(h.Tooltip,{className:"translate-y-px",text:ej,children:(0,t.jsx)(a.Badge,{icon:"number"==typeof n?(0,t.jsx)(G.CustomGaugeIcon,{percentage:n}):null,size:"sm",variant:"blue-subtle",children:"Canary"})})}else q?ed=(0,t.jsx)(h.Tooltip,{className:"translate-y-px",text:ej,children:(0,t.jsx)(a.Badge,{icon:(0,t.jsx)(g.CrossCircle,{}),size:"sm",variant:"red-subtle",children:"Rolled Back"})}):i?.readySubstate!=="PROMOTED"||O||(ed=(0,t.jsx)(h.Tooltip,{text:ej,children:(0,t.jsx)(y.Information,{color:"gray-900",size:14})}));return eu&&(ed=(0,t.jsx)(a.Badge,{icon:(0,t.jsx)(f.ClockDashed,{}),size:"sm",variant:"blue-subtle",children:"Upcoming Canary"})),i?.readySubstate!=="STAGED"||"production"!==i.target||O||(P=P?.concat(": Staged")),(0,t.jsxs)(R.Entity,{className:(0,ep.cn)("md:border-0 md:[&:not(:first-of-type)]:rounded-t-[0px] md:[&:not(:first-of-type)]:border-t",{"deployment-entity":i,"shadow-[inset_4px_0_0_var(--ds-amber-700)] rounded-none":$&&s,"md:[&:not(:first-of-type)]:mt-[-1px]":E}),"data-testid":(0,v.tid)("deployments","deployment-entity",i?.uid??"no-uid"),disabledDotMenuTooltip:eo?void 0:(0,t.jsxs)(t.Fragment,{children:["Additional permissions are required to manage Deployment."," ",(0,t.jsx)(r.Link,{href:"/docs/deployments/managing-deployments",variant:"highlight",children:"Learn More →"})]}),isDotMenuDisabled:!eo,menuButtonProps:{"aria-label":"Deployment Actions","data-testid":(0,v.tid)("deployment-entity","dots-menu","button")},menuItems:i&&U?(0,t.jsx)(eh,{canPromoteToProduction:es,canReadDeployment:ei,canRedeployProduction:er,canRollbackDeployment:el,canUpdateDeployment:en,deployment:i,handleCancelDeployment:()=>b?.(i),handleClickCreateAlias:()=>p?.(i),handleClickRollback:()=>{T&&T(s?void 0:i)},handleClickRunInstantly:()=>k?.(i),isRollingReleaseCanaryDeployment:ec,isRollingReleaseActive:o?.state==="ACTIVE",itemsOnly:!0,redeploy:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c?.(...t)},rollingRelease:o,openCompleteRollingReleaseModal:z,openAbortRollingReleaseModal:W}):null,menuListTestId:`${i?.uid??"no-uid"}-dots-menu`,placeholder:!i,children:[i?(0,t.jsx)(I.PropagatedPropsOmitter,{children:(0,t.jsx)(r.Link,{className:"absolute -inset-4 z-[1]",href:M,prefetchStrategy:"hover"})}):null,(0,t.jsx)(C.EntityField,{"data-testid":(0,v.tid)("deployment-entity","target"),descriptionWrap:!1,description:i?(0,t.jsxs)(u.Stack,{align:"center",direction:"row",gap:1,style:{position:"relative",zIndex:1},children:[P,ed]}):null,descriptionSkeletonWidth:80,title:(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(r.Link,{href:M,prefetchStrategy:"hover",style:{display:"flex",alignItems:"center",gap:8},title:i?.url,children:(0,t.jsx)(m.Text,{size:14,truncate:!0,weight:600,children:ea})})}),titleSkeletonWidth:220,minWidth:140}),(0,t.jsx)(C.EntityField,{description:(0,t.jsx)("span",{className:"block h-[20px] tabular-nums",children:(0,t.jsx)(F,{deployment:i,onlyBuild:!0})}),descriptionSkeletonWidth:146,descriptionWrap:!1,title:i?(0,t.jsx)(K.DeploymentStatus,{deployment:i,label:!0,labelStyle:{color:"var(--ds-gray-900)",fontWeight:400},labelWeight:500}):null,titleSkeletonWidth:146,width:146}),em,w?(0,t.jsx)(eS,{deployment:i}):null,(0,t.jsx)(eD,{deployment:i,deploymentsMap:l}),(0,t.jsx)(C.EntityField,{avatar:i?(0,t.jsx)(Q.CreatorAvatar,{deployment:i,showProviderIcon:!0,size:24}):null,className:"z-[2]",description:i?(0,t.jsxs)(d.RelativeTimeCard,{date:Y,side:"left",children:[_,void 0===Z&&(!i.meta?.originalDeploymentId&&J?.commitAuthorLogin?` by ${J.commitAuthorLogin}`:` by ${i?.creator.username}`),void 0!==Z&&" via Deploy Hook"]}):null,right:!0})]})});e.s(["DeploymentRow",()=>eI],5758916);var eM=e.i(3228096),eN=e.i(5771992);function eL(e){let{scope:n="",project:i,style:l,className:s}=e,{data:o,isLoading:a}=(0,eN.default)({limit:1,projectId:i?.id||"",target:"production",state:"READY"}),d=!!o?.deployments.filter(e=>"STAGED"!==e.readySubstate).length,c=!!o?.deployments.filter(e=>"STAGED"===e.readySubstate).length,u=null;return(u=d?"Add, buy, or transfer in a domain to serve your Production deployment from.":c?"Promote a production deployment to serve traffic.":"Your Production Domain is not serving traffic.",a&&!o)?(0,t.jsx)(eP,{style:l,className:s}):(0,t.jsx)("div",{className:(0,ep.cn)("h-[500px] material-base border-none shadow-md",s),style:l,children:(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-4 text-center",children:[(0,t.jsx)("div",{className:"flex rounded border border-solid border-gray-alpha-400 bg-background-100 p-2",children:(0,t.jsx)(eM.Globe,{color:"gray-900"})}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-label-16 m-0 font-medium","data-testid":(0,v.tid)("no-deployment-card","title"),children:`No Production ${d?"Domain":"Deployment"}`}),(0,t.jsx)("p",{className:"text-copy-14 m-0",children:u})]}),d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.ButtonLink,{as:`/${n}/${i?.name||""}/settings/domains`,className:"self-center",disabled:!i,href:`/${n}/${i?.name||""}/settings/domains`,type:"secondary",children:"Add Domain"}),(0,t.jsx)(r.Link,{external:!0,href:"/docs/domains/working-with-domains#working-with-domains",variant:"secondary",children:"Learn More"})]}):null]})})}function eP(e){let{style:n,className:i}=e;return(0,t.jsx)("div",{className:(0,ep.cn)("h-[500px] material-base border-none",i),style:n,children:(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-4 text-center",children:[(0,t.jsx)("div",{className:"flex rounded border border-solid border-gray-alpha-400 bg-background-100 p-2",children:(0,t.jsx)(eM.Globe,{})}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)(c.Skeleton,{boxHeight:20,height:18,vcenter:!0,width:200}),(0,t.jsx)(c.Skeleton,{boxHeight:20,height:16,vcenter:!0,width:400})]})]})})}e.s(["NoDeploymentCard",()=>eL],2381001);var eE=e.i(8522580),ez=e.i(4218798);e.s(["default",0,()=>{let e=(0,i.useRouter)(),{data:n}=(0,O.useProject)(e.query.project),l=(0,ez.useTransferTarget)(n);return n?.name&&l?(0,t.jsxs)(eE.Note,{fill:!0,label:!1,type:"warning",variant:"contrast",children:["The Project ",(0,t.jsx)("b",{children:n.name})," is being transferred into"," ",(0,t.jsx)("b",{children:l.name}),"."]}):(0,t.jsx)(eE.Note,{fill:!0,label:!1,type:"warning",variant:"contrast",children:" "})}],9974972);var eF=e.i(4585051),eW=e.i(9318197),eB=e.i(4450569),eU=e.i(369178);let eO=(0,t.jsxs)("svg",{fill:"var(--accents-5)",height:"20",viewBox:"0 0 66 20",width:"66",children:[(0,t.jsx)("path",{d:"M43 10c0 5.523-4.477 10-10 10s-10-4.477-10-10S27.477 0 33 0s10 4.477 10 10zM32.53 6.47a.75.75 0 10-1.06 1.06L33.94 10l-2.47 2.47a.75.75 0 101.06 1.06l3-3a.75.75 0 000-1.06l-3-3z"}),(0,t.jsx)("path",{d:"M.5 9.125v1h2.455v-1H.5zM4.864 9.125v1h3.909v-1h-3.91zM10.682 9.125v1h3.909v-1h-3.91zM16.5 9.125v1h3.91v-1H16.5zM45.59 9.125v1h3.91v-1h-3.91zM51.41 9.125v1h3.908v-1H51.41zM57.227 9.125v1h3.91v-1h-3.91zM63.045 9.125v1H65.5v-1h-2.455z"})]});e.s(["default",0,()=>{let e=(0,i.useRouter)(),{data:n}=(0,O.useProject)(e.query.project),{transferredFromAccountId:l}=n||{},s=(0,ez.useTransferTarget)(n),r=l?.startsWith("team_");return n&&s?(0,t.jsx)(eU.default,{children:(0,t.jsx)("div",{className:"rounded-[var(--geist-radius)] border border-dashed border-[var(--accents-2)] p-12",children:(0,t.jsxs)(eB.default,{center:!0,children:[(0,t.jsx)(o.default,{h3:!0,noMargin:!0,style:{maxWidth:"360px",marginBottom:"16px"},children:"Transferring Project"}),(0,t.jsxs)(eB.default,{center:!0,row:!0,children:[(0,t.jsx)(eF.Avatar,{placeholder:!l,size:48,teamId:r?l:void 0,uid:r?void 0:l}),(0,t.jsx)(eW.Spacer,{inline:!0,x:.25}),eO,(0,t.jsx)(eW.Spacer,{inline:!0,x:.25}),(0,t.jsx)(eF.Avatar,{hash:s?.avatar,placeholder:!s,size:48,teamId:s.id})]}),(0,t.jsx)(eW.Spacer,{}),(0,t.jsx)(N.Spinner,{}),(0,t.jsx)(eW.Spacer,{}),(0,t.jsxs)(o.default,{center:!0,noMargin:!0,type:"secondary",children:["The Project ",(0,t.jsx)("b",{children:n.name})," is being transferred into"," ",(0,t.jsx)("b",{children:s.name}),"."]})]})})}):null}],9584282);var e$=e.i(762945),eH=e.i(1515636),eq=e.i(7994132);function eV(e){let{project:n,teamSlug:i}=e;if(!n.nodeVersion)return null;let l=(0,eq.getNodeVersions)().find(e=>e.range===n.nodeVersion);return l&&l.discontinueDate?(0,t.jsx)(u.Stack,{className:"tailwind max-h-fit",style:{zIndex:75,position:"sticky",top:"var(--collapsed-navbar-height)"},children:(0,t.jsx)(eH.ProjectBanner,{callToAction:{label:"Upgrade Node.js in project settings",href:`/${i}/${n.name}/settings/build-and-deployment#node.js-version`},icon:(0,t.jsx)(e$.Warning,{className:"shrink-0"}),label:(0,eq.WarningMessage)({selectedOption:{range:n.nodeVersion,discontinueDate:l.discontinueDate,link:l.link}}),variant:"warning"})}):null}e.s(["DiscontinuedNodeBanner",()=>eV],6119682);var eG=e.i(2006191);function eY(e){let{project:n,teamSlug:i}=e,{data:l}=(0,eG.useTeam)(i);if(!l?.microfrontends?.exceededMicrofrontendsLimitFromDowngradeAt||!n.microfrontends?.enabled)return null;let s=new Date(l?.microfrontends?.exceededMicrofrontendsLimitFromDowngradeAt+2592e6).toLocaleDateString("en-US",{month:"long",day:"numeric"});return(0,t.jsx)(u.Stack,{className:"tailwind max-h-fit",style:{zIndex:75,position:"sticky",top:"var(--collapsed-navbar-height)"},children:(0,t.jsx)(eH.ProjectBanner,{callToAction:{label:"Remove microfrontends or upgrade to a paid plan",href:`/${i}/${n.name}/settings/microfrontends`},icon:(0,t.jsx)(e$.Warning,{className:"shrink-0"}),label:(0,t.jsxs)(t.Fragment,{children:["You have exceeded the microfrontends limit for your team. New deployments for this project will no longer build after"," ",s,"."]}),variant:"warning"})})}e.s(["ExceededMicrofrontendsLimitBanner",()=>eY],13501)}]);

//# sourceMappingURL=c26c9877b508c763.js.map
//# debugId=a5fe75ac-5b77-5b33-85bd-22194cdbe1e5
