
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="89c1d7d4-dc7b-538e-b134-8876ba058160")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3220378,e=>{"use strict";var t,r=e.i(6468255),a=e.i(9992248),n=e.i(6696646),i=e.i(9100551),s=e.i(9722978),o=e.i(5883567),l=e.i(2331152),c=e.i(1918911),u=e.i(9508212),d=e.i(1344973),m=e.i(2504781),p=e.i(4585051),h=e.i(1492947),f=e.i(4004502),g=e.i(119294),j=e.i(6352514),x=e.i(6685186),S=e.i(5338940),v=e.i(5140444),y=e.i(9668517),w=e.i(3322724),C=e.i(57106),k=e.i(7837522),T=e.i(7780974),b=e.i(1236612),P=e.i(9261674),E=e.i(4839822),R=e.i(475038),A=((t={}).PROJECTS="scope-search-projects",t.TEAMS="scope-search-teams",t),I=e.i(827385),F=e.i(271259),N=e.i(8172029),L=e.i(1502164),D=e.i(5756088),M=e.i(6318858),O=e.i(5255926),$=e.i(8977282),_=e.i(6228447),K=e.i(4670733);let V="ðŸ‘¥",U="ðŸ“",q=RegExp("/~/(deployments|observability|storage|ai|settings)(?:/|$)"),z=new Map([["/analytics",new Set(["period","from","to","environment","client_type","tab"])]]);var B=e.i(5136192),G=e.i(1780380),W=e.i(6060673),H=e.i(8896705),Y=e.i(6016088),J=e.i(84614);function Q(e){let{team:t,isCurrent:a,closeSwitcher:o}=e,[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)({x:100,translateY:0}),m=(0,i.useRouter)(),h=function(e){let{user:t,team:r}=e;return{name:r?.name||t?.name||r?.slug||t?.username,slug:r?.slug||t?.username,avatar:r?.avatar||t?.avatar}}({team:t}),f=(0,i.usePathname)(),g=(0,i.useParams)()||{},j=(0,i.useSearchParams)()??new URLSearchParams(""),{value:x}=(0,K.useAllAccountTypeBadgesFlag)(),S=(0,n.useContext)(Y.CloneContext),v=e=>{if(h.slug&&((0,$.setScope)(h.slug),f)){let r=(0,B.getScopeHref)({pathname:f,pathParams:g,searchParams:j,team:t});e?window.open(r,"_self","noopener"):m.push(r)}},y=h.slug&&f?(0,B.getScopeHref)({pathname:f,pathParams:g,searchParams:j,team:t}):void 0;return(0,r.jsx)(b.Command.Item,{href:y,callback:e=>{if(h.slug){if("key"in e&&"Enter"===e.key)return(e.preventDefault(),o(),S)?void S.openModalSwitchConfirm({callback:()=>v(!0)}):void(y&&(window.location.href=y));if((e.metaKey||e.ctrlKey)&&"preventDefault"in e){e.preventDefault(),y&&window.open(y,"_blank","noopener,noreferrer");return}if(o(),f){if(S)return void S.openModalSwitchConfirm({callback:()=>v(!0)});v(!1)}}},onKeyDown:e=>{if("Enter"===e.key){if(e.preventDefault(),o(),S)return void S.openModalSwitchConfirm({callback:()=>v(!0)});y&&(window.location.href=y)}},className:(0,s.clsx)(J.default.teamItem,{[J.default.hover]:l}),"data-current":a,onMouseMove:e=>{if(l){let{top:t,height:r,bottom:a}=e.currentTarget.getBoundingClientRect(),n=(e.clientY-t)/r*100,i=e.currentTarget.closest("[data-command-list-wrapper]");if(!i)return;let s=i.getBoundingClientRect(),o=0;s.bottom-a<250&&(o=250-(s.bottom-a+r/2)),n>=5&&n<=95?d({x:e.clientX-s.left-16,translateY:o}):(n>100||n<0)&&setTimeout(()=>{c(!1)},500)}},onMouseOut:()=>{c(!1)},onMouseOver:()=>{c(!0)},style:{"--protection-x":`${u.x+1}px`,"--protection-translate-y":`${-u.translateY}px`},value:[h.name,h.slug],children:(0,r.jsxs)(X,{active:a,children:[(0,r.jsx)(p.Avatar,{hash:h.avatar,size:22,teamId:t?.id}),(0,r.jsx)("span",{className:(0,s.clsx)(J.default.name,"geist-ellipsis",{[J.default.showAllBadges]:x}),children:h.name}),(0,r.jsx)(L.ScopeBadge,{fallbackToPlan:!!x,team:t})]})})}function X(e){let{children:t,active:a}=e;return(0,r.jsxs)(u.Stack,{align:"center",className:J.default.itemWrapper,direction:"row",flex:"1",justify:"space-between",children:[(0,r.jsx)(u.Stack,{align:"center",className:J.default.itemWrapper,direction:"row",flex:"1",gap:2,children:t}),a?(0,r.jsx)(M.Check,{className:"ml-2",color:"gray-900"}):null]})}function Z(e){let{projectId:t,teamSlug:a,...n}=e,{data:i,isLoading:s}=(0,W.useProject)(t,{config:{onError:()=>!0},fetchOptions:{throwOnScopeAuthError:!0}},a),{team:o}=(0,S.useTeam)(a);return s?(0,r.jsx)(ea,{}):(0,_.isAuthenticationRequired)(o)?(0,r.jsx)(ee,{isCurrent:n.isCurrent,projectId:t,slug:a}):i?(0,r.jsx)(et,{...n,project:i,scopeSlug:a}):null}function ee(e){let{isCurrent:t,projectId:a,slug:n}=e,s=(0,i.useRouter)();return(0,r.jsx)(b.Command.Item,{callback:e=>{if("key"in e&&"Enter"===e.key){e.preventDefault(),(0,_.requireAuthentication)({slug:n,push:e=>{s.push(e)}});return}(0,_.requireAuthentication)({slug:n,push:e=>{s.push(e)}})},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),(0,_.requireAuthentication)({slug:n,push:e=>{s.push(e)}}))},"data-current":t,value:["unauthed-project",a,n],children:(0,r.jsxs)(u.Stack,{align:"center",className:J.default.itemWrapper,direction:"row",flex:"1",justify:"space-between",children:[(0,r.jsxs)(u.Stack,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)("div",{className:J.default.protectedProject}),(0,r.jsx)(d.Text,{children:"Protected Project"})]}),(0,r.jsx)(D.LockClosed,{color:"gray-700"})]})})}function et(e){let{project:t,scopeSlug:a,isCurrent:n,contentRight:s,closeSwitcher:o}=e,l=(0,i.usePathname)(),c=(0,i.useParams)(),u=t.name&&a&&l?(e=>{var t,r;let a,{srcPathname:n,srcPathParams:i,srcSearchParamsStr:s,destScopeSlug:o,destProjectName:l}=e,c=`/${o}/${l}`,u=i?.teamSlug,d=i?.project,m=i?.id;if(u&&d&&o&&n.includes(d))c=n.replace(u,V).replace(d,U).replace(V,o).replace(U,l);else u&&!d&&o&&q.test(n)&&(c=n.replace("/~/",`/${l}/`),o!==u&&(c=c.replace(`/${u}/`,`/${o}/`)));return null!=m&&(t=c,r=m,c=-1===(a=t.indexOf(`/${r}`))?t:t.substring(0,a)),s&&(c+=function(e,t){for(let[r,a]of z)if(t.endsWith(r))return function(e,t){let r=new URLSearchParams;for(let[a,n]of new URLSearchParams(e))t.has(a)&&r.set(a,n);let a=r.toString();return a?`?${a}`:""}(e,a);return e}(s,c)),c})({srcPathname:l,srcPathParams:c,srcSearchParamsStr:window.location.search,destScopeSlug:a,destProjectName:t.name}):`/team/${a}/project/${t.name||t.id}`;return(0,r.jsx)(b.Command.Item,{href:u,callback:e=>{if(t.name){if("key"in e&&"Enter"===e.key){e.preventDefault(),o(),window.location.href=u;return}if((e.metaKey||e.ctrlKey)&&"preventDefault"in e){e.preventDefault(),window.open(u,"_blank","noopener,noreferrer");return}o()}},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),o(),window.location.href=u)},"data-current":n,value:[t.name,t.id,a],children:(0,r.jsx)(en,{contentRight:s,isCurrent:n,name:t.name,children:(0,r.jsx)(H.FaviconOrFramework,{project:t,size:16,style:{position:"relative"},teamId:a})})})}function er(e){let{repo:t,scopeSlug:a,isCurrent:n,contentRight:s,closeSwitcher:o,isTeam:l}=e,c=((0,i.useSearchParams)()||"").toString(),u=l?`/${a}/~/repos/${t.slug}${"repo"===t.type?"/repo-overview":""}?${c}`:`/dashboard/repos/${t.slug}${"repo"===t.type?"/repo-overview":""}?${c}`;return(0,r.jsx)(b.Command.Item,{href:u,callback:e=>{if(t.id){if("key"in e&&"Enter"===e.key){e.preventDefault(),o(),window.location.href=u;return}if((e.metaKey||e.ctrlKey)&&"preventDefault"in e){e.preventDefault(),window.open(u,"_blank","noopener,noreferrer");return}o()}},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),o(),window.location.href=u)},"data-current":n,value:[t.name,t.id,a],children:(0,r.jsx)(en,{contentRight:s,isCurrent:n,name:t.name,children:(0,r.jsx)(G.RepositoryAvatar,{gitProvider:"github"})})})}function ea(e){let{index:t=0}=e;return(0,r.jsx)(b.Command.Item,{style:{display:"flex",background:"transparent"},children:(0,r.jsxs)(u.Stack,{align:"center",direction:"row",flex:"0 1 100%",gap:3,children:[(0,r.jsx)(O.Skeleton,{height:16,rounded:!0,width:16}),(0,r.jsx)(O.Skeleton,{height:20,style:{margin:"2px 0",flex:.7+(t%2?.2:0)}})]})})}function en(e){let{children:t,name:a,isCurrent:n,contentRight:i}=e;return(0,r.jsxs)(u.Stack,{align:"center",className:J.default.itemWrapper,direction:"row",flex:"1",justify:"space-between",children:[(0,r.jsxs)(u.Stack,{align:"center",className:J.default.itemWrapper,direction:"row",flex:"1",gap:3,children:[(0,r.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:t}),(0,r.jsx)("span",{className:(0,s.clsx)(J.default.name,"geist-ellipsis"),children:a})]}),(0,r.jsx)("div",{className:J.default["hover-content"],children:i}),n?(0,r.jsx)(M.Check,{className:"ml-2",color:"gray-900"}):null]})}function ei(e){let{fav:t,activeSlug:r,...a}=e;return(0,n.createElement)(Z,{...a,isCurrent:t.projectId===r,key:t.projectId,projectId:t.projectId})}let es="create_team_button";var eo=e.i(9543208),el=e.i(387079),ec=e.i(6942035),eu=e.i(4796599),ed=e.i(9844152),em=e.i(2107254),ep=e.i(6774523),eh=e.i(8061940),ef=e.i(1613936),eg=e.i(380513),ej=e.i(6161994);function ex(e){let{primary:t,activeSection:a,setActiveSection:n,commandProps:{setInputValue:s,inputValue:o,...l},selectedScope:c,closeSwitcher:u}=e,{addFavorite:d,removeFavorite:m,favorites:p,isFavorite:h}=(0,ef.useFavoriteProjectsAndSpaces)(),{projects:f,microfrontendGroups:g,repositories:j,canViewRepositories:x,isLoadingTeamSpecificData:y,isLoadingRepositoriesContent:w,isLoadingMicrofrontendsContent:C,teamId:k}=(e=>{let{selectedScope:t,inputValue:r}=e,{user:a}=(0,v.useUser)(),{teams:n}=(0,S.useTeam)(),s=eF((0,i.useParams)()),o=eA(t,n,a),l=(0,_.isAuthenticationRequired)(o),c=n?.find(e=>e.slug===t)?.id,{data:u,isLoading:d}=(0,eg.useFeatureFlag)("enable-code-checks"),{data:m={repositories:[]},isLoading:p}=(0,eh.useMinimizedRepositories)({teamId:u?c:void 0}),h=[],f=m.repositories??[];u&&(h=f.map(e=>({...e,type:"repo"})).filter(e=>{let{name:t}=e;return t.toLowerCase().includes(r.toLowerCase())}).sort((e,t)=>e.name.localeCompare(t.name)).slice(0,9));let{data:g,isLoading:j}=(0,ej.useMicrofrontendsGroups)({overWriteTeamSlug:t}),x=(g??{groups:[]}).groups.filter(e=>e.projects.some(e=>e.name===s)),{data:y,isLoading:w}=(0,em.default)({fetchEnabled:!l,limit:10,latestDeployments:0,search:r},{onError:()=>!0,revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1},t,{throwOnScopeAuthError:!0}),C=(y?.projects??[]).filter(e=>x.every(t=>t.projects.every(t=>t.id!==e.id)));r||C.sort((e,t)=>e.name.localeCompare(t.name));let k=d||p;return{projects:C,microfrontendGroups:x,repositories:h,canViewRepositories:!!u,isLoading:k||j||w,isLoadingTeamSpecificData:w,isLoadingRepositoriesContent:k,isLoadingMicrofrontendsContent:j,teamId:c??null}})({inputValue:o,selectedScope:c});return c?(0,r.jsx)(ed.AnimatePresence,{initial:!1,mode:"popLayout",presenceAffectsLayout:!0,children:(0,r.jsx)(eS,{activeSection:a,primary:t,setActiveSection:n,style:J.default,children:(0,r.jsxs)(b.Command,{"aria-label":"Projects and Repositories",inputValue:o,setInputValue:s,...l,children:[(0,r.jsx)(eR,{canViewRepositories:x,setActiveSection:n}),(0,r.jsxs)(b.Command.List,{className:J.default.list,disableDynamicHeight:!0,maxHeight:730,emptyMessage:(0,r.jsx)(ev,{canViewRepositories:x,inputValue:o,isLoading:y,projects:f,repositories:j,setInputValue:s}),children:[(0,r.jsx)(ey,{closeSwitcher:u,favorites:p,isLoading:!1,removeFavorite:m,selectedScope:c}),(0,r.jsx)(ew,{addFavorite:d,closeSwitcher:u,isFavorite:h,isLoading:C,microfrontendGroups:g,removeFavorite:m,selectedScope:c,teamId:k}),(0,r.jsx)(ek,{addFavorite:d,closeSwitcher:u,inputValue:o,isFavorite:h,isLoading:y,projects:f,removeFavorite:m,selectedScope:c}),(0,r.jsx)(eT,{closeSwitcher:u,selectedScope:c}),(0,r.jsx)(eC,{canViewRepositories:x,closeSwitcher:u,inputValue:o,isLoading:w,repositories:j,selectedScope:c})]})]})})}):null}function eS(e){let{activeSection:t,children:a,primary:n,setActiveSection:i,style:o}=e;return(0,r.jsx)(eu.m.div,{animate:{opacity:1},className:(0,s.clsx)(o.command,{[o.focused]:"projects"===t,[o.primary]:n}),"data-testid":(0,f.tid)("project-switcher","dropdown"),exit:{opacity:0},initial:{opacity:1},onMouseEnter:()=>i("projects"),onMouseLeave:e=>{let t=document.querySelector("[data-radix-popper-content-wrapper]");e.relatedTarget instanceof Node&&t?.contains(e.relatedTarget)&&i("teams")},children:a})}function ev(e){let{canViewRepositories:t,inputValue:a,isLoading:n,projects:i,repositories:s,setInputValue:o}=e;if(n||""===a||i.length>0||s.length>0)return null;let l=`Projects${t?" or Repositories":""}`;return(0,r.jsxs)(u.Stack,{align:"start",gap:4,justify:"start",children:[(0,r.jsxs)(d.Text,{align:"left",weight:500,children:["No ",l," Found"]}),(0,r.jsxs)(d.Text,{align:"left",color:"gray-900",children:['Your search for "',a,'" did not match any ',l,"."]}),(0,r.jsx)(m.Button,{onClick:()=>{o("")},size:"small",type:"secondary",width:"100%",children:"Clear Search"})]},"searchNotFound")}function ey(e){let{closeSwitcher:t,favorites:a,isLoading:s,removeFavorite:o,selectedScope:l}=e,{teams:c}=(0,S.useTeam)(),u=eF((0,i.useParams)());return s||null===c||0===a.length?null:(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(b.Command.Group,{"data-order":"1",heading:"Favorites",children:a.map(e=>{let a=c.find(t=>t.id===e.teamId);return a?(0,r.jsx)(ei,{activeSlug:u,closeSwitcher:t,contentRight:(0,r.jsx)("button",{"aria-label":"Remove from favorites",className:J.default["fav-button"],onClick:t=>{t.preventDefault(),t.stopPropagation(),o(e)},type:"button",children:(0,r.jsx)(ec.Cross,{})}),fav:e,isCurrent:!1,scopeSlug:l,teamId:e.teamId,teamSlug:a.slug},(0,ef.serializeFavorite)(e)):null})}),(0,r.jsx)(b.Command.Separator,{})]},"favorites")}function ew(e){let{addFavorite:t,closeSwitcher:a,isFavorite:n,isLoading:s,microfrontendGroups:o,removeFavorite:l,selectedScope:c,teamId:u}=e,d=(0,i.useParams)(),{user:m,isLoading:p}=(0,v.useUser)();if(s||p)return null;let h=eF(d);return(0,r.jsx)(r.Fragment,{children:o.map(e=>{let i=e.group.name?e.group.name:e.group.slug;return(0,r.jsx)(b.Command.Group,{"data-order":"2",heading:i,children:e.projects.map(e=>(0,r.jsx)(et,{closeSwitcher:a,contentRight:u?(0,r.jsx)(eP,{addFavorite:t,isFavorited:n({projectId:e.id,teamId:u}),project:e,removeFavorite:l,selectedScope:c,teamId:u,limited:!!m?.limited}):null,isCurrent:e.name===h,project:e,scopeSlug:c},`scope-project-${e.id}`))},i)})})}function eC(e){let{closeSwitcher:t,repositories:a,inputValue:n,isLoading:s,selectedScope:o,canViewRepositories:l}=e,c=eF((0,i.useParams)());if(!l)return null;let u={"data-order":"5",heading:"Repositories"};return s?(0,r.jsx)(b.Command.Group,{...u,children:[,,,,,].fill(0).map((e,t)=>(0,r.jsx)(ea,{index:t},(0,ep.getUnsafeKey)(t,"space-loader")))}):0===a.length&&""===n?(0,r.jsx)(b.Command.Group,{...u,children:(0,r.jsx)(eb,{type:"repositories"})}):(0,r.jsx)(b.Command.Group,{...u,children:a.map(e=>(0,r.jsx)(er,{closeSwitcher:t,isCurrent:e.slug===c,isTeam:e.ownerId.startsWith("team"),repo:e,scopeSlug:o},`scope-repo-${e.id}`))})}function ek(e){let{addFavorite:t,closeSwitcher:a,inputValue:n,isFavorite:s,isLoading:o,projects:l,removeFavorite:c,selectedScope:u}=e,{user:d}=(0,v.useUser)(),{teams:m}=(0,S.useTeam)(),p=eF((0,i.useParams)()),h=m?.find(e=>e.slug===u)??null,f=h?.id??null;if(!h&&eI(u,d))return null;let g={"data-order":"3",heading:"Projects"},j=!(0,_.isAuthenticationRequired)(h)&&!function(e){let{teamOrUser:t,user:r}=e;return!!(t?.mfa&&"enforced"in t.mfa&&t.mfa.enforced)&&!r?.mfa?.enabled}({teamOrUser:h,user:d});return o?(0,r.jsx)(b.Command.Group,{...g,children:[,,,,,].fill(0).map((e,t)=>(0,r.jsx)(ea,{index:t},(0,ep.getUnsafeKey)(t,"scope-loader")))}):0===l.length&&""===n?(0,r.jsxs)(b.Command.Group,{...g,children:[(0,r.jsx)(eE,{closeSwitcher:a,selectedScope:u}),j?(0,r.jsx)(eb,{type:"projects"}):null]}):(0,r.jsxs)(b.Command.Group,{...g,children:[(0,r.jsx)(eE,{closeSwitcher:a,selectedScope:u}),j?l.map(e=>(0,r.jsx)(et,{closeSwitcher:a,contentRight:(0,r.jsx)(eP,{addFavorite:t,isFavorited:s({teamId:e.accountId??"",projectId:e.id}),project:e,removeFavorite:c,selectedScope:u,teamId:f,limited:!!d?.limited}),isCurrent:e.name===p,project:e,scopeSlug:u},`scope-project-${e.id}`)):null]})}function eT(e){let{closeSwitcher:t,selectedScope:a}=e,{user:n}=(0,v.useUser)(),{teams:s}=(0,S.useTeam)(),l=(0,i.useRouter)(),c=eA(a,s,n);return(0,_.isAuthenticationRequired)(c)||eI(a,n)?null:(0,r.jsx)(b.Command.Item,{callback:e=>{let r=`/new/${a}`;e.ctrlKey||e.metaKey||"button"in e&&1===e.button?window.open(r,"_blank","noopener"):l.push(r),t()},"data-order":"4","data-testid":(0,f.tid)("scope-switcher","create-project"),hideOnFilter:!1,children:(0,r.jsxs)(u.Stack,{align:"center",direction:"row",gap:3,children:[(0,r.jsx)(o.PlusCircle,{color:"blue-900",size:16}),(0,r.jsx)(d.Text,{children:"Create Project"})]})})}function eb(e){let{type:t}=e,a="projects"===t;return(0,r.jsxs)(u.Stack,{align:"start",className:J.default.empty,gap:1,justify:"start",children:[(0,r.jsxs)(d.Text,{align:"left",color:"gray-1000",weight:600,children:["No ",a?"projects":"repositories",", yet!"]}),(0,r.jsxs)(d.Text,{align:"left",color:"gray-900",children:["This team has no ",a?"projects":"repositories","."]})]})}function eP(e){let{isFavorited:t,addFavorite:a,removeFavorite:n,selectedScope:i,project:s,teamId:o,limited:l}=e;return i&&o&&!l?(0,r.jsx)("button",{"aria-label":`${t?"Remove from your":"Add project to your"} favorites`,className:J.default["fav-button"],onClick:e=>{e.preventDefault(),e.stopPropagation(),o&&(t?n:a)({teamId:o,projectId:s.id})},style:{background:"none",height:32,borderRadius:4},type:"button",children:t?(0,r.jsx)(el.StarFill,{size:16,style:{marginRight:-2,flexShrink:0}}):(0,r.jsx)(eo.Star,{size:16,style:{marginRight:-2,flexShrink:0}})}):null}function eE(e){let{closeSwitcher:t,selectedScope:a}=e,{user:n}=(0,v.useUser)(),{teams:s}=(0,S.useTeam)(),o=(0,i.useRouter)(),l=eA(a,s,n),c=(0,_.isAuthenticationRequired)(l),p=(0,_.getTeamLimitedBy)(l);if(!c)return null;let h=!!l&&"saml"in l&&(l.saml?.enforced??!1),f="Re-Authenticate",g=h?"You must authenticate with SAML to access projects in":"You must re-authenticate to access projects in",j=h?"Continue with SAML SSO":"Continue",x=()=>{(0,_.requireAuthentication)({slug:a,next:`/${a}`,push:e=>{o.push(e)}}),t()};return 1===p.length&&p.includes("mfa")&&(f="Two-Factor Required",g="You must enable two-factor authentication to access projects in",j="Configure 2FA",x=()=>{o.push("/account/settings/authentication#two-factor-authentication"),t()}),(0,r.jsxs)(u.Stack,{align:"center",className:J.default.empty,gap:3,justify:"center",children:[(0,r.jsxs)(u.Stack,{align:"start",gap:1,justify:"start",children:[(0,r.jsx)(d.Text,{align:"left",color:"gray-1000",weight:600,children:f}),(0,r.jsxs)(d.Text,{align:"left",color:"gray-900",children:[g," ",(0,r.jsx)(d.Text,{as:"span",weight:600,children:l?.name}),"."]})]}),(0,r.jsx)(m.Button,{onClick:x,size:"small",width:"100%",children:j})]})}function eR(e){let{canViewRepositories:t,setActiveSection:a}=e;return(0,r.jsxs)(u.Stack,{align:"center",className:J.default.input,direction:"row",children:[(0,r.jsx)(l.MagnifyingGlass,{color:"gray-500",size:20}),(0,r.jsx)(b.Command.Input,{autoFocus:!1,itemID:A.PROJECTS,onFocus:()=>a("projects"),placeholder:`Find Project${t?" or Repository":""}...`})]})}let eA=(e,t,r)=>{let a=t?.find(t=>t.slug===e);return a||(r?.username===e?r??null:null)},eI=(e,t)=>e===t?.username,eF=e=>e?.project||e?.spaceIdOrSlug;function eN(e){let{primary:t,activeSection:a,setActiveSection:n,commandProps:i,selectedScope:s,closeSwitcher:o}=e;return(0,r.jsx)(ex,{activeSection:a,closeSwitcher:o,commandProps:i,primary:t,selectedScope:s,setActiveSection:n})}function eL(e){let{primary:t,activeSection:a,setActiveSection:n,commandProps:i,onShowCreateTeam:c,closeSwitcher:p,team:h}=e,{track:x}=(0,k.useTrackActivity)(),{canCreateTrial:v,isOemPartner:y}=(0,F.useCanCreateTrial)(),w=(0,S.useSortedTeams)(),{setInputValue:C,inputValue:P}=i;return(0,r.jsx)("div",{className:(0,s.clsx)(J.default.command,t&&J.default.primary,{[J.default.focused]:"teams"===a}),"data-testid":(0,f.tid)("scope-switcher","dropdown"),onMouseEnter:()=>n("teams"),onMouseLeave:e=>{let t=document.querySelector("[data-radix-popper-content-wrapper]");e.relatedTarget instanceof Node&&t?.contains(e.relatedTarget)&&n("projects")},children:(0,r.jsxs)(b.Command,{"aria-label":"Command menu",...i,children:[(0,r.jsxs)(u.Stack,{align:"center",className:J.default.input,direction:"row",children:[(0,r.jsx)(l.MagnifyingGlass,{color:"gray-900",size:20}),(0,r.jsx)(b.Command.Input,{autoFocus:!1,itemID:A.TEAMS,onFocus:()=>n("teams"),placeholder:"Find Teamâ€¦"})]}),(0,r.jsxs)(b.Command.List,{disableDynamicHeight:!0,emptyMessage:(0,r.jsxs)(u.Stack,{align:"start",gap:4,justify:"start",children:[(0,r.jsx)(d.Text,{align:"left",weight:500,children:"No Team Found"}),(0,r.jsxs)(d.Text,{align:"left",color:"gray-900",children:['Your search for "',P,'" did not match any teams.']}),(0,r.jsx)(m.Button,{onClick:()=>{C("")},size:"small",type:"secondary",width:"100%",children:"Clear Search"})]}),maxHeight:730,children:[(0,r.jsx)(b.Command.Group,{heading:"Teams",children:w.map(e=>(0,r.jsx)(Q,{closeSwitcher:p,isCurrent:!!(h&&e.slug===h.slug),team:e},`scope-team-${e.slug}`))}),(0,r.jsx)(b.Command.Item,{callback:()=>{c(),g.analytics.track(j.AnalyticsEvent.SCOPE_SWITCHER_CLICKED_NEW_TEAM),x(T.VercelActivityAction.CreateTeamClick,{source:"scope-switcher",hasTrialAvailable:v??!1,isOemPartner:y??!1}),p()},"data-testid":(0,f.tid)("scope-switcher","create-team"),hideOnFilter:!0,value:[es,es],children:(0,r.jsxs)(u.Stack,{align:"center",direction:"row",gap:3,children:[(0,r.jsx)(o.PlusCircle,{className:"translate-z-0 translate-x-[3px]",color:"blue-900"}),(0,r.jsx)("span",{children:"Create Team"})]})})]})]})})}function eD(e){let{team:t,hideTextOnMobile:a}=e,o=(0,R.useIsViewingPublicDeployment)(),{user:l,isNorthstar:c}=(0,v.useUser)(),{name:m,avatar:h}=t||l||{},{slug:f}=t||{},{username:g}=l||{},j=m||f||g,x=(0,i.useSearchParams)(),S=x?.get("teamSlug")||"",y=(0,n.useMemo)(()=>(function(e){let{externalPublicDeployment:t,teamSlug:r,team:a,username:n}=e;return t?`${(0,N.getQueryParam)(r)||""}`:a?void 0:n})({externalPublicDeployment:o,teamSlug:S,team:t,username:g}),[o,S,t,g]),w=!!(!t&&c),k=(0,n.useMemo)(()=>(0,I.getNorthstarDashboardHref)({user:l,teamSlug:f}),[f,l]);return(0,r.jsx)(C.Link,{className:(0,s.clsx)(J.default.scopeLink,{[J.default.disabled]:o}),href:k,children:(0,r.jsxs)(u.Stack,{align:"center",direction:"row",children:[(0,r.jsx)(p.Avatar,{className:J.default.avatar,hash:o?void 0:h,size:22,teamId:t?.id,title:o?S:j,username:y}),(0,r.jsx)(d.Text,{className:(0,s.clsx)(J.default.scopeName,"geist-ellipsis",{[J.default.hideOnMobile]:a}),weight:500,children:o?S:j}),!o&&!w&&(0,r.jsx)("div",{className:"geist-hide-on-tablet",children:(0,r.jsx)(L.ScopeBadge,{fallbackToPlan:!0,team:t||void 0})})]})})}function eM(e){let{side:t="bottom",children:s,setCreateModalOpen:o,primaryColumn:l,forceVisible:u=!1,...d}=e,{team:p}=(0,S.useTeam)(),{user:g}=(0,v.useUser)(),j=(0,i.useSearchParams)(),C=(0,y.useTeamSlug)(),[k,T]=(0,n.useState)("teams"),b=C||g?.username||"",I=(0,S.useSortedTeams)(),F=p?I.findIndex(e=>e.id===p.id):0,N=(0,P.useCommand)({selected:F}),L=(0,P.useCommand)({selected:0}),[D,M]=(0,n.useState)(!1),O=()=>{M(!1),N.setInputValue(""),L.setInputValue("")};L.map;let $=(0,w.useIsMobile)(),_=(0,R.useIsViewingPublicDeployment)(),K=(0,n.useRef)(0),V=(0,n.useRef)(0);(0,n.useEffect)(()=>{let e=()=>{M(!0)};return document.addEventListener(E.OPEN_SCOPE_SWITCHER_EVENT,e),()=>{cancelAnimationFrame(K.current),cancelAnimationFrame(V.current),document.removeEventListener(E.OPEN_SCOPE_SWITCHER_EVENT,e)}},[]),(0,n.useEffect)(()=>{j?.get(E.OPEN_SCOPE_SWITCHER_EVENT)==="true"&&M(!0)},[j]),(0,n.useEffect)(()=>{let e,{inputValue:t,setInputValue:r,setSelectedIndex:a,selectedIndex:n}=N;return D||(e=setTimeout(()=>{t&&r(""),n!==F&&a(F)},150)),()=>{e&&clearTimeout(e)}},[D,F]),(0,n.useEffect)(()=>{let e,{inputValue:t,setInputValue:r}=L;return D||(e=setTimeout(()=>{t&&r("")},150)),()=>{e&&clearTimeout(e)}},[D]);let U=(0,r.jsx)(eL,{activeSection:k,closeSwitcher:O,commandProps:N,onShowCreateTeam:()=>{o()},primary:!$&&"team"===l,setActiveSection:T,team:p}),q=(0,n.useMemo)(()=>{let{filterList:e,list:t}=N,r=e||t.current,{selectedIndex:a}=N;return r[a]?.value||[]},[N])[1],z=(0,r.jsx)(eN,{activeSection:k,closeSwitcher:O,commandProps:L,primary:"project"===l,selectedScope:$?b:q,setActiveSection:T});return(0,n.useEffect)(()=>{D&&setTimeout(()=>{let e="team"===l?A.TEAMS:A.PROJECTS,t=document.querySelector(`[itemId=${e}]`);null!==t&&t instanceof HTMLInputElement&&t.focus()},200)},[D,l]),(0,r.jsxs)(a.Root,{...d,onOpenChange:e=>void(0,x.awaitPaint)().then(()=>M(e)),open:D,children:[(0,r.jsxs)(a.Anchor,{style:{display:"flex",alignItems:"center",width:"100%"},children:[s,u||!_?(0,r.jsx)(a.Trigger,{asChild:!0,children:(0,r.jsx)(m.Button,{"aria-label":"Switch team",className:J.default.trigger,"data-testid":(0,f.tid)("scope-switcher","toggle"),style:{marginLeft:2,flexShrink:0,width:28,padding:0,backgroundColor:D?"var(--ds-gray-alpha-200)":void 0},type:"tertiary",typeName:"button",children:(0,r.jsx)(c.ChevronUpDown,{color:"gray-900"})})}):null]}),$?(0,r.jsx)(h.Drawer,{fixed:!0,height:"80vh",onDismiss:O,show:D,children:(0,r.jsx)("div",{style:{position:"relative"},children:"team"===l?(0,r.jsx)("div",{children:U},"teams"):(0,r.jsx)("div",{children:z},"projects")})}):(0,r.jsxs)(a.Content,{align:"start",alignOffset:"team"===l?-16:-255,className:J.default.content,onKeyDown:e=>{if("ArrowLeft"!==e.key&&"ArrowRight"!==e.key)return;let t=L.inputRef.current,r=N.inputRef.current;t?.selectionStart!=null&&e.target===t&&(t.selectionStart>0||t.selectionStart!==t.selectionEnd)||(r?.selectionStart==null||e.target!==r||!(r.selectionStart<r.value.length)&&r.selectionStart===r.selectionEnd)&&("ArrowRight"===e.key&&t&&document.activeElement!==t?(cancelAnimationFrame(K.current),t.focus(),K.current=requestAnimationFrame(()=>{t.select()})):"ArrowLeft"===e.key&&r&&document.activeElement!==r&&(cancelAnimationFrame(V.current),r.focus(),V.current=requestAnimationFrame(()=>{r.select()})))},onOpenAutoFocus:e=>e.preventDefault(),side:t,sideOffset:8,style:{display:"flex",position:"relative"},children:[U,z]})]})}(0,f.markLoadedForTest)("multi-switcher"),e.s(["MultiSwitcherPopup",()=>eM,"ScopeLink",()=>eD],3220378)}]);

//# sourceMappingURL=e52d7c8d736dfcdb.js.map
//# debugId=89c1d7d4-dc7b-538e-b134-8876ba058160
