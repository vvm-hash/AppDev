
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="32d0d84a-7df4-5ec0-a5b0-3fb1de8a62f2")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3287497,e=>{"use strict";var a=e.i(6468255),t=e.i(6696646),i=e.i(5523169),l=e.i(6891161),o=e.i(9508212),d=e.i(1344973),r=e.i(4585051),s=e.i(6881349),n=e.i(455575),c=e.i(4030453),u=e.i(4004502),h=e.i(277234),m=e.i(4244280),f=e.i(5338940),x=e.i(5140444),b=e.i(1434061),g=e.i(57106);function j(){let{isNorthstar:e,user:u,mutate:j,isLoading:T}=(0,x.useUser)(),{teams:C,isLoading:p}=(0,f.useTeam)(),[S,k]=(0,t.useState)(),[v,y]=(0,t.useState)(),[I,w]=(0,t.useState)(!1),A=(0,t.useRef)(!1),M=(0,t.useCallback)(e=>{e&&k(e)},[]),P=(0,t.useCallback)(e=>{v&&y(void 0),w(!0),(0,h.fetchAPI)(m.API_USER,{method:"PATCH",body:JSON.stringify({defaultTeamId:e}),throwOnHTTPError:!0}).then(j).then(b.jwtKVStoreInitializeFetch).then(()=>{n.toasts.success("Your Default Team has been updated.")}).catch(e=>{e instanceof Error?y(e.message):y("An unknown error occurred. Please try again.")}).finally(()=>{w(!1),A.current=!0})},[v,j]),L=(0,t.useCallback)(()=>{S&&P(S)},[S,P]);return((0,t.useEffect)(()=>{u&&e&&C?.length===1&&!u.defaultTeamId&&!A.current&&P(C[0].id)},[C,P,u,e]),T||p||!u||!e||!C||C.length<=1||u.defaultTeamId||u.limited)?null:(0,a.jsxs)(l.Modal.Modal,{active:!0,onClickOutside:i.default,children:[(0,a.jsxs)(l.Modal.Body,{children:[(0,a.jsx)(l.Modal.Header,{children:(0,a.jsx)(l.Modal.Title,{children:"Select your default team"})}),(0,a.jsxs)(o.Stack,{gap:6,children:[(0,a.jsxs)(d.Text,{children:["Your default team will be used when you make a request through the API or CLI where you don't specify a particular team. It will also be the team selected when you navigate to the dashboard. Â ",(0,a.jsx)(g.Link,{external:!0,href:"/docs/accounts#default-team",variant:"highlight",children:"Learn More"})]}),(0,a.jsx)(o.Stack,{direction:"row",gap:2,children:(0,a.jsxs)(s.Combobox,{onChange:M,placeholder:"Select a Team",value:S,width:"100%",children:[(0,a.jsx)(s.Combobox.Input,{}),(0,a.jsx)(s.Combobox.List,{children:C.map(e=>(0,a.jsx)(s.Combobox.Option,{prefix:(0,a.jsx)(r.Avatar,{hash:e.avatar,size:24,teamId:e.id}),value:e.id,children:e.slug},e.id))})]})}),v?(0,a.jsx)(c.Error,{children:v}):null]})]}),(0,a.jsx)(l.Modal.Actions,{children:(0,a.jsx)(l.Modal.Action,{disabled:!S,fullWidth:!0,loading:I,onClick:L,children:"Save"})})]})}(0,u.markLoadedForTest)("set-default-team-modal"),e.s(["SetDefaultTeamModal",()=>j])},817800,e=>{e.n(e.i(3287497))}]);

//# sourceMappingURL=ba008a425cb1ec8d.js.map
//# debugId=32d0d84a-7df4-5ec0-a5b0-3fb1de8a62f2
