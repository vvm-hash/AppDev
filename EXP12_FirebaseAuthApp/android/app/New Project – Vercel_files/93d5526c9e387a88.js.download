
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f1aa5264-b9fa-5183-b7a6-f4f21ed48bf8")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1770322,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646);let a=(0,r.createContext)(!1),s=(0,r.createContext)(()=>{});e.s(["SidebarProvider",0,e=>{let{children:i}=e,[l,n]=(0,r.useState)(!1);return(0,t.jsx)(a.Provider,{value:l,children:(0,t.jsx)(s.Provider,{value:n,children:i})})},"useIsSidebarOpen",0,()=>(0,r.useContext)(a),"useSetSidebarOpen",0,()=>(0,r.useContext)(s)])},3880166,e=>{"use strict";var t=e.i(6468255),r=e.i(9722978),a=e.i(1770322);function s(e){let{children:s}=e,i=(0,a.useIsSidebarOpen)();return(0,t.jsxs)(t.Fragment,{children:[i?(0,t.jsx)("div",{className:"lg:hidden fixed inset-0 bg-background-100 opacity-80 z-[calc(var(--header-zindex)_+_1)]"}):null,(0,t.jsx)("div",{className:(0,r.clsx)("lg:sticky lg:top-0 lg:h-screen lg:w-[var(--sidebar-width)] flex-none flex-col","z-[calc(var(--header-zindex)_+_1)] border-r border-solid border-gray-100 bg-background-200","overflow-y-auto overflow-x-clip overscroll-contain scrollbar-none lg:overflow-visible",i?"flex fixed inset-x-2 bottom-[60px] h-[594px] max-h-[calc(100svh_-_84px)] pb-px shadow-modal rounded-[16px] dark:bg-gray-100 lg:inset-x-[unset] lg:bottom-[unset] lg:pb-0 lg:dark:bg-transparent lg:shadow-none lg:rounded-none":"hidden lg:flex"),children:s})]})}e.s(["SidebarContainer",()=>s])},4431860,e=>{"use strict";var t=e.i(942336),r=e.i(6468255),a=e.i(6143247),s=e.i(6696646),i=e.i(9100551),l=e.i(4585051),n=e.i(5255926),o=e.i(6942035),c=e.i(4240811),u=e.i(1918911),d=e.i(6362863),g=e.i(2720056),m=e.i(1086918),p=e.i(4244280),x=e.i(9998527),h=e.i(215852),b=e.i(8866156),j=e.i(6058937),f=e.i(6159310),v=e.i(1502164),S=e.i(4394511),y=e.i(6190050),w=e.i(7630312),N=e.i(4004502);function k(e){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(M,{...e}),children:(0,r.jsx)(C,{...e})})}function C(e){let{className:t="",buttonClassName:i="",variant:l,badge:n=!0}=e,{toggle:o,variant:c}=(0,m.useScopeSwitcher)(),d=c===l,g=(0,s.useRef)(null),p=P(),{data:x}=z(l);return"project"===l&&p?null:(0,r.jsxs)("div",{className:(0,a.cn)("flex items-center select-none min-w-0 text-button-14 rounded",d&&"relative z-[10001]",t),children:[p?(0,r.jsx)(O,{className:i}):(0,r.jsxs)("button",{className:(0,a.cn)("group flex-1 flex flex-row items-center gap-2 px-3 py-2 h-[inherit] text-left [font:inherit] bg-transparent text-inherit rounded-[inherit] hover:bg-gray-100 focus-visible:bg-gray-100 cursor-pointer min-w-0",d&&"bg-gray-200",x&&!p?"font-medium":"font-normal text-gray-800 hover:text-gray-900 focus-visible:text-gray-900",x&&"project"===l&&"pr-9",i),"data-testid":"team"===l?(0,N.tid)("scope-switcher","toggle"):void 0,onClick:()=>o(l,g.current??void 0),ref:g,type:"button",children:[x&&!p?(0,r.jsx)(T,{badge:n,scope:x,variant:l}):(0,r.jsxs)("span",{className:"flex-1 min-w-0 capitalize truncate","data-label-text":!0,children:["Select ",l]}),x&&"team"!==l?null:(0,r.jsx)("div",{className:"grid place-content-center text-gray-900 group-hover:text-gray-1000 group-focus-visible:text-gray-1000",children:(0,r.jsx)(u.ChevronUpDown,{})})]}),x&&"project"===l?(0,r.jsx)(A,{}):null]})}function M(e){let{className:t="",buttonClassName:s="",variant:i}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex items-center",t),children:(0,r.jsxs)("button",{className:(0,a.cn)("group flex-1 flex flex-row items-center gap-2 px-2 py-1.5 text-left text-heading-14 bg-transparent text-inherit rounded-sm cursor-pointer",s),disabled:!0,type:"button",children:[(0,r.jsxs)("span",{className:"flex-1 min-w-0 flex flex-row items-center gap-2","data-label-text":!0,children:["team"===i?(0,r.jsx)(n.Skeleton,{height:21,rounded:!0,width:21}):null,(0,r.jsx)(n.Skeleton,{height:14,width:100})]}),"team"===i?(0,r.jsx)("div",{className:"grid place-content-center text-gray-900",children:(0,r.jsx)(u.ChevronUpDown,{})}):null]})})}let P=()=>{let e=(0,y.useRoute)();return(0,s.useMemo)(()=>e.startsWith("/[teamSlug]/~/account"),[e])},z=e=>{let r=P(),a=(0,i.useParams)(),{href:l}=(0,S.useLinkStatus)(),n=(0,s.useMemo)(()=>{let e=l.split("/").filter(Boolean);if(e.length&&"account"!==e[0])return e.length<2||"~"===e[1]?{teamSlug:e[0]}:{teamSlug:e[0],project:e[1]}},[l])??a,o=(0,s.useMemo)(()=>{if(r)return"";switch(e){case"team":if(!n?.teamSlug)return"";return`${p.API_TEAMS_V2}/${n.teamSlug}`;case"project":if(!n?.teamSlug||!n.project)return"";return(0,x.getDashboardProjectEndpoint)({teamSlug:n.teamSlug,project:n.project})}},[n,e,r]),{memoryRef:c}=(0,b.useFind)();return(0,h.useIsomorphicSuspenseSWR)(o||"empty",async(r,a)=>{if("empty"===r)return null;let s=c.current;if("team"===e&&n?.teamSlug){let e=s.teams.get(n.teamSlug);if(e)return e}else if("project"===e&&n?.teamSlug&&n.project){let e=s.slugs.get(n.teamSlug)?.get(n.project),t=e&&s.projects.get(e);if(e&&t)return{id:e,name:t.name}}try{return await a(r)}catch(e){return"production"!==t.default.env.VERCEL_ENV&&console.error(e),null}})};function T(e){let{variant:t,scope:a,badge:s}=e,l=(0,i.useParams)(),n="team"===t?a:void 0;if(l?.teamSlug)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E,{variant:t}),(0,r.jsxs)("span",{className:"flex-1 flex flex-row items-center gap-2 min-w-0",children:[(0,r.jsx)("span",{"data-label-text":!0,className:"truncate min-w-0",children:a.name}),n&&s?(0,r.jsx)(v.ScopeBadge,{fallbackToPlan:!0,team:n}):null]})]})}function A(){let{memoryRef:e}=(0,b.useFind)(),t=(0,j.useBestRoutes)(e.current);return(0,r.jsx)(f.DashboardLink,{className:(0,a.cn)("relative grid place-content-center size-6 -ml-8 mr-2 rounded-full cursor-pointer","text-gray-900 hover:bg-gray-alpha-300 hover:text-gray-1000 focus-visible:bg-gray-alpha-300 focus-visible:text-gray-1000","before:content-[''] before:absolute before:-inset-1"),role:"button",route:t.team,children:(0,r.jsx)(o.Cross,{size:12})})}function O(e){let{className:t=""}=e,{memoryRef:i}=(0,b.useFind)(),l=(0,s.useMemo)(()=>(0,w.getSuggestions)(i.current,"team")[0],[i]);return(0,r.jsxs)(f.DashboardLink,{className:(0,a.cn)("group flex-1 flex flex-row items-center gap-2 px-3 py-2 text-left text-heading-14 bg-transparent rounded hover:bg-gray-100 focus-visible:bg-gray-100 cursor-pointer","font-normal text-gray-800 hover:text-gray-900 focus-visible:text-gray-900",t),route:"/[teamSlug]",params:{teamSlug:l?.teamSlug},children:[(0,r.jsx)("span",{className:"grid place-content-center size-[21px]",children:(0,r.jsx)(d.ArrowLeft,{})}),(0,r.jsx)("span",{className:"text-label-14",children:"Back"})]})}function E(e){let{className:t="",size:a,variant:s,fallback:n=null}=e,o=(0,i.useParams)(),{data:u}=z(s),d="project"===s?u:void 0,m="team"===s?u:void 0;return m?(0,r.jsx)(l.Avatar,{hash:m.avatar,size:a??21,teamId:u?.id,className:t}):d?(0,r.jsx)(g.ProjectAvatar,{className:t,error:(0,r.jsx)(c.ChevronCircleRightFill,{size:a??16,color:"gray-900"}),teamId:o?.teamSlug||"",project:{id:d.id,name:d.name},size:a??16},d.id):n}e.s(["ScopeAvatar",()=>E,"ScopeSwitcherButton",()=>k])},7198596,1547254,e=>{"use strict";var t=e.i(6468255),r=e.i(9722978),a=e.i(6696646),s=e.i(9100551),i=e.i(4240811),l=e.i(9475671),n=e.i(7807066),o=e.i(6159310),c=e.i(57106),u=e.i(8866156),d=e.i(7986080),g=e.i(6190050);let m={account:["/[teamSlug]/~/account","/[teamSlug]/~/account/domains",{heading:"Settings Links"},"/[teamSlug]/~/account/settings","/[teamSlug]/~/account/settings/authentication","/[teamSlug]/~/account/settings/sign-in-with-vercel","/[teamSlug]/~/account/settings/billing-information","/[teamSlug]/~/account/settings/billing-items","/[teamSlug]/~/account/settings/invoices","/[teamSlug]/~/account/settings/tokens"],team:["/[teamSlug]","/[teamSlug]/~/deployments","/[teamSlug]/~/logs","/[teamSlug]/~/analytics","/[teamSlug]/~/speed-insights","/[teamSlug]/~/observability","/[teamSlug]/~/firewall",{heading:"Setup"},"/[teamSlug]/~/domains","/[teamSlug]/~/stores","/[teamSlug]/~/experimentation/collections","/[teamSlug]/~/agent","/[teamSlug]/~/ai","/[teamSlug]/~/integrations",{heading:"Utilities"},"/[teamSlug]/~/support/cases","/[teamSlug]/~/usage","/[teamSlug]/~/settings"],project:["/[teamSlug]/[project]","/[teamSlug]/[project]/deployments","/[teamSlug]/[project]/logs","/[teamSlug]/[project]/analytics","/[teamSlug]/[project]/speed-insights","/[teamSlug]/[project]/observability","/[teamSlug]/[project]/firewall",{heading:"Setup"},"/[teamSlug]/[project]/settings/domains","/[teamSlug]/[project]/stores",{label:"Flags",route:"/[teamSlug]/[project]/flags"},"/[teamSlug]/[project]/agent","/[teamSlug]/[project]/ai","/[teamSlug]/[project]/settings/integrations",{heading:"Utilities"},"/[teamSlug]/~/support/cases","/[teamSlug]/[project]/usage","/[teamSlug]/[project]/settings"]},p=()=>{let{params:e}=(0,d.useLinkContext)(),t=(0,g.useRoute)();return t?t.startsWith("/[teamSlug]/~/account")?"account":e.project?"project":"team":"team"},x=e=>{for(let t of Object.values(m))for(let r of t)if("string"==typeof r){if(r===e)return!0}else if(!("heading"in r)&&r.route===e)return!0;return!1};e.s(["SidebarScopeLinks",0,m,"isSidebarRoute",0,x,"useSidebarScope",0,p],1547254);var h=e.i(1770322),b=e.i(4431860),j=e.i(2720056),f=e.i(4660689),v=e.i(5348482),S=e.i(7420728),y=e.i(7026682);function w(){return(0,t.jsx)("div",{className:"flex h-10 w-full flex-row items-center",children:(0,t.jsx)(b.ScopeSwitcherButton,{className:"flex-1",variant:"team"})})}function N(){return(0,t.jsx)(b.ScopeSwitcherButton,{variant:"project"})}function k(){let e=p(),i=(0,o.useNavLinks)(m[e]),n=(0,s.usePathname)(),c=(0,a.useMemo)(()=>n?.toLowerCase()??"",[n]),u=(0,g.useRoute)(),d=(0,a.useMemo)(()=>{let e;if(!u||x(u)&&!Object.values(M).includes(u))return;let t=0,r="default";for(let[a,s]of Object.entries(M)){for(let i of(0,S.enumerateContainedRoutes)(s))"default"===r&&(0,S.routeStartsWith)(u,i)&&i.length>t&&(t=i.length,e=a);for(let i of(0,S.enumerateRouteMatches)(s))c.includes(i)&&("matches"!==r||i.length>t)&&(r="matches",t=i.length,e=a)}for(let[a,{links:s}]of Object.entries(P))for(let i of s){let s="string"==typeof i?i:"route"in i?i.route:void 0;if(s){for(let i of(0,S.enumerateContainedRoutes)(s))"matches"!==r&&(0,S.routeStartsWith)(u,i)&&("leaf"!==r||i.length>t)&&(r="leaf",t=i.length,e=a);for(let i of(0,S.enumerateRouteMatches)(s))c.includes(i)&&("matches"!==r||i.length>t)&&(r="matches",t=i.length,e=a)}}return e},[u,c]),[h,b]=(0,a.useState)(),j=(0,a.useRef)(!1);j.current=!!h,(0,a.useEffect)(()=>{j.current&&requestAnimationFrame(()=>{b(void 0)})},[u]);let f=(0,a.useContext)(y.SidebarPortalChildrenContext),v=f?"portal":h??d,[w,N]=(0,a.useState)(!0),k=(0,a.useRef)(v),T=v!==k.current&&!w;(0,a.useEffect)(()=>{T&&requestAnimationFrame(()=>{N(!0),k.current=void 0})},[T]);let A=(0,a.useCallback)(e=>{if(0!==e.button||e.ctrlKey||e.metaKey||e.shiftKey)return;let t=e.target.closest("[data-sidebar-link-key]"),r=t?.dataset.nestedKey;if(r){if(t?.dataset.active!=="true")return void b(r);N(!0),k.current=void 0,e.preventDefault(),e.stopPropagation()}},[]),[O,E]=(0,a.useState)(v);(0,a.useEffect)(()=>{let e=setTimeout(()=>{E(v)},100);return()=>clearTimeout(e)},[v]);let R=w&&v===O,$=i.links[i.activeIndex];return f&&$&&($.meta||($.meta={}),$.meta.hasPortalChildren=!0),(0,t.jsxs)("div",{className:"relative",onClickCapture:A,children:[(0,t.jsx)(C,{headings:!1,inert:!!(v&&R),links:i},"top-level"),v?(0,t.jsxs)("div",{className:(0,r.clsx)(!R&&"absolute inset-x-0 top-0 opacity-0 translate-x-4 blur-sm pointer-events-none"),inert:!R,style:{transition:`transform 0.3s ease, opacity 0.2s ease${R?" 0.1s":""}, filter 0.3s ease`},children:[(0,t.jsx)("div",{className:"w-full px-2.5 pb-1",children:(0,t.jsxs)("button",{className:(0,r.clsx)("flex flex-row items-center justify-between p-0 w-full gap-1 rounded cursor-pointer transition-colors [-webkit-tap-highlight-color:transparent]","bg-transparent text-gray-900 hover:text-gray-1000 focus-visible:text-gray-1000 hover:bg-gray-100 focus-visible:bg-gray-100 active:bg-gray-200"),onClick:()=>{k.current=v,N(!1)},type:"button",children:[(0,t.jsx)("div",{className:"flex-none size-9 grid place-content-center",children:(0,t.jsx)(l.ChevronLeft,{})}),(0,t.jsx)("div",{className:"flex-1 text-label-14 font-medium text-center",children:$?.label??""}),(0,t.jsx)("div",{className:"flex-none size-9"})]})}),"portal"!==v?(0,t.jsx)(z,{type:v},v):(0,t.jsx)("div",{className:"px-2.5 py-1",children:f})]}):null]})}function C(e){let{links:a,inert:s=!1,headings:i=!0,icons:l=!0,nested:n=!1}=e,{links:o}=a;return(0,t.jsx)("div",{className:(0,r.clsx)("flex flex-col px-2.5 gap-px",s?"absolute inset-x-0 top-0 -translate-x-4 opacity-0 blur-sm pointer-events-none":"relative"),inert:s,style:{transition:`transform 0.3s ease, opacity 0.2s ease${s?" 0.1s":""}, filter 0.3s ease`},children:o.map(e=>e.isHeading?i?(0,t.jsx)("div",{className:"relative pt-3 pb-0.5 px-2 h-[30px] text-label-12 font-medium text-gray-800 uppercase z-10",children:e.label},e.label):(0,t.jsx)("hr",{className:"mx-0 my-1 h-px w-full border-0 bg-gray-200"},e.label):(0,t.jsx)(T,{hideIcon:!l,link:e,nested:n},e.label))})}let M={"team-observability":"/[teamSlug]/~/observability","team-settings":"/[teamSlug]/~/settings","project-observability":"/[teamSlug]/[project]/observability","project-settings":"/[teamSlug]/[project]/settings","project-flags":"/[teamSlug]/[project]/flags"},P={"team-observability":{links:[{label:"Overview",route:"/[teamSlug]/~/observability"},{route:"/[teamSlug]/~/observability/query"},"/[teamSlug]/~/observability/notebooks",{route:"/[teamSlug]/~/observability/alerts"},{heading:"Compute"},"/[teamSlug]/~/observability/vercel-functions","/[teamSlug]/~/observability/external-apis","/[teamSlug]/~/observability/middleware","/[teamSlug]/~/observability/workflows",{heading:"Edge Network"},"/[teamSlug]/~/observability/edge-requests","/[teamSlug]/~/observability/fast-data-transfer","/[teamSlug]/~/observability/image-optimization","/[teamSlug]/~/observability/isr","/[teamSlug]/~/observability/blob",{heading:"Services"},"/[teamSlug]/~/observability/ai","/[teamSlug]/~/observability/queues"]},"team-settings":{links:["/[teamSlug]/~/settings/general","/[teamSlug]/~/settings/billing","/[teamSlug]/~/settings/invoices","/[teamSlug]/~/settings/members","/[teamSlug]/~/settings/access-groups","/[teamSlug]/~/settings/drains","/[teamSlug]/~/settings/webhooks","/[teamSlug]/~/settings/security","/[teamSlug]/~/settings/deployment-protection","/[teamSlug]/~/settings/microfrontends","/[teamSlug]/~/settings/connectivity","/[teamSlug]/~/settings/environment-variables","/[teamSlug]/~/settings/notifications","/[teamSlug]/~/settings/apps"],icons:!1},"project-observability":{links:[{label:"Overview",route:"/[teamSlug]/[project]/observability"},{route:"/[teamSlug]/[project]/observability/query"},"/[teamSlug]/~/observability/notebooks","/[teamSlug]/[project]/observability/alerts",{heading:"Compute"},"/[teamSlug]/[project]/observability/vercel-functions","/[teamSlug]/[project]/observability/external-apis","/[teamSlug]/[project]/observability/middleware","/[teamSlug]/[project]/observability/runtime-cache","/[teamSlug]/[project]/observability/sandboxes",{heading:"Edge Network"},"/[teamSlug]/[project]/observability/edge-requests","/[teamSlug]/[project]/observability/fast-data-transfer","/[teamSlug]/[project]/observability/image-optimization","/[teamSlug]/[project]/observability/isr","/[teamSlug]/[project]/observability/blob",{heading:"Deployments"},"/[teamSlug]/[project]/observability/build-diagnostics",{heading:"Services"},"/[teamSlug]/[project]/observability/ai","/[teamSlug]/[project]/observability/queues",{heading:"Early Access"},"/[teamSlug]/[project]/observability/tracing","/[teamSlug]/[project]/observability/errors","/[teamSlug]/[project]/observability/metrics"]},"project-settings":{links:["/[teamSlug]/[project]/settings/general","/[teamSlug]/[project]/settings/build-and-deployment","/[teamSlug]/[project]/settings/environments","/[teamSlug]/[project]/settings/environment-variables","/[teamSlug]/[project]/settings/git","/[teamSlug]/[project]/settings/deployment-protection","/[teamSlug]/[project]/settings/functions","/[teamSlug]/[project]/settings/caches","/[teamSlug]/[project]/settings/cron-jobs","/[teamSlug]/[project]/settings/microfrontends","/[teamSlug]/[project]/settings/project-members","/[teamSlug]/[project]/settings/webhooks","/[teamSlug]/[project]/settings/drains","/[teamSlug]/[project]/settings/security","/[teamSlug]/[project]/settings/connectivity","/[teamSlug]/[project]/settings/advanced"],icons:!1},"project-flags":{links:[{label:"Overview",route:"/[teamSlug]/[project]/flags"},{heading:"Vercel Flags"},"/[teamSlug]/[project]/flags/active","/[teamSlug]/[project]/flags/drafts","/[teamSlug]/[project]/flags/segments","/[teamSlug]/[project]/flags/entities","/[teamSlug]/[project]/flags/archive",{heading:"Marketplace"},"/[teamSlug]/[project]/flags/marketplace/statsig","/[teamSlug]/[project]/flags/marketplace/hypertune","/[teamSlug]/[project]/flags/marketplace/growthbook"]}};function z(e){let{type:r}=e,a=(0,v.useComputeQueryBuilderParams)(),s=P[r],i=(0,o.useNavLinks)(s.links.map(e=>"string"==typeof e||"heading"in e?e:{...e,computeSearch:e.route.endsWith("/query")?a:void 0}),{preserveSearchParams:!0,excludeParams:r.endsWith("-observability")?f.EXCLUDED_NAVIGATION_PARAMS:void 0});return(0,t.jsx)(C,{links:i,icons:s.icons,nested:!0})}function T(e){let{link:s,hideIcon:l=!1,nested:o=!1}=e,d=s.icon,g=(0,h.useSetSidebarOpen)(),m=(0,a.useCallback)(()=>g(!1),[g]),{memoryRef:p}=(0,u.useFind)(),x=!!s.meta?.hasPortalChildren,b=(0,a.useMemo)(()=>x?"portal":s.route?Object.entries(M).find(e=>{let[t,r]=e;return s.route===r})?.[0]:void 0,[s.route,x]),f=(0,a.useMemo)(()=>{if("Overview"!==s.label)return;let e=p.current;if(!e.params.team||!e.params.project)return;let r=e.slugs.get(e.params.team)?.get(e.params.project);if(!r)return;let a=e.projects.get(r);if(a&&s.href===`/${e.params.team}/${e.params.project}`)return{icon:(0,t.jsx)(j.ProjectAvatar,{error:(0,t.jsx)(i.ChevronCircleRightFill,{size:16,color:"gray-900"}),teamId:e.params.team,project:{id:r,name:a.name},size:16}),label:"Overview"}},[s,p]);return(0,t.jsxs)(c.Link,{className:(0,r.clsx)("flex flex-row items-center gap-1 h-9 origin-left rounded z-10","group",s.isActive?"relative bg-gray-200 active:bg-gray-300":"text-gray-900 hover:bg-gray-100 focus-visible:bg-gray-100 hover:text-gray-1000 focus-visible:text-gray-1000",l&&"px-3.5"),"data-active":s.isActive,"data-nested-key":b,"data-sidebar-link-key":s.label,href:s.href,onNavigate:m,children:[l?null:(0,t.jsx)("div",{className:"flex-none grid size-9 place-content-center",children:f?.icon??(d?(0,t.jsx)(d,{}):null)}),(0,t.jsx)("span",{className:"flex-1 text-heading-14 font-medium",children:f?.label??s.label}),b&&!o?(0,t.jsx)("span",{className:"flex-none grid size-6 place-content-center rounded-sm mr-1.5 group-hover:bg-gray-alpha-100 group-active:bg-gray-alpha-300 transition-colors",children:(0,t.jsx)(n.ChevronRight,{size:12})}):null]})}e.s(["ProjectSwitcher",()=>N,"SidebarLinkContainer",()=>k,"TeamSwitcher",()=>w],7198596)},6336233,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),a=e.i(8232741),s=e.i(1344973),i=e.i(455575),l=e.i(3869281),n=e.i(9508212),o=e.i(6891161),c=e.i(5255926),u=e.i(7087273),d=e.i(109803),g=e.i(6060673),m=e.i(9668517),p=e.i(277234),x=e.i(4244280),h=e.i(8042625);async function b(e,t){return(0,p.fetchAPI)(`${(0,x.API_PROJECTS_VERSION)("v10")}/node-version${(0,h.encode)({teamId:e})}`,{method:"PATCH",body:JSON.stringify(t),throwOnHTTPError:!0})}var j=e.i(7994132),f=e.i(9771394),v=e.i(7917902);let S=e=>{let{project:r,selected:i,toggle:n,canUpdateProjects:o,isPlaceholder:u=!1}=e;return u||!r?(0,t.jsx)(a.Entity,{left:(0,t.jsx)(c.Skeleton,{height:16,width:16}),children:(0,t.jsxs)("div",{className:"flex gap-4 flex-1 items-center",children:[(0,t.jsx)("div",{className:"mr-4",children:(0,t.jsx)(c.Skeleton,{height:16,width:120})}),(0,t.jsxs)("div",{className:"flex ml-auto gap-4 whitespace-nowrap",children:[(0,t.jsx)(c.Skeleton,{height:16,width:80}),(0,t.jsx)(c.Skeleton,{height:16,width:80})]})]})}):(0,t.jsx)(a.Entity,{left:(0,t.jsx)(l.Checkbox,{checked:!!i[r.id],onChange:e=>{e.stopPropagation(),n(r)},"aria-label":`Select ${r.name}`,disabled:!o}),onClick:()=>{o&&n(r)},children:(0,t.jsxs)("div",{className:"flex gap-4 flex-1 items-center",children:[(0,t.jsx)("div",{className:"mr-4",children:(0,t.jsx)(s.Text,{size:14,weight:500,children:r.name})}),(0,t.jsxs)("div",{className:"flex ml-auto gap-4 whitespace-nowrap",children:[(0,t.jsxs)(s.Text,{size:14,className:"text-gray-900",children:["Node.js ",r.displayCurrentVersion]}),(0,t.jsxs)(s.Text,{size:14,className:"text-green-900",children:["Node.js ",r.displayTargetVersion]})]})]})})};function y(e){let{active:p,onClose:x,allowEmpty:h=!1}=e,y=(0,m.useTeamSlug)(),{data:w=[],mutate:N,isLoading:k}=(0,g.useTeamProjects)({deprecated:"true",limit:String(51)}),[C,M]=(0,r.useState)(!1),{team:P}=(0,v.useAccount)(),z=w.length>50,T=z?w.slice(0,50):w,A=(0,r.useRef)(null),O=(0,r.useRef)(!1),E=(0,j.getNodeVersions)()[0].major,R=`${E}.x`,$=(0,r.useMemo)(()=>T.map(e=>{let t=e.nodeVersion??"";return{id:e.id,name:e.name,currentVersion:t,targetVersion:R,displayCurrentVersion:t.replace(".x",""),displayTargetVersion:R.replace(".x",""),project:e}}).sort((e,t)=>e.name.localeCompare(t.name)),[T,R]),_=$.length,{amountSelected:L,areAllSelected:B,isSelectAllMode:V,selected:D,setSelected:F,setIsSelectAllMode:U,toggle:I,toggleAll:W}=function(e,t){let[a,s]=(0,r.useState)({}),[i,l]=(0,r.useState)(!1),n=Object.keys(a).length,o=n>0&&n===e.length,c=(0,r.useCallback)(e=>{let t=e.id;l(!1),s(r=>{if(!r[t])return{...r,[t]:e};{let e={...r};return delete e[t],e}})},[]),u=(0,r.useCallback)(()=>{o&&(!t||i)?(s({}),l(!1)):(s(Object.fromEntries(e.map(e=>[e.id,e]))),l(t))},[o,i,e,t]);return{amountSelected:n,areAllSelected:o,isSelectAllMode:i,selected:a,setSelected:s,setIsSelectAllMode:l,toggle:c,toggleAll:u}}($,z);(0,r.useEffect)(()=>{k||O.current||(A.current=_,O.current=!0)},[k,_]),(0,r.useEffect)(()=>{h||k||null===A.current||!(A.current>0)||0!==_||x()},[h,k,_,x]);let q=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(y&&(t||0!==e.length)){M(!0);try{let{successfulUpdates:r,unauthorizedUpdates:a,failedUpdates:s}=await b(y,{nodeVersion:R,applyToAllProjects:t,projects:t?void 0:e.map(e=>e.id)});if(r.length>0){let e=t?`Successfully upgraded all deprecated projects to Node.js ${E}`:`Successfully upgraded ${r.length} project${1===r.length?"":"s"} to Node.js ${E}`;i.toasts.success(e),await N()}a.length>0&&i.toasts.error(`You don't have permission to upgrade ${a.length} project${1===a.length?"":"s"}`),s.length>0&&i.toasts.error(`Failed to upgrade ${s.length} project${1===s.length?"":"s"}. Please try again.`),0===r.length&&0===a.length&&0===s.length&&i.toasts.message("All projects are already up to date")}catch(e){i.toasts.error(e instanceof Error?e.message:"An error occurred during the upgrade process. Please try again.")}F({}),U(!1),M(!1)}},H=P?.membership?.role,K="OWNER"===H||"MEMBER"===H;if(!p||!h&&!k&&0===_&&(null===A.current||0===A.current))return(0,t.jsx)(t.Fragment,{});if(h){if(!K)return(0,t.jsxs)(o.Modal.Modal,{active:p,onClickOutside:x,width:800,children:[(0,t.jsxs)(o.Modal.Body,{children:[(0,t.jsx)(o.Modal.Header,{children:(0,t.jsx)(o.Modal.Title,{children:"Upgrade Deprecated Node.js Versions"})}),(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)(s.Text,{size:14,className:"text-gray-700",children:"Only members with an Owner or Member role can upgrade the Node.js version."})})]}),(0,t.jsx)(o.Modal.Actions,{children:(0,t.jsx)(o.Modal.Action,{onClick:x,type:"secondary",children:"Close"})})]});if(!k&&0===_)return(0,t.jsxs)(o.Modal.Modal,{active:p,onClickOutside:x,width:800,children:[(0,t.jsxs)(o.Modal.Body,{children:[(0,t.jsx)(o.Modal.Header,{children:(0,t.jsx)(o.Modal.Title,{children:"Upgrade Deprecated Node.js Versions"})}),(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)(s.Text,{size:14,className:"text-gray-600",children:"All projects are using a supported version of Node.js."})})]}),(0,t.jsx)(o.Modal.Actions,{children:(0,t.jsx)(o.Modal.Action,{onClick:x,type:"secondary",children:"Close"})})]})}let J=(0,j.getNodeVersions)().find(e=>void 0!==e.discontinueDate)?.discontinueDate?.toLocaleDateString("en-US",{dateStyle:"long"}),G=async()=>{let e=Object.values(D),t=V&&z;await q(e,t)};return(0,t.jsxs)(o.Modal.Modal,{active:p,onClickOutside:x,width:800,children:[(0,t.jsxs)(o.Modal.Body,{children:[(0,t.jsxs)(o.Modal.Header,{children:[(0,t.jsx)(o.Modal.Title,{children:"Upgrade Deprecated Node.js Versions"}),(0,t.jsx)(o.Modal.Subtitle,{children:(0,t.jsxs)(n.Stack,{direction:"column",gap:2,children:[(0,t.jsxs)(s.Text,{size:14,className:"text-gray-900",children:["These projects use a deprecated version of Node.js. They do not receive security updates and new builds will fail starting"," ",J,". Upgrade to Node.js ",E," to prevent any errors. A new deployment is required for your changes to take effect."," ",(0,t.jsxs)("a",{href:"https://vercel.com/changelog/node-js-18-is-being-deprecated",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800",children:["Learn more",(0,t.jsx)(d.External,{size:12})]})]}),z&&(0,t.jsxs)(s.Text,{size:14,className:"text-amber-900",children:["Showing ",50," most recently updated projects • Select all to upgrade every project"]})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Stack,{align:"center",direction:"row",flex:"1",justify:"space-between",className:"px-4 py-3 bg-background-200 rounded-t border border-b-0 border-gray-200",children:(0,t.jsx)(c.Skeleton,{show:k,height:20,autoSize:!0,children:(0,t.jsxs)(l.Checkbox,{"aria-label":"Select all",checked:V||!z&&B,indeterminate:z&&B&&!V,className:"text-gray-700 gap-2 text-sm",disabled:0===_||k||!K,onChange:W,children:[0===L?"Select all":V&&z?"All projects selected":`${L} selected`,L>0&&!V?` of ${_} shown`:z&&!V?" 50+ projects":z?"":` (${_})`]})})}),(0,t.jsx)(u.Scroller,{overflow:"y",width:"100%",className:"border border-gray-200 rounded rounded-t-none max-h-[350px]",children:(0,t.jsx)(a.Entity.List,{className:"first:rounded-none",children:(0,t.jsx)(f.PlaceholderContext.Provider,{value:k,children:k?[1,2,3,4,5].map(e=>(0,t.jsx)(S,{selected:D,toggle:I,canUpdateProjects:K,isPlaceholder:!0},`skeleton-${e}`)):$.map(e=>(0,t.jsx)(S,{project:e,selected:D,toggle:I,canUpdateProjects:K},e.id))})})})]}),!K&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded border",children:(0,t.jsx)(s.Text,{size:14,className:"text-gray-700",children:"Only members with an Owner or Member role can bulk upgrade Node.js"})})]}),(0,t.jsxs)(o.Modal.Actions,{children:[(0,t.jsx)(o.Modal.Action,{onClick:x,type:"secondary",children:"Close"}),K&&(0,t.jsx)(c.Skeleton,{show:k,children:(0,t.jsx)(o.Modal.Action,{onClick:G,disabled:0===L||C,loading:C,children:0===L?"Upgrade":V&&z?"Upgrade all projects":`Upgrade ${L} ${1===L?"Project":"Projects"}`})})]})]})}e.s(["TeamNodeUpgradeModalContent",()=>y],6336233)},47084,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),a=e.i(9100551),s=e.i(7702354),i=e.i(6060673),l=e.i(7917902),n=e.i(9668517),o=e.i(7994132),c=e.i(6336233),u=e.i(3208782);function d(e){let{lastDeprecatedVersion:s,targetVersion:i,projectCount:l,isOverLimit:n=!1}=e,[o,d]=(0,r.useState)(!1),[g,m]=(0,r.useState)(!1),p=(0,a.useRouter)(),x=(0,r.useCallback)(e=>{m(e),e&&d(!0)},[]);(0,r.useEffect)(()=>{let e=()=>{x("#upgrade-deprecated-nodejs-versions"===window.location.hash)};return e(),window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[x]);let h=n?`This team has more than ${l} projects using Node.js ${s} or older.`:`This team has ${l} ${1===l?"project":"projects"} using Node.js ${s} or older.`;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.SideBannerCard,{heading:"Action Required",body:h,variant:"warning",action:{label:`Upgrade to Node.js ${i}`,onClick:()=>{d(!0)}}}),(0,t.jsx)(c.TeamNodeUpgradeModalContent,{active:o,onClose:()=>{d(!1),g&&"#upgrade-deprecated-nodejs-versions"===window.location.hash&&p.replace(window.location.pathname)},allowEmpty:g})]})}function g(){let{team:e}=(0,l.useAccount)(),{data:c=[]}=(0,i.useTeamProjects)({deprecated:"true",limit:String(51)}),u=(0,n.useTeamSlug)(),g=(0,a.usePathname)(),m=(0,o.getNodeVersions)().find(e=>void 0!==e.discontinueDate)?.major,p=(0,o.getNodeVersions)()[0].major,x=(0,r.useMemo)(()=>{if(!g||!u)return!1;let e=g.split("/").filter(Boolean),t=e.findIndex(e=>e===u);return -1!==t&&(e.length===t+1||"~"===e[t+1])},[g,u]),h=e?.membership?.role,b=c.length>50,j=b?c.slice(0,50):c,f=b?50:c.length;return e&&j.length>0&&x&&("OWNER"===h||"MEMBER"===h)?(0,t.jsx)(d,{lastDeprecatedVersion:m??0,targetVersion:p,projectCount:f,isOverLimit:b}):(0,t.jsx)(s.DashTips,{})}e.s(["SideBanner",()=>g],47084)},1747672,e=>{"use strict";var t=e.i(6468255),r=e.i(9722978),a=e.i(6696646),s=e.i(9100551),i=e.i(6942035),l=e.i(8876434),n=e.i(6362863),o=e.i(7198596),c=e.i(9424270),u=e.i(6159310),d=e.i(6190050),g=e.i(1547254),m=e.i(7420728),p=e.i(8866156);let x=Symbol("ProjectName"),h=Symbol("TeamName"),b=e=>{let t=(0,s.useParams)(),{memoryRef:r}=(0,p.useFind)(),a=r.current;return e===x?t?.project||"":e===h?a.teams.get(t?.teamSlug??"")?.name||t?.teamSlug||"":e||""};function j(e){let{breadcrumb:r}=e,{label:a,route:s}=r,i=b(a);return(0,t.jsxs)("div",{className:"hidden lg:flex items-center gap-2 pr-2.5",children:[(0,t.jsx)(u.DashboardLink,{className:"text-heading-14 font-medium text-gray-800 hover:text-gray-900 focus-visible:text-gray-900 hover:underline focus-visible:underline active:text-gray-1000",route:s,children:i}),(0,t.jsx)(c.SlashForward,{color:"gray-alpha-400"})]})}function f(){return(0,t.jsx)("div",{className:(0,r.clsx)("sticky top-0 z-50 flex h-14 bg-background-100","border-b border-solid border-gray-300")})}function v(e){let c,p,{actions:f}=e,[v,y]=(0,a.useState)(!1),{breadcrumbs:w,title:N,back:k}=(c=(0,d.useRoute)(),p=(0,s.useParams)(),(0,a.useMemo)(()=>{if(!c)return{breadcrumbs:[],title:""};let e=!1,t=c.split("/"),r=c.startsWith("/[teamSlug]/[project]/[id]"),a=[];for(let s=t.length;s--;){let i=t[s],l=t.slice(0,s+1).join("/");"/[teamSlug]/[project]"===l&&r&&a.unshift({label:"Deployments",route:"/[teamSlug]/[project]/deployments",mobileOnly:e});let n=m.Routes[l];if(!n)continue;let o=n.label;if("/[teamSlug]/[project]"===l)o=x,e=!0;else if("/[teamSlug]"===l)o=h,e=!0;else if(i.startsWith("[")&&i.endsWith("]")){let e=i.substring(1,i.length-1);o=p?.[e]?.substring(0,9)||o}a.unshift({label:o,route:l,mobileOnly:e}),!e&&(0,g.isSidebarRoute)(l)&&(e=!0)}let s=a.pop()?.label||"",i=a.at(-1),l=1+a.findLastIndex(e=>e.mobileOnly);return a.splice(0,l),{breadcrumbs:a,title:s,back:i}},[c,p])),C=b(N),M=b(k?.label),P=(0,a.useCallback)(()=>{y(e=>!e)},[]);return(0,t.jsxs)("div",{className:(0,r.clsx)("sticky top-0 z-50 flex h-14 flex-row items-center justify-between gap-2 bg-background-100 lg:bg-background-200",'before:absolute before:inset-x-0 before:top-full before:h-px before:bg-gray-alpha-300 before:content-[""]',"lg:border-b lg:border-solid lg:border-gray-100 lg:before:content-[unset]"),children:[(0,t.jsxs)("div",{className:(0,r.clsx)("shrink basis-6/12 items-center pl-4",v?"hidden":"flex"),children:[(0,t.jsx)("span",{className:"hidden lg:inline",children:(0,t.jsx)(o.ProjectSwitcher,{})}),k?(0,t.jsxs)(u.DashboardLink,{className:"flex flex-row items-center gap-2 text-gray-900 min-w-0 max-w-[33vw] truncate lg:hidden",route:k.route,children:[(0,t.jsx)(n.ArrowLeft,{}),(0,t.jsx)("span",{className:"truncate",children:M})]}):null]}),N||w.length?(0,t.jsxs)("div",{className:(0,r.clsx)("items-center justify-center",v?"hidden":"flex"),children:[w.map(e=>(0,t.jsx)(j,{breadcrumb:e},e.route)),(0,t.jsxs)("span",{className:"text-heading-14 truncate font-medium text-gray-1000",children:[(0,t.jsx)("span",{className:"hidden lg:inline",children:"string"==typeof N?N:"Overview"}),(0,t.jsx)("span",{className:"lg:hidden",children:C})]})]}):null,(0,t.jsxs)("div",{className:(0,r.clsx)("flex items-center justify-end",v?"flex-1 justify-between":"shrink basis-6/12"),children:[(0,t.jsx)("div",{className:(0,r.clsx)("lg:flex items-center",v?"flex h-10 px-2 overflow-x-auto":"hidden"),children:(0,t.jsx)(S,{actions:f})}),(0,t.jsx)("button",{"aria-label":v?"Close menu":"Open menu",className:"grid place-content-center size-8 mr-2 bg-transparent border-0 text-gray-1000 lg:hidden",onClick:P,type:"button",children:v?(0,t.jsx)(i.Cross,{}):(0,t.jsx)(l.MoreHorizontal,{})})]})]})}function S(e){let{actions:a}=e;return(0,t.jsx)("div",{className:(0,r.clsx)("flex flex-row items-center gap-2 pr-3","*:flex *:flex-row [*:not(div.flex)]:gap-2 [&>*>div]:!gap-2","[&_button]:!py-1 [&_button]:!px-2 [&_button]:!h-9 lg:[&_button]:!min-w-0 [&_button_span]:!px-0.5",'[&_input]:!py-1 [&_input]:!px-2 [&_input]:!h-9 [&_div[class*="calendar-module"]]:!h-9',"[&_a]:!py-1 [&_a]:!px-2 [&_a]:!h-9 lg:[&_a]:!min-w-0"),children:a})}e.s(["TopBar",()=>v,"TopBarSkeleton",()=>f])},273001,e=>{"use strict";var t=e.i(6468255),r=e.i(9722978),a=e.i(6696646),s=e.i(942468),i=e.i(6942035),l=e.i(6198010),n=e.i(1770322),o=e.i(8866156),c=e.i(4431860);let u=()=>{try{navigator.vibrate([50])}catch{}};function d(){return(0,t.jsx)("div",{className:(0,r.clsx)("fixed bottom-2 inset-x-0 flex flex-row px-2 z-[calc(var(--header-zindex)_+_1)] lg:hidden"),children:(0,t.jsx)(g,{})})}function g(){return(0,t.jsxs)("div",{className:(0,r.clsx)("relative flex-1 flex flex-row items-center h-11 px-1.5 rounded-[10ex] shadow-sm","[--bar-color:var(--ds-background-100)] dark:[--bar-color:var(--ds-gray-100)] bg-[var(--bar-color)]","*:[-webkit-tap-highlight-color:transparent]"),children:[(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(m,{}),children:(0,t.jsx)(p,{})}),(0,t.jsx)(h,{}),(0,t.jsx)(b,{})]})}function m(){return(0,t.jsx)("div",{className:"flex-none flex flex-row items-center w-[54px] h-8 border-0 text-inherit rounded-[10ex]"})}function p(){let[e,s]=(0,a.useState)(!1),i=(0,n.useIsSidebarOpen)(),o=(0,n.useSetSidebarOpen)();e&&i&&s(!1);let d=(0,a.useCallback)(()=>{s(!e),i&&o(!1),u()},[e,i,o]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{className:(0,r.clsx)("flex-none flex flex-row items-center w-[54px] h-8 border-0 text-inherit rounded-[10ex]",'relative before:absolute before:-inset-x-2 before:-bottom-1 before:-top-8 before:content-[""]',e?"bg-gray-300":"bg-transparent"),type:"button",onClick:d,children:[(0,t.jsx)(c.ScopeAvatar,{className:"border-transparent",variant:"team",size:26}),(0,t.jsxs)("div",{className:(0,r.clsx)("-ml-2 relative rounded-full"),children:[(0,t.jsx)(c.ScopeAvatar,{className:"!rounded-full !shadow-none",fallback:(0,t.jsx)("div",{className:"grid place-content-center size-6 bg-[var(--bar-color)] text-gray-900 rounded-full",children:(0,t.jsx)(l.Plus,{size:12})}),variant:"project",size:24}),(0,t.jsx)("div",{className:(0,r.clsx)("absolute -inset-px border rounded-full pointer-events-none",e?"border-gray-300":"border-[var(--bar-color)]")}),(0,t.jsx)("div",{className:"absolute inset-0 border border-gray-alpha-300 rounded-full pointer-events-none"})]})]}),e&&(0,t.jsx)(x,{})]})}function x(){return(0,t.jsxs)("div",{className:"absolute flex flex-row items-center gap-2 bottom-full left-0 w-full pb-2 z-10",children:[(0,t.jsx)(c.ScopeSwitcherButton,{badge:!1,className:"h-9 text-[13px] bg-[var(--bar-color)] outline outline-[1px] outline-gray-alpha-300 rounded-[10ex]",variant:"team"}),(0,t.jsx)(c.ScopeSwitcherButton,{className:"h-9 text-[13px] bg-[var(--bar-color)] outline outline-[1px] outline-gray-alpha-300 rounded-[10ex]",variant:"project"})]})}function h(){let{open:e}=(0,o.useFind)(),s=(0,a.useCallback)(()=>e(),[e]);return(0,t.jsx)("button",{className:(0,r.clsx)("flex-1 flex flex-row items-center px-0.5 h-11 text-copy-14 bg-transparent text-gray-900 border-0",'relative before:absolute before:inset-x-0 before:bottom-0 before:-top-6 before:content-[""]'),onClick:s,type:"button",children:"Find…"})}function b(){let e=(0,n.useIsSidebarOpen)(),l=(0,n.useSetSidebarOpen)(),o=(0,a.useCallback)(()=>{l(!e),u()},[e,l]);return(0,t.jsx)("button",{className:(0,r.clsx)("flex-none grid place-content-center size-8 text-inherit border-0 rounded-full",'relative before:absolute before:-inset-x-2 before:-bottom-1 before:-top-8 before:content-[""]',e?"bg-gray-alpha-200":"bg-transparent"),onClick:o,type:"button",children:e?(0,t.jsx)(i.Cross,{}):(0,t.jsx)(s.Menu,{})})}e.s(["BottomBar",()=>d])}]);

//# sourceMappingURL=fb321fd16f3272a8.js.map
//# debugId=f1aa5264-b9fa-5183-b7a6-f4f21ed48bf8
