
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5e882fc4-2236-5557-a830-8bce87784035")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2327170,7713429,e=>{"use strict";var t=e.i(6468255),r=e.i(9351155),a=e.i(3954609),i=e.i(8161149),s=e.i(8459493),l=e.i(940143),n=e.i(8735244),o=e.i(5232300),c=e.i(6318858),d=e.i(3487134),u=e.i(8664271),m=e.i(6357175),h=e.i(8835183),x=e.i(8042625),p=e.i(277234),g=e.i(9668517),f=e.i(3911483);function j(){let{search:e,options:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,g.useTeamSlug)();return(0,f.default)(r?function(e){let{teamSlug:t,search:r}=e;return`/api/dashboard/projects-filters${(0,x.encode)({teamId:t,...r?{search:r.query,type:r.type}:void 0})}`}({teamSlug:r,search:e}):null,e=>(0,p.fetchAPI)(e),{revalidateOnFocus:!1,...t,revalidateIfStale:!1})}e.s(["useDashboardProjectFilters",()=>j],7713429);var v=e.i(2695633),y=e.i(6696646),w=e.i(6698404),b=e.i(3322724),N=e.i(7027445);function S(e){let{onClick:i}=e,[l]=(0,r.useQueryState)("repo",a.teamOverviewSearchParams.repo);return(0,t.jsx)(s.MenuItem,{onClick:i,prefix:(0,t.jsx)(u.Repositories,{}),suffix:l?(0,t.jsx)(c.Check,{color:"gray-900"}):null,children:"Repository"})}function k(e){let{onClick:i}=e,[l]=(0,r.useQueryState)("mfe",a.teamOverviewSearchParams.mfe);return(0,t.jsx)(s.MenuItem,{onClick:i,prefix:(0,t.jsx)(d.Microfrontends,{}),suffix:l?(0,t.jsx)(c.Check,{color:"gray-900"}):null,children:"Microfrontend"})}function P(){let[e,i]=(0,r.useQueryState)("v0",a.teamOverviewSearchParams.v0),{actions:n}=(0,o.useMenu)();return(0,t.jsx)(l.MenuSection,{title:"Preferences",children:(0,t.jsx)(s.MenuItem,{prefix:(0,t.jsx)(N.LogoV0,{}),suffix:!1===e?(0,t.jsx)(c.Check,{color:"gray-900"}):null,onClick:()=>{n.setOpen(!1),(0,y.startTransition)(async()=>{!1===e?await i(null):await i(!1)})},children:"Hide v0 Projects"})})}function I(e){let{item:r,onClick:a,isSelected:i}=e,{key:{gitType:l,gitOwner:n,gitRepo:o}}=r,d=`https://${l}.${"bitbucket"===l?"org":"com"}/${n}/${o}`;return(0,t.jsx)(s.MenuItem,{onClick:a,children:(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-row items-center gap-1.5",children:[(0,t.jsx)(v.GitLogo,{className:"shrink-0",gitType:l}),(0,t.jsxs)("span",{className:"truncate",children:[n,"/",o]})]}),i?(0,t.jsx)(c.Check,{color:"gray-900",className:"shrink-0"}):null]})},d)}function C(){let e=(0,w.useTeamOverviewState)(e=>e.projectRepos);return(0,t.jsx)(D,{type:"repos",queryKey:"repo",queryDefinition:a.teamOverviewSearchParams.repo,placeholder:"repositories",MenuItemComponent:I,initialData:e,...a.repositoryFilter})}function M(e){let{item:r,onClick:a,isSelected:i}=e,{key:{name:l}}=r;return(0,t.jsx)(s.MenuItem,{onClick:a,children:(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[(0,t.jsx)("div",{className:"flex min-w-0 flex-row items-center gap-1.5",children:(0,t.jsx)("span",{className:"truncate",children:l})}),i?(0,t.jsx)(c.Check,{color:"gray-900",className:"shrink-0"}):null]})})}function L(){return(0,t.jsx)(D,{type:"groups",queryKey:"mfe",queryDefinition:a.teamOverviewSearchParams.mfe,placeholder:"microfrontends",MenuItemComponent:M,limit:10,...a.mfeFilter})}function D(e){let{type:a,queryKey:s,queryDefinition:l,MenuItemComponent:c,placeholder:d,limit:u=10,serialize:x,deserialize:p,initialData:g}=e,[f,v,{currentValue:w}]=(0,m.useDebounceState)("",300),N=(0,b.useIsMobile)(),{actions:S}=(0,o.useMenu)(),k=(0,y.useRef)(void 0),[P,I]=(0,r.useQueryState)(s,l),{data:C,isLoading:M}=j({search:f?{query:f,type:a}:void 0}),L=(0,y.useMemo)(()=>{if(!C?.[a]&&!g?.length)return;let e=C?.[a]?.map(e=>({...e,serialized:x(e.key),fromSearch:!0}))??[];if(!f)for(let t of g??[]){let r=x(t),a=e.find(e=>e.serialized===r);a?(a.count+=1,a.fromSearch=!1):e.push({key:t,serialized:r,count:1,fromSearch:!1})}let t=e.sort((e,t)=>e.fromSearch!==t.fromSearch?e.fromSearch?1:-1:t.count-e.count),r=P?e.find(e=>e.serialized===P)??(()=>{let e=p(P);if(e)return{key:e,serialized:P,count:0}})():void 0;return r?[r,...t.filter(e=>e.serialized!==r.serialized).slice(0,u-1)]:t.slice(0,u)},[C,a,g,f,P,u,x,p]);L&&C?.[a]&&(k.current=L);let D=!C?.[a]&&k.current?k.current:L;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{className:"mx-px mb-2",children:(0,t.jsx)(h.SearchInput,{autoFocus:!N,clearable:!1,loading:f.length>0&&M,onChange:e=>v(e.target.value),placeholder:`Search ${d}…`,suffixStyling:!1,value:w})}),D?D.map(e=>(0,t.jsx)(c,{item:e,isSelected:e.serialized===P,onClick:()=>{(0,y.startTransition)(async()=>{await I(e.serialized===P?null:e.serialized)}),S.setOpen(!1)}},e.serialized)):null,D&&0===D.length?(0,t.jsx)(i.EmptyState.Root,{border:!1,description:"No Results"}):null,C?.[a]||k.current?null:(0,t.jsx)("div",{className:"flex w-full items-center justify-center py-4",children:(0,t.jsx)(n.Spinner,{})})]})}e.s(["ProjectsGroupFilterItem",()=>k,"ProjectsGroupFilterMenu",()=>L,"ProjectsProductFilter",()=>P,"ProjectsRepositoryFilterItem",()=>S,"ProjectsRepositoryFilterMenu",()=>C],2327170)},9798117,e=>{"use strict";var t=e.i(6468255),r=e.i(8674454),a=e.i(6694387),i=e.i(4991687),s=e.i(5326905),l=e.i(8459493),n=e.i(940143),o=e.i(5232300),c=e.i(6318858),d=e.i(4756166),u=e.i(9351155),m=e.i(6696646),h=e.i(3954609),x=e.i(2327170),p=e.i(7713429),g=e.i(7750276);function f(e){let{projectViewMenuItems:l}=e,[o,c]=(0,m.useState)(void 0),[u,h]=(0,m.useState)(!1),p=(0,m.useMemo)(()=>"repositories"===o?(0,t.jsx)(x.ProjectsRepositoryFilterMenu,{}):"groups"===o?(0,t.jsx)(x.ProjectsGroupFilterMenu,{}):null,[o]),{value:f}=(0,g.useEntitlement)("v0-team-seats");return(0,t.jsxs)(i.MenuContainer,{closeOnSelect:!1,children:[(0,t.jsx)(a.MenuButton,{svgOnly:!0,type:"secondary",size:"medium","aria-label":"Filter and Sort Projects",shape:"square",onMouseEnter:()=>{h(!0)},children:(0,t.jsx)(d.ListFilter,{})}),(0,t.jsx)(r.Menu,{width:280,children:p||(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.MenuSection,{title:"Filter by",children:[(0,t.jsx)(x.ProjectsRepositoryFilterItem,{onClick:()=>c("repositories")}),(0,t.jsx)(x.ProjectsGroupFilterItem,{onClick:()=>c("groups")})]}),(0,t.jsx)(s.MenuDivider,{}),(0,t.jsx)(y,{}),f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.MenuDivider,{}),(0,t.jsx)(x.ProjectsProductFilter,{})]}),l]})}),(0,t.jsx)(j,{prefetch:u,onClose:()=>{c(void 0)}})]})}function j(e){let{prefetch:r,onClose:a}=e,{state:i}=(0,o.useMenu)();return(0,m.useEffect)(()=>{i.open||a()},[a,i.open]),i.open||r?(0,t.jsx)(v,{}):null}function v(){return(0,p.useDashboardProjectFilters)(),null}function y(){let[{sort:e},r]=(0,u.useQueryStates)(h.teamOverviewSearchParams),{actions:a}=(0,o.useMenu)();return(0,t.jsxs)(n.MenuSection,{title:"Sort by",children:[(0,t.jsx)(l.MenuItem,{suffix:e?null:(0,t.jsx)(c.Check,{color:"gray-900"}),onClick:()=>{a.setOpen(!1),(0,m.startTransition)(async()=>{await r({sort:null})})},children:"Activity"}),(0,t.jsx)(l.MenuItem,{suffix:"name"===e?(0,t.jsx)(c.Check,{color:"gray-900"}):null,onClick:()=>{a.setOpen(!1),(0,m.startTransition)(async()=>{await r({sort:"name"})})},children:"Name"})]})}e.s(["ProjectsFiltersMenu",()=>f])},8662297,e=>{"use strict";var t=e.i(9171423),r=e.i(4244280);let a=async e=>{let{scopeId:a,viewPreference:i,favoritesViewPreference:s,recentsViewPreference:l}=e;a&&await (0,t.fetchApi)(r.API_USER,{method:"PATCH",body:{scopeId:a,viewPreference:i,favoritesViewPreference:s,recentsViewPreference:l}})};e.s(["updatePreferredScopeAndDashboardView",0,a])},6779607,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),a=e.i(9100551),i=e.i(8662297);function s(e,t){let s=(0,a.useSearchParams)(),l=s?.get("view")==="list"?"list":t??"grid",[n,o]=(0,r.useState)(s?.get("sort")==="name"?"name":"default"),[c,d]=(0,r.useState)(l);(0,r.useEffect)(()=>{s?.has("sort")?o("name"===s.get("sort")?"name":"default"):o("default"),s?.has("view")&&d("list"===s.get("view")?"list":"grid")},[s]);let u=(0,r.useCallback)(t=>{e&&((0,i.updatePreferredScopeAndDashboardView)({scopeId:e,viewPreference:"list"===t?"list":"cards"}),d("list"===t?"list":"grid"))},[e]);return{sort:n,view:c,setSort:o,setView:d,saveViewPreferences:u}}var l=e.i(5326905),n=e.i(8459493),o=e.i(940143),c=e.i(8923565),d=e.i(5232300),u=e.i(9351155),m=e.i(3954609),h=e.i(6318858),x=e.i(2762633),p=e.i(9550268);function g(e){let{initialValue:r,ownerId:a}=e,[{view:i="grid"},l]=(0,u.useQueryStates)(m.teamOverviewSearchParams),{view:n,saveViewPreferences:o}=s(a,i??r??void 0);return(0,t.jsxs)(c.Switch,{className:"hidden lg:flex",children:[(0,t.jsx)(c.Switch.Control,{checked:"grid"===n,icon:(0,t.jsx)(x.GridSquare,{}),label:"grid",onChange:()=>{o("grid"),l({view:"grid"})}}),(0,t.jsx)(c.Switch.Control,{checked:"list"===n,icon:(0,t.jsx)(p.ListUnordered,{}),label:"list",onChange:()=>{o("list"),l({view:"list"})}})]})}function f(e){let{initialValue:a,ownerId:i}=e,[{view:c="grid"},g]=(0,u.useQueryStates)(m.teamOverviewSearchParams),{view:f,saveViewPreferences:j}=s(i,c??a??void 0),{actions:v}=(0,d.useMenu)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.MenuDivider,{className:"lg:hidden"}),(0,t.jsxs)(o.MenuSection,{title:"View",className:"lg:hidden",children:[(0,t.jsx)(n.MenuItem,{prefix:(0,t.jsx)(x.GridSquare,{}),suffix:"grid"===f?(0,t.jsx)(h.Check,{color:"gray-900"}):null,onClick:()=>{j("grid"),v.setOpen(!1),(0,r.startTransition)(async()=>{await g({view:"grid"})})},children:"Grid View"}),(0,t.jsx)(n.MenuItem,{prefix:(0,t.jsx)(p.ListUnordered,{}),suffix:"list"===f?(0,t.jsx)(h.Check,{color:"gray-900"}):null,onClick:()=>{j("list"),v.setOpen(!1),(0,r.startTransition)(async()=>{await g({view:"list"})})},children:"List View"})]})]})}e.s(["ProjectViewMenuItems",()=>f,"ProjectViewSwitch",()=>g],6779607)},2943367,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),a=e.i(3954609),i=e.i(9351155),s=e.i(2504781),l=e.i(8674454),n=e.i(6694387),o=e.i(4991687),c=e.i(9096446),d=e.i(3487134),u=e.i(5614970),m=e.i(2327170);function h(){let[{repo:e,mfe:s},l]=(0,i.useQueryStates)(a.teamOverviewSearchParams);if(!e&&!s)return null;let n=e?a.repositoryFilter.deserialize(e):void 0,o=s?a.mfeFilter.deserialize(s):void 0;return(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[n?(0,t.jsx)(x,{label:`${n.gitOwner}/${n.gitRepo}`,prefix:(0,t.jsx)(u.default,{gitType:n.gitType,width:16,height:16}),onDismiss:()=>{(0,r.startTransition)(async()=>{await l({repo:null})})},MenuContent:m.ProjectsRepositoryFilterMenu}):null,o?(0,t.jsx)(x,{label:o.name,prefix:(0,t.jsx)(d.Microfrontends,{}),onDismiss:()=>{(0,r.startTransition)(async()=>{await l({mfe:null})})},MenuContent:m.ProjectsGroupFilterMenu}):null]})}function x(e){let{label:r,prefix:a,onDismiss:i,MenuContent:d}=e;return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(o.MenuContainer,{children:[(0,t.jsx)(n.MenuButton,{className:"!pl-2 !pr-1",prefix:a,type:"secondary",size:"small",shape:"rounded",suffix:(0,t.jsx)("div",{className:"size-6"}),children:r}),(0,t.jsx)(l.Menu,{width:280,children:(0,t.jsx)(d,{})})]}),(0,t.jsx)(s.Button,{svgOnly:!0,"aria-label":"Remove Filter",className:"absolute right-1 top-1",onClick:i,type:"tertiary",shape:"circle",size:"tiny",children:(0,t.jsx)(c.CrossSmall,{color:"gray-1000"})})]})}e.s(["ProjectFiltersPills",()=>h])},9388656,e=>{"use strict";e.s(["linkClassName",0,"min-w-0 text-inherit no-underline hover:underline [&>svg]:align-middle [&:not(:hover)>svg]:hidden [&>svg]:ml-1"])},3114048,e=>{"use strict";var t=e.i(6468255),r=e.i(9508212),a=e.i(1344973),i=e.i(5468328),s=e.i(9722978),l=e.i(9100551),n=e.i(7218483),o=e.i(4396019),c=e.i(8227242),d=e.i(5002318),u=e.i(6060673),m=e.i(4206574);function h(e){let{label:h,withAuthor:x,dashboardProject:p,children:g}=e,f=(0,l.useParams)(),{data:j}=(0,u.useProject)(p?.id||f?.project),{rollbackDescription:v}=(0,o.useProjectProductionDeployment)(j?.id),y=(0,n.useAgo)(j?.lastAliasRequest?.requestedAt,{long:!0,justNowLabel:"just now"});if(j?.lastAliasRequest===void 0)return null;let w=(0,t.jsxs)(t.Fragment,{children:[v?.username?`@${v.username}`:""," "]}),b=(0,m.getPromotionStatusInfo)({project:j});return(0,t.jsx)(i.Tooltip,{center:!1,disableTriggers:v?.username===void 0,position:"bottom",text:(0,t.jsxs)(r.Stack,{gap:1,children:[v?.description!==void 0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Text,{className:"whitespace-nowrap",weight:500,children:x?(0,t.jsxs)(t.Fragment,{children:[w," rolled back:"]}):"Reason for rollback:"}),(0,t.jsxs)("blockquote",{className:"m-0 text-sm",children:["“",(0,t.jsx)(c.LinkParser,{text:v.description}),"”"]})]}),b?(0,t.jsx)(a.Text,{color:"gray-900",children:(0,t.jsx)(d.DeploymentAliasToolTipText,{...b})}):null]}),children:g||(0,t.jsx)("div",{className:(0,s.clsx)("inline border-x-0 border-b border-t-0",v?.username!==void 0&&"border-dashed border-current"),children:h||(0,t.jsxs)(t.Fragment,{children:[w,y]})})})}e.i(9623499);var x=e.i(5576066),p=e.i(2457794),g=e.i(2348990),f=e.i(3896684),j=e.i(8893913),v=e.i(6696646),y=e.i(6352514),w=e.i(119294),b=e.i(9481787),N=e.i(9668517),S=e.i(6065693);let k=(0,v.createContext)(Promise.resolve([]));function P(e){let{children:r,scores:a}=e;return(0,t.jsx)(k.Provider,{value:a,children:r})}function I(e){let{project:r}=e,{productionDeployment:a}=r;return a?.deploymentIsStale?(0,t.jsx)("div",{className:"z-[2]",children:(0,t.jsx)(h,{dashboardProject:r,withAuthor:!0,children:(0,t.jsx)("div",{className:"flex size-8 items-center justify-center rounded-full bg-amber-200",children:(0,t.jsx)(j.RotateCounterClockwise,{color:"amber-900"})})})}):(0,t.jsx)(v.Suspense,{fallback:(0,t.jsx)(A,{}),children:(0,t.jsx)(C,{project:r})})}function C(e){var r;let a,{project:i}=e,s=(0,N.useTeamSlug)(),{name:l,speedInsights:n}=i,o=(r=i.id,a=(0,v.useContext)(k),(0,v.use)(a).find(e=>e.projectId===r)),c=new URL(`/${l}/speed-insights`,"https://vercel.com"),d=(0,b.getDashboardHref)(`${c.pathname}${c.search}`,s);return n&&(0,g.isSpeedInsightsEnabled)(i)?o?(0,t.jsx)(L,{score:o.value,url:d}):(0,t.jsx)(D,{url:d}):(0,t.jsx)(M,{url:d})}function M(e){let{url:r}=e;return(0,t.jsx)(x.Link,{href:r,onClick:()=>{w.analytics.track(y.AnalyticsEvent.SPEED_INSIGHTS_PROJECT_CARD_UPSELL_CLICKED)},className:"inline-flex",prefetch:!1,children:(0,t.jsx)(i.Tooltip,{delay:!1,text:"Get detailed performance metrics with Speed Insights.",children:(0,t.jsx)(p.default,{size:"small",children:(0,t.jsx)(f.ChartActivity,{color:"gray-900"})})})})}function L(e){let{url:r,score:a}=e;return(0,t.jsx)(x.Link,{href:r,className:"inline-flex",prefetch:!1,children:(0,t.jsx)(p.default,{size:"small",value:a,children:a.toString()})})}function D(e){let{url:r}=e;return(0,t.jsx)(x.Link,{href:r,className:"inline-flex",prefetch:!1,children:(0,t.jsx)(i.Tooltip,{delay:!1,text:"This project has not collected data during the past 7 days.",children:(0,t.jsx)(p.default,{size:"small",children:(0,t.jsx)(S.NoData,{})})})})}function A(){return(0,t.jsx)(p.default,{size:"small"})}k.displayName="SpeedInsightsContext",e.s(["ProjectAlert",()=>I,"ProjectSpeedInsightsSkeleton",()=>A,"SpeedInsightsProvider",()=>P],3114048)},5286689,4352669,e=>{"use strict";var t=e.i(6468255),r=e.i(8459493),a=e.i(6613731),i=e.i(9267266);function s(e){let{project:s}=e,{productionDeployment:l,domain:n}=s,o=function(e){if(!(!e||e.includes("*")))try{return new URL(`https://${e}`).href}catch{return}}(n),c=(0,i.useShouldVisitWithTheToolbar)(l);return o&&c?(0,t.jsx)(r.MenuItem,{className:"no-underline",href:(0,a.wrapURLWithFeedback)(o,{via:"team-dashboard-project-menu",isProduction:!0}),isLink:!0,children:"Visit with Toolbar"}):null}var l=e.i(5468328),n=e.i(6696646),o=e.i(1717203),c=e.i(7557283),d=e.i(9694629),u=e.i(5756088);function m(e){let{project:a}=e,i=(0,d.useOpenTransferModal)(),{preload:s,enablePreload:m}=(0,d.usePreloadTransferModal)(),{can:h}=(0,o.default)({projectIdOrName:a.name}),x=h(c.Action.Create,c.Resource.ProjectTransferOut);return(0,n.useEffect)(()=>{x&&!s&&m()},[x,s,m]),(0,t.jsx)(r.MenuItem,{innerMenuItemClassName:"no-underline !event-pointers-auto",onClick:()=>i({preselectedProjects:[a],source:"dashboard-transfer-menu-item"}),suffix:x?void 0:(0,t.jsx)(u.LockClosed,{}),disabled:!x,style:{textDecoration:"none"},children:x?"Transfer Project":(0,t.jsx)(l.Tooltip,{style:{textDecoration:"none"},text:"You need additional permissions to transfer this project.",children:"Transfer Project"})})}var h=e.i(4201247),x=e.i(9543208),p=e.i(387079),g=e.i(439862);function f(e){let{isFavorite:r}=e,a=(0,g.default)(v),i=(0,g.default)(j);return(0,t.jsxs)(h.motion.div,{className:"group -mx-2 flex h-full w-[calc(100%+16px)] items-center justify-between px-2",children:[r?"Remove":"Add"," Favorite",(0,t.jsx)("span",{"aria-hidden":!0,style:{height:16},children:r?(0,t.jsx)(p.StarFill,{color:"gray-900"}):(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(x.Star,{color:"gray-900"}),(0,t.jsx)("div",{className:"absolute -left-1 -top-1 block size-6",children:y.map((e,r)=>(0,t.jsx)("div",{className:"absolute size-1.5 text-[--color]",style:{"--starting-position-x":`${e.start.position.x}px`,"--starting-position-y":`${e.start.position.y}px`,"--starting-scale":e.start.scale,"--ending-position-x":`${e.end.position.x}px`,"--ending-position-y":`${e.end.position.y}px`,"--ending-scale":e.end.scale,"--color":e.color,"--delay":`${i[r]}ms`,"--duration":`${a[r]}ms`},children:(0,t.jsx)(w,{className:"block translate-x-[--starting-position-x] translate-y-[--starting-position-y] scale-[--starting-scale] transition-transform ease-out group-hover:translate-x-[--ending-position-x] group-hover:translate-y-[--ending-position-y] group-hover:scale-[--ending-scale] group-hover:delay-0 group-hover:duration-100"})},r))})]})})]})}let j=[0,50,80,100,120],v=[150,180,200,260,340],y=[{delay:0,color:"var(--ds-purple-700)",start:{position:{x:6,y:6},scale:0},end:{position:{x:1,y:1},scale:1}},{delay:100,color:"var(--ds-amber-700)",start:{position:{x:13,y:6},scale:0},end:{position:{x:16,y:0},scale:.7}},{delay:100,color:"var(--ds-pink-700)",start:{position:{x:2,y:13},scale:0},end:{position:{x:0,y:13},scale:.5}},{delay:50,color:"var(--ds-teal-700)",start:{position:{x:9,y:15},scale:0},end:{position:{x:9,y:18},scale:.7}},{delay:200,color:"var(--ds-blue-700)",start:{position:{x:15,y:12},scale:0},end:{position:{x:18,y:13},scale:.5}}];function w(e){let{className:r}=e;return(0,t.jsx)("svg",{className:r,fill:"none",height:"6",viewBox:"0 0 6 6",width:"6",xmlns:"http://www.w3.org/2000/svg",style:{transitionDuration:"var(--duration)",transitionDelay:"var(--delay)"},children:(0,t.jsx)("path",{d:"M2.5 0.5V0H3.5V0.5C3.5 1.60457 4.39543 2.5 5.5 2.5H6V3V3.5H5.5C4.39543 3.5 3.5 4.39543 3.5 5.5V6H3H2.5V5.5C2.5 4.39543 1.60457 3.5 0.5 3.5H0V3V2.5H0.5C1.60457 2.5 2.5 1.60457 2.5 0.5Z",fill:"currentColor"})})}var b=e.i(1613936),N=e.i(9668517),S=e.i(8674454),k=e.i(6694387),P=e.i(4991687),I=e.i(5326905),C=e.i(940143),M=e.i(8876434),L=e.i(8172689);let D=(0,n.createContext)(()=>Promise.resolve([]));function A(e){let{children:r,mutate:a}=e;return(0,t.jsx)(D.Provider,{value:a,children:r})}function R(){return(0,n.useContext)(D)}D.displayName="ProjectsMutateContext",e.s(["ProjectsMutateContextProvider",()=>A,"useProjectsMutateContext",()=>R],4352669);var F=e.i(6159310);function T(e){let{project:a}=e,i=(0,F.useLink)(),{name:l,productionDeployment:o}=a;return(0,t.jsxs)(P.MenuContainer,{children:[(0,t.jsx)(k.MenuButton,{type:"tertiary",svgOnly:!0,"aria-label":"Project Menu",size:"small",shape:"square",children:(0,t.jsx)(M.MoreHorizontal,{})}),(0,t.jsxs)(S.Menu,{width:200,children:[(0,t.jsx)(z,{project:a}),(0,t.jsx)(s,{project:a}),(0,t.jsx)(r.MenuItem,{className:"no-underline",disabled:!o,href:i("/[teamSlug]/[project]/logs",{params:{project:l}}),prefetch:!1,isLink:!0,children:"View Logs"}),(0,t.jsx)(r.MenuItem,{className:"no-underline",href:i("/[teamSlug]/[project]/settings/domains",{params:{project:l}}),isLink:!0,children:"Manage Domains"}),(0,t.jsx)(m,{project:a}),(0,t.jsx)(r.MenuItem,{className:"no-underline",href:i("/[teamSlug]/[project]/settings",{params:{project:l}}),isLink:!0,children:"Settings"}),a.link?(0,t.jsx)(L.ErrorBoundary,{fallback:null,children:(0,t.jsx)(n.Suspense,{fallback:null,children:(0,t.jsx)(O,{project:a})})}):null]})]})}function z(e){let{project:a}=e,{isFavorite:i,removeFavorite:s,addFavorite:l}=function(e){let{addFavorite:t,removeFavorite:r,favorites:a}=(0,n.useContext)(E);return{addFavorite:()=>t(e),removeFavorite:()=>r(e),isFavorite:a.includes(e)}}(a.id),o=R();return(0,t.jsx)(r.MenuItem,{onClick:()=>{o(e=>{let[t,...r]=e??[];if(!t)return e;let{favorites:s=[]}=t,l=i?s.filter(e=>e.id!==a.id):[...s,a];return[{...t,favorites:l},...r]},{revalidate:!1}),(i?s():l()).finally(()=>{o()})},children:(0,t.jsx)(f,{isFavorite:i},a.id)})}function O(e){let{project:a}=e,{spacesAndRepos:i}=(0,n.useContext)(E),s=(0,N.useTeamSlug)(),{can:d}=(0,o.default)({projectIdOrName:a.name}),m=(0,F.useLink)(),{repos:h,spaces:x}=(0,n.use)(i),p=x.find(e=>e.git.type===a.link?.type&&"org"in a.link&&e.git.org===a.link.org&&e.git.repo===a.link.repo),g=h.find(e=>e.git.type===a.link?.type&&"org"in a.link&&e.git.org===a.link.org&&e.git.repo===a.link.repo),f=p??g;if(!f||!s)return null;let j=d(c.Action.Create,c.Resource.Project),v=m("/new/[teamSlug]/import",{search:{s:f.git.url,"project-name":`${f.git.org}-${f.git.repo}`}}),y=(0,t.jsx)(r.MenuItem,{innerMenuItemClassName:"!pointer-events-auto no-underline",href:v,disabled:!j,isLink:j,suffix:j?null:(0,t.jsx)(u.LockClosed,{}),children:j?"Import Directory":(0,t.jsx)(l.Tooltip,{className:"no-underline",text:"You need additional permissions to create projects.",children:"Import Directory"})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.MenuDivider,{}),(0,t.jsxs)(C.MenuSection,{title:"Repository",children:[(0,t.jsxs)(r.MenuItem,{isLink:!0,href:m("/[teamSlug]/~/repos/[spaceIdOrSlug]",{params:{spaceIdOrSlug:f.slug}}),prefetch:!1,children:["View ",g?"Repository":"Space"]}),y,p?(0,t.jsx)(r.MenuItem,{href:m("/[teamSlug]/~/repos/[spaceIdOrSlug]/conformance",{params:{spaceIdOrSlug:p.slug}}),isLink:!0,prefetch:!1,children:"View Conformance"}):null,(0,t.jsx)(r.MenuItem,{isLink:!0,href:m("/[teamSlug]/~/repos/[spaceIdOrSlug]/settings",{params:{spaceIdOrSlug:f.slug}}),prefetch:!1,children:"Repository Settings"}),(0,t.jsx)(r.MenuItem,{isLink:!0,href:f.git.url,children:"View Git Repository"})]})]})}let E=(0,n.createContext)({addFavorite:()=>Promise.resolve(),removeFavorite:()=>Promise.resolve(),favorites:[],spacesAndRepos:Promise.resolve({repos:[],spaces:[]})});function $(e){let{children:r,teamId:a,spacesAndRepos:i}=e,{addFavoriteAsync:s,removeFavoriteAsync:l,favorites:o}=(0,b.useFavoriteProjectsAndSpaces)(),c=(0,n.useMemo)(()=>({addFavorite:e=>s({projectId:e,teamId:a}),removeFavorite:e=>l({projectId:e,teamId:a}),favorites:o.filter(e=>e.teamId===a).map(e=>e.projectId),spacesAndRepos:i}),[s,o,l,a,i]);return(0,t.jsx)(E.Provider,{value:c,children:r})}E.displayName="ContextMenuContext",e.s(["ContextMenuContextProvider",()=>$,"ProjectContextMenu",()=>T],5286689)},1107069,e=>{"use strict";var t=e.i(6468255),r=e.i(2560270),a=e.i(2504781),i=e.i(6143247),s=e.i(57106);function l(e){let{title:l,onClick:n,expanded:o,className:c,attachment:d,href:u}=e,m="text-label-14 font-medium text-gray-1000",h=u&&!n?(0,t.jsx)(s.Link,{href:u,className:(0,i.cn)(m,"w-fit hover:underline"),children:l}):(0,t.jsx)("span",{className:m,children:l});return n?(0,t.jsx)(a.Button,{type:"tertiary","data-section-heading":!0,size:"small",className:(0,i.cn)("h-8 [&>span]:px-0",c),onClick:n,width:"fit-content",prefix:(0,t.jsx)(r.ChevronDown,{className:(0,i.cn)("transition-transform duration-200 ease-in-out",{"-rotate-90":!o})}),children:h}):(0,t.jsxs)("div",{"data-section-heading":!0,className:(0,i.cn)("flex h-8 flex-row items-center gap-0.5 px-1.5 justify-between",c),children:[h,d]})}e.s(["ProjectsHeading",()=>l])},6591520,e=>{"use strict";var t=e.i(9351155),r=e.i(3954609),a=e.i(6357175);function i(){let[{q:e}]=(0,t.useQueryStates)(r.teamOverviewSearchParams);return(0,a.useDebouncedValueWithTransition)(e,200)}e.s(["useTeamOverviewDebouncedSearch",()=>i])},6395478,e=>{"use strict";var t=e.i(6468255),r=e.i(5255926),a=e.i(6696646),i=e.i(3114048),s=e.i(6143247),l=e.i(6591520),n=e.i(9351155),o=e.i(3954609);function c(e){let{view:a,hasFilters:s,hasSearch:l}=e;return(0,t.jsxs)("div",{className:"h-content relative flex flex-col gap-4 @smd-page:gap-3",children:[s||l?null:(0,t.jsx)(r.Skeleton,{height:16,boxHeight:32,vcenter:!0,width:64,className:"rounded-sm"}),a?(0,t.jsx)("div",{className:"grid"===a?"grid grid-cols-[repeat(auto-fill,minmax(330px,1fr))] gap-6":"material-small flex flex-col divide-solid divide-x-0 divide-y divide-gray-alpha-400",children:Array.from({length:3}).map((e,s)=>"grid"===a?(0,t.jsxs)("div",{className:"material-small flex flex-col gap-3 p-4",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,t.jsx)(r.Skeleton,{rounded:!0,width:32,height:32}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5",children:[(0,t.jsx)(r.Skeleton,{width:96,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(r.Skeleton,{width:128,height:16,boxHeight:20,vcenter:!0})]}),(0,t.jsx)(i.ProjectSpeedInsightsSkeleton,{}),(0,t.jsx)(r.Skeleton,{width:16,height:16,className:"m-2"})]}),(0,t.jsx)("div",{className:"flex h-5 w-fit items-center"}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col justify-between gap-0.5",children:[(0,t.jsx)(r.Skeleton,{width:140,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(r.Skeleton,{width:192,height:16,boxHeight:20,vcenter:!0})]})]},s):(0,t.jsxs)("div",{className:"flex flex-row items-center gap-4 p-4",children:[(0,t.jsx)("div",{className:"flex flex-none items-center",children:(0,t.jsx)(r.Skeleton,{rounded:!0,width:32,height:32})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5 @md-page:w-1/5 @md-page:flex-none @xl-page:w-1/4",children:[(0,t.jsx)(r.Skeleton,{width:96,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(r.Skeleton,{width:128,height:16,boxHeight:20,vcenter:!0})]}),(0,t.jsxs)("div",{className:"hidden min-w-0 flex-1 flex-col justify-between gap-0.5 @md-page:flex",children:[(0,t.jsx)(r.Skeleton,{width:140,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(r.Skeleton,{width:192,height:16,boxHeight:20,vcenter:!0})]}),(0,t.jsx)(i.ProjectSpeedInsightsSkeleton,{}),(0,t.jsx)(r.Skeleton,{width:16,height:16,className:"m-2"})]},s))}):null,(0,t.jsx)(d,{})]})}function d(e){let{className:r}=e;return(0,t.jsx)("div",{className:(0,s.cn)("z-1 absolute top-0 -left-1 h-[calc(100%+8px)] w-[calc(100%+8px)] bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0px] to-[hsla(var(--ds-background-200-value),1)_220px]",r)})}function u(e){let{view:r,filtered:i}=e;return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(c,{view:r,hasFilters:i}),children:(0,t.jsx)(m,{view:r})})}function m(e){let{view:r}=e,a=(0,l.useTeamOverviewDebouncedSearch)(),[{repo:i,mfe:s}]=(0,n.useQueryStates)(o.teamOverviewSearchParams);return(0,t.jsx)(c,{view:r,hasFilters:!!(i||s),hasSearch:!!a})}e.s(["ProjectsSkeleton",()=>c,"ProjectsSkeletonWithQuery",()=>u,"SkeletonFade",()=>d])},8644057,e=>{"use strict";var t=e.i(6468255),r=e.i(2573136),a=e.i(9351155),i=e.i(3954609),s=e.i(9388656),l=e.i(6143247),n=e.i(2689512),o=e.i(6696646),c=e.i(6159310);function d(e){let{project:r}=e;return(0,t.jsx)(o.Suspense,{fallback:(0,t.jsx)(n.ProjectAvatarSkeleton,{}),children:(0,t.jsx)(c.DashboardLink,{route:"/[teamSlug]/[project]",params:{project:r.name},prefetch:!1,className:"h-8",children:(0,t.jsx)(n.ProjectAvatar,{project:r,skipSkeleton:!0})})})}var u=e.i(4004502);e.i(9623499);var m=e.i(5576066),h=e.i(109803);function x(e){let{project:r}=e,{domain:a}=r;return a?a.includes("*")?(0,t.jsx)("span",{className:"text-label-14 h-5 max-w-full truncate leading-5 text-gray-900",children:a}):(0,t.jsxs)(m.Link,{className:(0,l.cn)(s.linkClassName,"text-label-14 text-gray-900 h-5 truncate w-fit leading-5 max-w-full"),target:"_blank",prefetch:!1,href:`https://${a}`,children:[a,(0,t.jsx)(h.External,{size:14})]}):(0,t.jsx)("span",{className:"h-5 max-w-full truncate leading-5 text-gray-900",children:"No Production Deployment"})}var p=e.i(9481787),g=e.i(5614970),f=e.i(8529990),j=e.i(7218483),v=e.i(9668517),y=e.i(4549978),w=e.i(1112630),b=e.i(135446),N=e.i(9100551),S=e.i(6850581),k=e.i(6882489),P=e.i(5072965);function I(e){let{project:r}=e,a=(0,v.useTeamSlug)(),{name:i,link:n,productionDeployment:o}=r;if(!n){if(r.v0)return null;let e=(0,p.getDashboardHref)(`/${i}/settings/git`,a??void 0);return(0,t.jsx)(m.Link,{className:(0,l.cn)(s.linkClassName,"text-label-14 text-blue-900 h-5"),href:e,prefetch:!1,children:"Connect Git Repository"})}let c=(0,f.getGitInfoFromDeployment)(o);if(!c)return(0,t.jsx)("span",{className:"text-label-14 h-5 text-gray-700",children:"No Production Deployment"});let{id:d=""}=o??{},u=(0,p.getDashboardHref)(`/${i}/${d.replace("dpl_","")}`,a??void 0),[h]=c.commitMessage.split("\n");return(0,t.jsx)(m.Link,{className:(0,l.cn)(s.linkClassName,"text-label-14 text-gray-1000 font-medium truncate h-5"),href:u,prefetch:!1,children:h})}function C(e){let{project:r}=e,a=(0,v.useTeamSlug)(),{name:i,link:n,productionDeployment:o,updatedAt:c}=r,d=!!n,u=(0,f.getGitInfoFromDeployment)(o),h=new URL(`/${i}/deployments`,"https://vercel.com");d&&u&&h.searchParams.set("filterBranch",u.commitRef);let x=(0,p.getDashboardHref)(`${h.pathname}${h.search}`,a??void 0),g=(0,j.useAgo)(o?.createdAt??c),b=n?.productionBranch===u?.commitRef?" on":" from";return(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center gap-1",children:[(0,t.jsxs)("span",{className:"text-label-14 flex-none text-gray-900",suppressHydrationWarning:!0,children:[(0,t.jsx)(S.RelativeTimeCard,{date:o?.createdAt??c,className:"relative z-10",side:"bottom",children:(0,t.jsx)("span",{suppressHydrationWarning:!0,children:g})}),d&&u?b:null]}),d&&u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.GitMerge,{color:"gray-900",className:"flex-none"}),(0,t.jsx)(m.Link,{className:(0,l.cn)(s.linkClassName,"text-label-13-mono text-gray-900 truncate"),href:x,prefetch:!1,children:u.commitRef})]}):null,o?.deploymentIsStale?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-label-14 flex-none text-gray-900",children:"via"}),(0,t.jsx)(w.RotateClockwise,{size:14,color:"gray-1000",className:"flex-none"}),(0,t.jsx)("span",{className:"text-label-14 flex-none text-gray-1000",children:"Instant Rollback"})]}):null]})}let M=(0,b.createSerializer)(i.teamOverviewSearchParams);function L(e){let{project:r,className:s}=e,n=(0,N.usePathname)(),[c,d]=(0,a.useQueryStates)(i.teamOverviewSearchParams),{link:u}=r,h=(0,o.useMemo)(()=>{if(!u)return;let e=(0,k.getProjectLinkParts)(u);return{repoPath:(0,k.formatProjectLink)(u),href:i.repositoryFilter.serialize({gitType:u.type,gitOwner:e.org,gitRepo:e.repo})}},[u]),x=(0,o.useMemo)(()=>{if(!h)return"";let e=M({...c,repo:h.href});return`${n}${e}`},[h,c,n]);return u?(0,t.jsxs)(m.Link,{className:(0,l.cn)("flex min-w-0 flex-none flex-row items-center gap-0.5 rounded-full bg-gray-300 p-0.5 pr-1.5 w-fit",s),href:x,prefetch:!1,onClick:e=>{e.metaKey||e.shiftKey||e.ctrlKey||(e.preventDefault(),(0,o.startTransition)(async()=>{await d({repo:h?.href},{history:"push"})}))},...(0,P.createTrackingAttributes)({type:"filter",resource:"repo",source:"repo-pill"}),children:[(0,t.jsx)(g.default,{gitType:u.type,width:14,height:14,className:"m-0.5 shrink-0"}),(0,t.jsx)("span",{className:"text-label-12 truncate font-medium",children:h?.repoPath})]}):null}var D=e.i(3114048),A=e.i(5286689),R=e.i(7027445),F=e.i(7749291);function T(e){let{project:r}=e,{productionDeployment:a,v0:i}=r;if(!i)return null;let s=a?.meta;if(!(s?.v0BlockId&&s?.v0ChatId))return null;let l=`https://v0.app/chat/${s.v0ChatId}?b=${s.v0BlockId}`;return(0,t.jsxs)(m.Link,{className:"group flex items-center hover:text-gray-1000 font-medium min-w-0 flex-none flex-row gap-1 rounded-full bg-transparent hover:bg-gray-400 py-0.5 px-1.5 w-fit border border-gray-400 hover:border-gray-500 text-gray-900 text-label-12",href:l,prefetch:!1,"aria-label":"Open in v0",children:[(0,t.jsx)(R.LogoV0,{size:18}),(0,t.jsx)(F.ExternalSmall,{className:"hidden group-hover:block",size:16})]})}function z(e){let{projects:r}=e;return(0,t.jsx)("ul",{className:"material-small m-0 flex flex-col divide-solid p-0 divide-x-0 divide-y divide-gray-alpha-400",children:r.map(e=>(0,t.jsx)(O,{project:e},e.id))})}function O(e){let{project:r}=e;return(0,t.jsxs)("li",{className:"relative flex flex-col gap-4 p-4 leading-5 xl:flex-row xl:items-center [&_a]:z-10 [&_button]:z-10",children:[(0,t.jsx)(c.DashboardLink,{className:"absolute inset-0",prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:r.name}}),(0,t.jsxs)("div",{className:"mr-24 flex min-w-0 flex-row gap-4 xl:mr-0 xl:w-[calc(25%+48px)]",children:[(0,t.jsx)("div",{className:"flex flex-none items-center",children:(0,t.jsx)(d,{project:r})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5",children:[(0,t.jsx)(c.DashboardLink,{prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:r.name},className:(0,l.cn)(s.linkClassName,"text-label-14 font-medium text-gray-1000 h-5 truncate w-fit max-w-full"),"data-testid":(0,u.tid)("projects","link"),children:r.name}),(0,t.jsx)(x,{project:r})]})]}),(0,t.jsxs)("div",{className:"order-2 flex min-w-0 flex-1 flex-col justify-between gap-0.5 xl:order-1",children:[r.link||!r.v0?(0,t.jsx)(I,{project:r}):(0,t.jsx)(T,{project:r}),(0,t.jsx)(C,{project:r})]}),(0,t.jsxs)("div",{className:"flex h-5 w-fit items-center gap-2 order-1",children:[(0,t.jsx)(L,{project:r,className:"xl:max-w-40"}),r.link&&r.v0&&(0,t.jsx)(T,{project:r})]}),(0,t.jsxs)("div",{className:"items-ceenter absolute right-4 top-[21px] order-1 flex shrink-0 flex-row gap-4 xl:static",children:[(0,t.jsx)(D.ProjectAlert,{project:r}),(0,t.jsx)(A.ProjectContextMenu,{project:r})]})]})}function E(e){let{projects:r}=e;return(0,t.jsx)("ul",{className:"m-0 grid grid-cols-[repeat(auto-fill,minmax(330px,1fr))] gap-6 p-0",children:r.map(e=>(0,t.jsx)($,{project:e},e.id))})}function $(e){let{project:r}=e;return(0,t.jsxs)("li",{className:"material-small relative flex flex-col gap-3 p-4 leading-5 hover:border-gray-500 [&_a]:z-10 [&_button]:z-10",children:[(0,t.jsx)(c.DashboardLink,{className:"absolute inset-0",prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:r.name}}),(0,t.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,t.jsx)(d,{project:r}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5",children:[(0,t.jsx)(c.DashboardLink,{prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:r.name},className:(0,l.cn)(s.linkClassName,"text-label-14 font-medium text-gray-1000 h-5 truncate w-fit max-w-full"),"data-testid":(0,u.tid)("projects","link"),children:r.name}),(0,t.jsx)(x,{project:r})]}),(0,t.jsx)(D.ProjectAlert,{project:r}),(0,t.jsx)(A.ProjectContextMenu,{project:r})]}),(0,t.jsxs)("div",{className:"flex h-5 w-fit items-center gap-2",children:[(0,t.jsx)(L,{project:r,className:"max-w-48"}),!r.link&&r.v0&&(0,t.jsx)(T,{project:r})]}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col justify-between gap-0.5",children:[r.link||!r.v0?(0,t.jsx)(I,{project:r}):(0,t.jsx)("div",{className:"h-5"}),(0,t.jsx)(C,{project:r})]})]})}var U=e.i(1107069),H=e.i(6698404),B=e.i(776537),V=e.i(8662297),G=e.i(6395478),_=e.i(4352669),q=e.i(6591520),W=e.i(2504781),K=e.i(3748432);let Q=(0,e.i(9193729).default)(()=>e.A(6835232).then(e=>e.EmptyProjects),{loadableGenerated:{modules:[4905110]}});function Y(e){let{userPreferences:s,ownerId:l}=e;(0,H.useTeamOverviewStoreSync)();let[{sort:n,repo:c,mfe:d,v0:u,view:m}]=(0,a.useQueryStates)(i.teamOverviewSearchParams),h=(0,H.useTeamOverviewState)(e=>e.setIsSearchingProjects),x=(0,H.useTeamOverviewState)(e=>e.setProjectRepos),p=(0,q.useTeamOverviewDebouncedSearch)(),g=m||(s?.view==="cards"?"grid":s?.view)||"grid";!function(e){let{view:t}=e,r=(0,v.useTeamSlug)();(0,o.useEffect)(()=>{r&&(document.cookie=`_vc_view=${t}; path=/${r}; max-age=31536000; SameSite=Lax; Secure`)},[r,t])}({view:g});let f=!!(p||c||d),j=f?"slim":"full",y=(0,r.useDashboardProjects)({...function(e){let{search:t,sort:r,repo:a,mfe:s,v0:l}=e;return{search:t?.substring(0,100)||void 0,limit:12,sort:r||void 0,favorites:!0,repoUrl:a||void 0,mfeGroupId:s?i.mfeFilter.deserialize(s)?.id:void 0,v0:l??void 0}}({search:p,sort:n,repo:c,mfe:d,v0:u}),laggyKey:j,options:{revalidateIfStale:!1}});return((0,o.useEffect)(()=>{h(!!p&&y.isLoading)},[p,y.isLoading,h]),(0,o.useEffect)(()=>{!y.isShowingStale&&y.projects.length&&x(y.projects.map(e=>{let{link:t}=e;if(t?.type==="github"&&t.org)return{gitType:t.type,gitOwner:t.org,gitRepo:t.repo}}).filter(Boolean))},[x,y.isShowingStale,y.projects]),!y.initialDataLoaded||y.isShowingStale&&(y.staleKey!==j||0===y.projects.length))?(0,t.jsx)(G.ProjectsSkeleton,{view:g,hasFilters:!!(d||c),hasSearch:!!p}):0===y.projects.length?p||c||d?(0,t.jsx)(B.NoResultsProjects,{search:p}):(0,t.jsxs)("div",{className:"flex flex-col gap-4 @smd-page:gap-3",children:[(0,t.jsx)(U.ProjectsHeading,{title:"Projects"}),(0,t.jsx)("div",{className:"material-small pb-12 pt-6",children:(0,t.jsx)(Q,{})})]}):(0,t.jsxs)(_.ProjectsMutateContextProvider,{mutate:y.mutate,children:[(0,t.jsx)(K.NavigationMarker,{phase:"content",label:"ProjectsContent",children:(0,t.jsx)(Z,{data:y,userPreferences:s,ContentComponent:"grid"===g?E:z,hideFavorites:f,ownerId:l})}),y.hasMore?(0,t.jsx)(W.Button,{width:"100%",loading:y.isLoadingMore,disabled:y.isLoadingMore,type:"secondary",className:"mt-6",onClick:()=>{y.loadMore()},children:"Show More"}):null]})}function Z(e){let{data:r,userPreferences:a,ContentComponent:i,hideFavorites:s,ownerId:l}=e,{projects:n,favorites:c}=r,[d,u]=(0,o.useState)(a?.favoritesView??!1);return(0,t.jsxs)("div",{className:"flex flex-col gap-4 @smd-page:gap-3",children:[s?null:(0,t.jsx)(t.Fragment,{children:c.length>0?(0,t.jsxs)("div",{className:"flex flex-col gap-4 @smd-page:gap-3",children:[(0,t.jsx)(U.ProjectsHeading,{title:"Your Favorites",onClick:()=>{(0,V.updatePreferredScopeAndDashboardView)({scopeId:l,favoritesViewPreference:d?"closed":"open"}),u(e=>!e)},expanded:d}),d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i,{projects:c}),(0,t.jsx)("div",{className:"my-3 h-px w-full bg-gray-alpha-400"})]}):null]}):(0,t.jsx)(U.ProjectsHeading,{title:"Projects"})}),(0,t.jsx)(K.NavigationMarker,{phase:"content",label:"ProjectsContentContainer",children:(0,t.jsx)(i,{projects:n})})]})}e.s(["ProjectsContent",()=>Y],8644057)},390520,e=>{"use strict";var t=e.i(6468255),r=e.i(2504781),a=e.i(1136434),i=e.i(6143247),s=e.i(6696646);let l=(0,s.createContext)({isExpanded:!1,setIsExpanded:()=>{}});function n(e){let{children:n,ssrSwitch:o}=e,[c,d]=(0,s.useState)(!1),u=(0,s.useMemo)(()=>({isExpanded:c,setIsExpanded:d}),[c]);return(0,t.jsxs)("div",{className:(0,i.cn)("group/container relative flex flex-col","max-smd:[&:not(:has([value=usage]:checked)):not(:has([value=alerts]:checked)):not(:has([data-section=recents][data-has-more]))_[data-more-control]]:hidden","max-smd:[&:has([value=usage]:checked):not(:has([data-section=usage][data-has-more]))_[data-more-control]]:hidden","max-smd:[&:has([value=alerts]:checked):not(:has([data-section=alerts][data-has-more]))_[data-more-control]]:hidden","max-smd:[&:has([data-alerts-active])_[value=alerts]+div]:text-red-900"),"data-sidebar-container":!0,children:[(0,t.jsxs)("div",{className:(0,i.cn)("relative flex flex-col","max-smd:material-small max-smd:min-h-[208px] max-smd:overflow-hidden","@smd-page:gap-6 @smd-page:w-[320px] @lg-page:w-[404px]","max-smd:[&:not(:has([value=usage]:checked))_[data-section=usage]]:hidden","max-smd:[&:not(:has([value=recents]:checked))_[data-section=recents]]:hidden","max-smd:[&:not(:has([value=alerts]:checked))_[data-section=alerts]]:hidden",{"max-smd:max-h-[208px]":!c},"max-smd:[&_[data-section-heading]]:hidden"),children:[o,(0,t.jsx)(l.Provider,{value:u,children:n}),c?null:(0,t.jsx)("div",{"data-more-control":!0,className:"z-1 absolute inset-x-0 bottom-0 h-4 w-full bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0%] to-[hsla(var(--ds-background-200-value),1)_100%] @smd-page:hidden"})]}),(0,t.jsx)(r.Button,{"data-more-control":!0,className:"z-[2] absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 @smd-page:hidden",svgOnly:!0,"aria-label":"Show More",type:"secondary",shape:"circle",size:"small",passthroughOnClick:e=>{e.stopPropagation(),d(e=>!e)},children:(0,t.jsx)(a.ChevronDownSmall,{className:(0,i.cn)("transition-transform duration-200 ease-in-out",{"-rotate-180":c})})})]})}function o(){return(0,s.useContext)(l)}l.displayName="SidebarExpandedContext",e.s(["ProjectsSidebarContainer",()=>n,"useSidebarExpandedContext",()=>o])},7654643,e=>{"use strict";var t=e.i(6468255),r=e.i(8042625),a=e.i(2686817),i=e.i(215852),s=e.i(1107069);function l(e){let{children:r,hasMore:a}=e;return(0,t.jsxs)("div",{className:"flex flex-col max-smd:flex-1 @smd-page:gap-3","data-section":"recents","data-has-more":!!a||void 0,children:[(0,t.jsx)(s.ProjectsHeading,{title:"Recent Previews",className:"max-smd:px-4 max-smd:pt-4"}),(0,t.jsx)("ul",{"data-section-content":!0,className:"m-0 flex flex-col divide-solid p-0 divide-x-0 divide-y divide-gray-alpha-400 @smd-page:material-small max-smd:flex-1",children:r})]})}var n=e.i(6696646),o=e.i(7837522),c=e.i(7780974),d=e.i(2627304),u=e.i(7674801),m=e.i(5018193),h=e.i(5787344),x=e.i(8529990),p=e.i(9375869);function g(e){let t=e.automaticAliases?.find(e=>e.includes("-git-"))??e.url;t.startsWith("http")||(t=`https://${t}`);let r=t.replace(/^https?:\/\//,"");return{url:t,displayUrl:r}}let f={github:u.LogoGithub,"github-limited":u.LogoGithub,gitlab:m.LogoGitlab,bitbucket:h.LogoBitbucketColor};var j=e.i(8216525),v=e.i(3907048),y=e.i(4844919),w=e.i(7628870),b=e.i(5071474),N=e.i(1138941),S=e.i(6613731),k=e.i(6636464),P=e.i(277234),I=e.i(7917902),C=e.i(593207),M=e.i(7218483),L=e.i(57106),D=e.i(3306538),A=e.i(2504781),R=e.i(8674454),F=e.i(6694387),T=e.i(4991687),z=e.i(5326905),O=e.i(8459493),E=e.i(8522580),$=e.i(5255926),U=e.i(8735244),H=e.i(5468328),B=e.i(2560270),V=e.i(7807066),G=e.i(3627160),_=e.i(6942035),q=e.i(7749291),W=e.i(4345845),K=e.i(5376191),Q=e.i(8876434),Y=e.i(6198010),Z=e.i(5883567),X=e.i(6107899),J=e.i(198667),ee=e.i(6685186),et=e.i(6143247),er=e.i(7432042),ea=e.i(3911483),ei=e.i(390520);function es(e){var a;let i,s,{entity:l,teamSlug:d}=e,u=function(e){let{track:t}=(0,o.useTrackActivity)();return{onClick:(0,n.useCallback)(r=>{let a=r.target.closest("a");if(null!==a){let r=a.dataset.trackingLinkLocation,i=a.dataset.trackingLinkType;t(c.VercelActivityAction.RecentsEntityClick,{type:e,linkLocation:r,linkType:i,href:a.href})}},[e,t])}}("preview"),{prMetadata:m,items:h}=l.payload,v=h[0],{url:N,displayUrl:C}=g(v.deployment),M=(0,x.getGitInfoFromDeployment)(v.deployment),R=(a=v.deployment,i=(0,p.useDeploymentLink)(a),(s=(0,x.getGitInfoFromDeployment)(a))?s.prId&&s.prUrl?{type:"pull-request",provider:s.type,url:s.prUrl,id:s.prId}:m?.number?{type:"pull-request",provider:s.type,url:function(e,t){switch(e.type){case"github":case"github-limited":return`https://github.com/${e.viaFork?e.orgNamespace:e.repoNamespace}/${e.repoName}/pull/${t}`;case"bitbucket":return`https://bitbucket.org/${e.repoNamespace}/${e.repoName}/pull-requests/${t}`;case"gitlab":return`https://gitlab.com/${e.repoNamespace}/${e.repoName}/-/merge_requests/${t}`}}(s,m.number),id:m.number}:""!==s.refUrl?{type:"branch",provider:s.type,url:s.refUrl}:{type:"commit",provider:s.type,url:s.commitUrl}:{type:"cli",url:`${i}/source`}),O=("provider"in R?f[R.provider]:void 0)??G.Code,[$,W]=(0,n.useState)(!1),Z=(0,ei.useSidebarExpandedContext)(),{trigger:er}=function(e){let{eventId:t}=e,{user:a,team:i}=(0,I.useAccount)(),s=function(e){let{type:t,teamSlug:a,limit:i=7}=e;return`/api/recents${(0,r.encode)({type:t,teamId:a,limit:i})}`}({type:e.type,teamSlug:i?.slug??a?.username});async function l(e){let r=new URLSearchParams;i&&r.set("teamId",i.id),await (0,P.fetchAPI)(`/recents/${t}?${r.toString()}`,{method:"DELETE"})}return(0,k.default)(s,l,{optimisticData:e=>e?.filter(e=>e.eventId!==t)??[]})}(l);(0,n.useEffect)(()=>{Z.isExpanded||W(!1)},[Z.isExpanded]);let es=1===l.payload.totalItems?v:void 0,ep=es?.deployment,ef=(0,p.useDeploymentLink)(ep,es?.project.name),ej=(0,S.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:es?.deployment.previewCommentsEnabled?es.deployment:void 0}),[ev,ey]=(0,n.useState)(!1),ew=l.payload.items.length<l.payload.totalItems,eb=(0,ea.default)(ev&&ew?`/api/recents/hydrate-preview/${l.eventId}${(0,r.encode)({teamId:d})}`:null,async e=>(await (0,P.fetchAPI)(e)).payload.items,{shouldRetryOnError:!1,revalidateIfStale:!1,revalidateOnFocus:!1}),eN=m?.title??M?.commitRef,eS=M?.commitMessage&&eN!==M.commitMessage?M.commitMessage:void 0,ek=eN?(0,t.jsxs)("span",{className:(0,et.cn)("text-label-14 font-medium truncate",{"text-label-14-mono":!m?.title}),title:[eN,eS].join(" / ").trim(),children:[eN,eS?(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:eS}):null]}):(0,t.jsx)("span",{className:"text-label-14 truncate font-medium",title:N,children:C}),eP=(0,t.jsx)(eo,{"aria-label":`View ${"pull-request"===R.type?"Pull Request":"Source"}`,isLink:!0,href:R.url,prefix:(0,t.jsx)(O,{}),preview:(0,t.jsxs)(t.Fragment,{children:["cli"===R.type?"View source code":null,"pull-request"===R.type?(0,t.jsxs)("span",{children:[String(R.id).length<=5?"View":null," #",R.id," on ",w.ORIGINS[R.provider]]}):null,"commit"===R.type||"branch"===R.type?`View source on ${w.ORIGINS[R.provider]}`:null,"cli"===R.type?null:(0,t.jsx)(q.ExternalSmall,{className:"ml-1"})]}),children:"pull-request"===R.type?"Pull Request":"Source"}),eI=(0,t.jsx)(eo,{"aria-label":"Remove recent",onClick:()=>void er(),prefix:(0,t.jsx)(_.Cross,{}),preview:"Remove from Recents",children:"Remove"}),eC=es?"div":A.Button;return(0,t.jsxs)("li",{className:"flex flex-col",...u,children:[(0,t.jsxs)("div",{className:"group relative flex flex-col",children:[(0,t.jsxs)(eC,{className:(0,et.cn)("p-4",es?"flex flex-row gap-4 [&_a]:z-10":"*:flex *:flex-row *:gap-4 *:p-0"),variant:"unstyled",onMouseOver:()=>{ey(!0)},...es?void 0:{passthroughOnClick:e=>{e.target instanceof HTMLElement&&e.target.closest("a")||(ey(!0),(0,ee.awaitPaint)().then(()=>{W(e=>!e),$||Z.setIsExpanded(!0)}))}},children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2 text-gray-1000",children:[(0,t.jsx)(ex,{entity:l,teamSlug:d}),ek]}),(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center gap-1",children:[es?(0,t.jsx)(D.Badge,{className:"text-gray-900 hover:text-gray-1000 hover:bg-gray-100",variant:"pill",size:"sm",icon:(0,t.jsx)(X.PreviewEye,{}),children:"Preview"}):(0,t.jsxs)(D.Badge,{className:"text-gray-900 *:gap-0 hover:text-gray-1000 hover:bg-gray-100",variant:"pill",size:"sm",icon:$?(0,t.jsx)(B.ChevronDown,{}):(0,t.jsx)(V.ChevronRight,{}),children:[l.payload.totalItems>9?"9+":l.payload.totalItems," ","Project",l.payload.totalItems>1?"s":""]}),(0,t.jsx)(L.Link,{className:"z-10 flex","aria-label":`View ${"pull-request"===R.type?"Pull Request":"Source"}`,"data-tracking-link-location":"entity","data-tracking-link-type":R.type,href:R.url,children:(0,t.jsx)(D.Badge,{className:"h-5 text-gray-900 hover:text-gray-1000 hover:bg-gray-100",variant:"pill",size:"sm",icon:(0,t.jsx)(O,{}),children:"pull-request"===R.type?`#${R.id}`:"Source"})}),ep?(0,t.jsx)(L.Link,{className:"flex","aria-label":`View ${es.prMetadata?"Latest Deployment":"Deployment"}`,href:ef,prefetchStrategy:"hover",children:(0,t.jsx)(H.Tooltip,{"aria-hidden":!0,forceHide:!em.has(ep.readyState),text:(0,t.jsx)(eh,{deployment:ep}),children:(0,t.jsx)(D.Badge,{className:(0,et.cn)({"font-mono":"READY"===ep.readyState,"text-gray-900 hover:text-gray-1000":"pill"===eu(ep.readyState)}),variant:eu(ep.readyState),size:"sm",icon:em.has(ep.readyState)?(0,t.jsx)(U.Spinner,{color:"var(--ds-amber-900)",size:12}):(0,t.jsx)(j.DeploymentStatus,{className:"flex h-5 flex-row items-center mx-0.5 *:size-2",deployment:ep}),children:"READY"===ep.readyState?(0,b.default)(ep).hash:(0,y.default)(ep.readyState.toLowerCase())})})}):null]})]}),(0,t.jsx)("div",{className:"w-6 shrink-0"})]}),(0,t.jsxs)(T.MenuContainer,{children:[(0,t.jsx)(F.MenuButton,{"aria-label":"Preview Menu",className:"absolute right-4 top-1/2 z-10 -translate-y-1/2",shape:"square",size:"tiny",type:"tertiary",svgOnly:!0,children:(0,t.jsx)(Q.MoreHorizontal,{})}),es?(0,t.jsx)(ed,{item:es,teamSlug:d,gitMenuItem:eP,removeMenuItem:eI}):(0,t.jsxs)(en,{width:200,previewContainerClassName:"text-gray-900",defaultPreview:(0,t.jsxs)(t.Fragment,{children:["Updated ",eg(Date.parse(l.createdAt))]}),children:[(0,t.jsx)(eo,{prefix:$?(0,t.jsx)(K.Minus,{}):(0,t.jsx)(Y.Plus,{}),onClick:()=>{W(e=>!e)},preview:$?"Hide projects":`Show ${l.payload.totalItems} projects`,children:$?"Hide projects":"Show projects"}),eP,(0,t.jsx)(z.MenuDivider,{}),eI]})]}),es?(0,t.jsx)(L.Link,{className:"absolute inset-0 block",href:N,tab:!0,"data-tracking-link-location":"title","data-tracking-link-type":"preview",...ej}):null]}),$&&eb.error&&!eb.data?(0,t.jsx)(E.Note,{type:"error",className:"m-4 mt-0",size:"small",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2",children:["Failed to load recetns.",(0,t.jsx)(A.Button,{"aria-label":"Try again",className:"!text-inherit",onClick:()=>{eb.mutate()},size:"small",svgOnly:!0,type:"tertiary",children:eb.isLoading?(0,t.jsx)(U.Spinner,{}):(0,t.jsx)(J.RefreshClockwise,{color:"currentColor"})})]})}):null,$&&!eb.error?(0,t.jsx)("ul",{className:"m-0 flex flex-col p-4 pt-0",children:eb.isLoading&&!eb.data?l.payload.payloadItems.map(e=>(0,t.jsx)(el,{},e.deploymentId)):eb.data?.map(e=>(0,t.jsx)(ec,{item:e,teamSlug:d},e.deployment.id))}):null]})}function el(){return(0,t.jsxs)("li",{className:"flex h-8 min-w-0 flex-row items-center gap-1.5 rounded-sm p-2 pr-1 hover:bg-gray-100 [:where(&:nth-child(odd))]:bg-background-200",children:[(0,t.jsx)($.Skeleton,{rounded:!0,width:16,height:16}),(0,t.jsx)("div",{className:"flex min-w-0 flex-1 flex-row",children:(0,t.jsx)($.Skeleton,{height:16,width:80})}),(0,t.jsx)($.Skeleton,{height:20,pill:!0,width:70}),(0,t.jsx)($.Skeleton,{height:20,pill:!0,width:80}),(0,t.jsx)($.Skeleton,{height:24,width:24})]})}function en(e){let{children:r,defaultPreview:a,className:i,previewContainerClassName:s,...l}=e;return(0,t.jsxs)(R.Menu,{...l,className:(0,et.cn)(i,"relative group/menu"),children:[(0,t.jsx)(z.MenuDivider,{className:"mt-11",children:(0,t.jsx)("div",{className:(0,et.cn)("absolute left-2 top-2 flex h-9 flex-row items-center p-2 group-has-[[data-selected]]/menu:hidden",s),children:a})}),r]})}function eo(e){let{preview:r,innerMenuItemClassName:a,previewContainerClassName:i="text-gray-900",children:s,...l}=e;return(0,t.jsxs)(O.MenuItem,{...l,innerMenuItemClassName:(0,et.cn)("group/item",a),children:[s,(0,t.jsx)("div",{className:(0,et.cn)("absolute left-2 top-2 hidden h-9 flex-row items-center p-2 group-[&[data-selected]]/item:flex",i),children:r})]})}function ec(e){let{item:r,teamSlug:a}=e,{deployment:i,project:s,prMetadata:l}=r,{url:n}=g(i),o=(0,p.useDeploymentLink)(i,s.name),c=(0,N.useProjectUrl)(s)??"",{hash:d}=(0,b.default)(i),u=(0,S.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:i.previewCommentsEnabled?i:void 0});return(0,t.jsxs)("li",{className:"flex h-8 min-w-0 flex-row items-center gap-1 rounded-sm p-2 pr-1 hover:bg-gray-100 [:where(&:nth-child(odd))]:bg-background-200",children:[(0,t.jsx)(ep,{deploymentId:i.id,projectId:s.id,size:16,teamSlug:a}),(0,t.jsx)("div",{className:"flex min-w-0 flex-1 flex-row",children:(0,t.jsx)(L.Link,{className:"label-12 h-5 truncate leading-5 hover:underline",href:c,prefetch:!1,children:s.name})}),(0,t.jsx)(L.Link,{"aria-label":"View preview deployment","data-tracking-link-location":"entity","data-tracking-link-type":"preview",href:n,...u,children:(0,t.jsx)(D.Badge,{className:"text-gray-900 hover:text-gray-1000",variant:"pill",size:"sm",icon:(0,t.jsx)(X.PreviewEye,{}),children:"Preview"})}),(0,t.jsx)(L.Link,{"aria-label":`View ${l?"Latest Deployment":"Deployment"}`,href:o,prefetchStrategy:"hover",className:"flex",children:(0,t.jsx)(H.Tooltip,{"aria-hidden":!0,forceHide:!em.has(i.readyState),text:(0,t.jsx)(eh,{deployment:i}),children:(0,t.jsx)(D.Badge,{className:(0,et.cn)("h-5 pl-1.5 *:gap-1",{"font-mono text-gray-900 hover:text-gray-1000":"READY"===i.readyState}),variant:eu(i.readyState),size:"sm",icon:em.has(i.readyState)?(0,t.jsx)(U.Spinner,{color:"var(--ds-amber-900)",size:12}):(0,t.jsx)(j.DeploymentStatus,{className:"flex h-5 flex-row items-center *:size-2 ml-0",deployment:i}),children:"READY"===i.readyState?d:(0,y.default)(i.readyState.toLowerCase())})})}),(0,t.jsxs)(T.MenuContainer,{children:[(0,t.jsx)(F.MenuButton,{"aria-label":"Preview Menu",shape:"square",size:"tiny",type:"tertiary",svgOnly:!0,children:(0,t.jsx)(Q.MoreHorizontal,{size:12})}),(0,t.jsx)(ed,{item:r,teamSlug:a})]})]})}function ed(e){let{item:r,teamSlug:a,gitMenuItem:i,removeMenuItem:s}=e,{deployment:l,project:n,prMetadata:o,createdAt:c,type:d}=r,{url:u}=g(l),m=(0,p.useDeploymentLink)(l,n.name),h=(0,N.useProjectUrl)(n)??"",{hash:f}=(0,b.default)(l),v=!!o,y=function(e,t){if(!t?.commitRef)return null;let r=new URL(`${e}/deployments`,"https://vercel.com");return r.searchParams.set("filterBranch",t.commitRef),`${r.pathname}${r.search}`}(h,(0,x.getGitInfoFromDeployment)(l)),w=(0,S.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:l.previewCommentsEnabled?l:void 0});return(0,t.jsxs)(en,{width:200,previewContainerClassName:"text-gray-900",defaultPreview:(0,t.jsxs)(t.Fragment,{children:["deployment-created"===(d??"preview")?"Authored":"Preview visited"," ",eg(Date.parse(c))]}),children:[(0,t.jsx)(eo,{"aria-label":"View latest preview deployment",href:u,isLink:!0,prefix:(0,t.jsx)(X.PreviewEye,{}),...w,preview:(0,t.jsxs)(t.Fragment,{children:["View latest Preview",(0,t.jsx)(q.ExternalSmall,{className:"ml-1"})]}),children:"Preview"}),i,(0,t.jsx)(eo,{"aria-label":`View ${v?"Latest Deployment":"Deployment"}`,href:m,isLink:!0,prefetchStrategy:"hover",preview:(0,t.jsxs)("div",{className:"flex flex-row gap-1",children:["Inspect",(0,t.jsx)(j.DeploymentStatus,{className:"ml-1",deployment:l}),(0,t.jsx)("span",{className:"text-gray-1000",children:f})]}),prefix:(0,t.jsx)(j.DeploymentStatus,{className:"size-4 justify-center",deployment:l}),children:v?"Latest Deployment":"Deployment"}),y?(0,t.jsx)(eo,{"aria-label":"View branch deployments",href:y,prefetchStrategy:"hover",isLink:!0,prefix:(0,t.jsx)(W.GitBranch,{}),preview:"View branch deployments",children:"Branch Deployments"}):null,(0,t.jsx)(eo,{"aria-label":"View project",href:h,isLink:!0,prefetchStrategy:"hover",prefix:(0,t.jsx)(ep,{projectId:n.id,size:16,deploymentId:l.id,teamSlug:a}),preview:`View ${n.name}`,children:"Project"}),s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.MenuDivider,{}),s]}):null]})}function eu(e){switch(e){case"BUILDING":case"DELETED":case"INITIALIZING":case"UPLOADING":case"DEPLOYING":return"amber-subtle";case"ERROR":return"red-subtle";default:return"pill"}}let em=new Set(["INITIALIZING","BUILDING","UPLOADING","DEPLOYING"]);function eh(e){let{deployment:r}=e,a=(0,M.useAge)(r.buildingAt||void 0,{includeSeconds:!0});return(0,t.jsxs)("div",{children:["Duration: ",a]})}function ex(e){let{entity:r,teamSlug:a}=e,i=r.payload.totalItems>3,s=r.payload.payloadItems.slice(0,i?2:3).map(e=>{let{projectId:r,deploymentId:i}=e;return(0,t.jsx)(ep,{deploymentId:i,projectId:r,teamSlug:a},i)});return(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center *:-ml-1 [&>:nth-child(1)]:ml-0",children:[(0,t.jsx)(v.CreatorAvatar,{deployment:r.payload.items[0].deployment,size:20}),s,i?(0,t.jsx)(Z.PlusCircle,{className:"relative rounded-full border border-solid border-background-100 bg-background-100",color:"gray-600",size:20}):null]})}function ep(e){let{teamSlug:a,projectId:i,deploymentId:s,size:l=20}=e;return(0,t.jsx)(d.AvatarWithError,{className:"cursor-pointer bg-background-100 flex items-center",priority:!0,size:l,style:{flexBasis:l},tooltipProps:{className:"relative z-[2]",text:"There was an issue rendering your favicon"},url:function(e){let{deploymentId:t,projectId:a,teamSlug:i}=e;return`/api/v0/deployments/${t}/favicon${(0,r.encode)({teamId:i,project:a})}`}({teamSlug:a,projectId:i,deploymentId:s})})}function eg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ago";return(0,C.ago)(Date.now()-e,{justNowLabel:"Now",justNowThreshold:(0,er.default)("10s"),suffix:t})}var ef=e.i(8161149);function ej(e){let{teamSlug:s}=e,{track:d}=(0,o.useTrackActivity)(),u=(0,n.useRef)(!1),{data:m=[]}=(0,i.useIsomorphicSuspenseSWR)((0,a.swrRequest)(`/api/recents${(0,r.encode)({type:"preview",teamId:s,limit:7})}`),async(e,t)=>(await t(e)).filter(e=>e.payload.items.length>0),{revalidateIfStale:!1,revalidateOnFocus:!0});return((0,n.useEffect)(()=>{u.current||(u.current=!0,d(c.VercelActivityAction.RecentsImpression,{length:m.length}))},[m.length,d]),m.length)?(0,t.jsxs)(l,{hasMore:m.length>2,children:[m.map(e=>(0,t.jsx)(es,{entity:e,teamSlug:s},e.eventId)),1===m.length?(0,t.jsx)("li",{className:"text-label-12 flex h-20 flex-row items-center justify-center text-balance p-4 text-center text-gray-700 @smd-page:hidden",children:"Preview deployments that you have recently visited or created will appear here."}):null]}):(0,t.jsx)(l,{hasMore:!1,children:(0,t.jsx)(ef.EmptyState.Root,{className:"flex flex-1 flex-row items-center border-0 p-6 *:flex-1 *:gap-4 max-smd:mt-px [&_p]:max-w-none",icon:(0,t.jsx)(ef.EmptyState.Icon,{icon:(0,t.jsx)(X.PreviewEye,{}),size:32}),description:"Preview deployments that you have recently visited or created will appear here."})})}e.s(["RecentsList",()=>ej],7654643)},4915059,e=>{"use strict";var t=e.i(6468255),r=e.i(4905664),a=e.i(1107069),i=e.i(2504781),s=e.i(8161149),l=e.i(6159310),n=e.i(6696646),o=e.i(6143247),c=e.i(1136434),d=e.i(9584456),u=e.i(2259296),m=e.i(9386557);e.i(6483798);var h=e.i(8287059),x=e.i(2686817),p=e.i(215852),g=e.i(9388656),f=e.i(5072965),j=e.i(7837522),v=e.i(7780974),y=e.i(4331397),w=e.i(2689376),b=e.i(9129382);let N=(0,e.i(9749389).createUnitFormatter)({style:"short"}),S=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),k=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:2,minimumFractionDigits:2});function P(e){let{project:r}=e;return(0,t.jsx)("li",{className:"flex flex-row rounded-sm [@media(hover:hover){&:hover}]:!bg-gray-100 [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",children:(0,t.jsxs)(l.DashboardLink,{className:"items-center flex h-8 min-w-0 flex-1 flex-row gap-1.5 p-2",route:"/[teamSlug]/~/usage",search:{projectId:r.id},prefetch:!1,...(0,f.createTrackingAttributes)({section:"usage-widget",element:"row",type:"project"}),children:[(0,t.jsx)(w.Gauge,{value:100*r.percent,size:"tiny",colors:{primary:"var(--ds-blue-700)",secondary:"var(--ds-gray-alpha-400)"},className:"shrink-0 *:size-4"}),(0,t.jsx)("span",{className:"text-label-14 min-w-0 flex-1 truncate leading-4",children:r.name}),(0,t.jsxs)("span",{className:"text-label-12 shrink-0 font-medium tabular-nums text-gray-900",children:[S.format(r.value)," MIUs"]})]})})}function I(e){let{item:r}=e,a=r.chartKey?l.DashboardLink:"div",i=r.chartKey?{route:"/[teamSlug]/~/usage/[chartKey]",params:{chartKey:r.chartKey},prefetch:!1,...(0,f.createTrackingAttributes)({section:"usage-widget",element:"row",type:"sku"})}:void 0;return(0,t.jsx)("li",{className:"flex flex-row rounded-sm [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 overflow-hidden [@media(hover:hover){&:hover}]:!bg-gray-100 group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",children:(0,t.jsxs)(a,{className:"items-center flex h-8 min-w-0 flex-1 flex-row gap-1.5 p-2",...i,children:[(0,t.jsx)("span",{className:"text-label-14 min-w-0 flex-1 truncate leading-4",children:r.title}),(0,t.jsx)("span",{className:"text-label-14 text-xs shrink-0 font-medium tabular-nums leading-4 text-gray-900",children:r.total})]})})}function C(e){let{item:r,hideGauge:a,isHobby:i,isUpgradeHovered:s,isLink:n,className:c}=e,{unit:d}=r,u="string"==typeof d?e=>b.formatters[d](e,"display"):e=>N(e,d??null),m=void 0!==r.percentage?(0,t.jsx)(w.Gauge,{value:r.percentage,size:"tiny",colors:i?{0:"var(--ds-blue-700)",75:"var(--ds-amber-700)",100:"var(--ds-red-700)"}:{primary:"var(--ds-blue-700)",secondary:"var(--ds-gray-alpha-400)"},className:"shrink-0 *:size-4"}):(0,t.jsx)("div",{className:"size-4 shrink-0"}),h=i&&void 0!==r.nextPlanLimit&&r.nextPlanLimit!==r.limit,x=n?l.DashboardLink:"div",p=n?{route:r.chartKey?"/[teamSlug]/~/usage/[chartKey]":"/[teamSlug]/~/usage",params:{chartKey:r.chartKey},prefetch:!1,...(0,f.createTrackingAttributes)({section:"usage-widget",element:"row",type:"sku"})}:void 0;return(0,t.jsx)("li",{className:(0,o.cn)("flex flex-row rounded-sm [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 overflow-hidden group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",n&&"[@media(hover:hover){&:hover}]:!bg-gray-100",c),children:(0,t.jsxs)(x,{className:"items-center flex h-8 min-w-0 flex-1 flex-row gap-1.5 p-2",...p,children:[a?null:m,(0,t.jsx)("span",{className:"text-label-14 min-w-0 flex-1 truncate leading-4",children:r.title}),(0,t.jsx)("span",{className:(0,o.cn)("text-label-14 text-xs shrink-0 font-medium tabular-nums leading-4 text-gray-900",{"-mr-1.5":h&&r.nextPlanLimit}),children:r.price?k.format(r.price):(0,t.jsxs)(t.Fragment,{children:[0===r.value&&r.limit?0:u(r.value),r.limit?" / ":null,r.limit?(0,t.jsxs)("span",{className:(0,o.cn)({"relative transition-colors duration-300":h,"text-gray-600 duration-500":h&&s}),children:[u(r.limit),h?(0,t.jsx)("span",{className:(0,o.cn)("absolute inset-x-0 top-[calc(50%-1px)] block h-[2px] bg-gray-500 transition-transform duration-300 origin-left scale-x-0",{"scale-x-100 duration-300":s})}):null]}):null]})}),h&&r.nextPlanLimit?(0,t.jsx)("span",{className:(0,o.cn)("relative max-w-0 text-xs font-medium tabular-nums leading-4 text-blue-900 opacity-0 duration-300 shrink-0 transition-width whitespace-nowrap",{"opacity-100 duration-1000 max-w-40":s}),children:(0,t.jsx)("span",{className:"pl-1.5",children:u(r.nextPlanLimit)})}):null]})})}var M=e.i(4726513),L=e.i(4723202),D=e.i(1717203),A=e.i(7557283),R=e.i(9059293),F=e.i(7917902),T=e.i(675543);let z=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function O(e){var r;let{teamSlug:d,isVercelPlusEnabled:m=!1}=e,h=(0,p.useIsomorphicSuspenseSWR)((0,x.swrRequest)(`/api/usage-summary?teamId=${d}`),{revalidateOnFocus:!1,refreshInterval:6e5,ssr:{timeout:2e3}}),g=(0,l.useLink)(),{team:f}=(0,F.useAccount)(),j=f?.billing?.plan==="pro"&&"plus"===f.billing.planIteration,v=f?.billing?.status==="trialing"&&j,{can:y,isLoading:w}=(0,D.default)(),[b,N]=(0,n.useState)(!1),[S,k]=(0,n.useState)(!1),{data:R,...z}=h.data,O=R?.type==="byCredit"?1:3,U=R?"byCredit"===(r=R).type?r.skus?r.skus.length:+!!r.usage[0]?.creditsApplied:r.usage?.length??0:0,H=U>O,B=R?.type==="bySKU"&&R.usage.some(e=>e.percentage&&e.percentage>100),V=R?.type==="bySKU"?R.usage[0]:void 0,{showUpgradeAction:G}=(0,T.useProTrialShowUpgradeAction)();return y(A.Action.Read,A.Resource.Usage)||w?(0,t.jsxs)("div",{className:"relative flex flex-col @smd-page:gap-3","data-section":"usage","data-has-more":!!H||void 0,children:[(0,t.jsx)(a.ProjectsHeading,{title:"Usage",className:"max-smd:px-4 max-smd:pt-4",href:g("/[teamSlug]/~/usage")}),(0,t.jsxs)("div",{"data-section-content":!0,className:(0,o.cn)("relative @smd-page:material-small gap-4 py-4 flex flex-col transition-[max-height] duration-200 ease-in-out overflow-hidden min-h-[180px]",b?"@smd-page:max-h-[999px]":"@smd-page:max-h-[180px]",R?.type==="byCredit"&&"gap-2"),children:[U>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2 h-6 px-4",children:[(0,t.jsx)(E,{...z,hasExceededLimits:B,isTrialing:v}),(0,t.jsx)($,{data:R,showUpgrade:"hobby"===z.plan||G,teamId:z.teamId,setIsUpgradeHovered:k,trackingData:{hasExceededLimit:B,isPaused:z.isBlocked,topSku:V?.id,topSkuName:V?.title,topSkuPercent:V?.percentage}})]}),R?.type==="byCredit"?(0,t.jsxs)("div",{className:"px-2 space-y-2",children:[(0,t.jsx)(M.CreditUsage,{currency:R.currency??R.usage[0].currency,creditsApplied:R.usage[0].creditsApplied,creditsAllocated:R.usage[0].creditsAllocated,balance:Number(R.usage[0].currentBalance),isTrialing:v}),(0,t.jsx)("ul",{className:"group flex flex-col p-0",children:R.skus?.map(e=>(0,t.jsx)(I,{item:e},e.id))})]}):(0,t.jsx)("ul",{className:"group m-0 flex flex-col px-2",children:R?.usage?.map(e=>"byProject"===R.type?(0,t.jsx)(P,{project:e},e.id):"bySKU"===R.type?(0,t.jsx)(C,{isLink:!0,item:e,hideGauge:"enterprise"===z.plan||j,isHobby:"hobby"===z.plan,isUpgradeHovered:S&&!m},e.id):null)})]}):(0,t.jsx)("div",{children:(0,t.jsx)(s.EmptyState.Root,{paddingX:0,paddingY:0,className:"flex h-36 items-center justify-center border-0 *:gap-4",icon:(0,t.jsx)(s.EmptyState.Icon,{icon:(0,t.jsx)(u.ChartBarMiddle,{}),size:32}),description:"No usage this cycle"})}),b||!H?null:(0,t.jsx)("div",{className:"absolute inset-x-0 -bottom-px h-4 w-full bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0%] to-[hsla(var(--ds-background-200-value),1)_100%] max-smd:hidden z-[2] pointer-events-none"})]}),H?(0,t.jsx)(i.Button,{className:"z-[2] absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 max-smd:hidden",svgOnly:!0,"aria-label":"Show More Usage",type:"secondary",shape:"circle",size:"tiny",onClick:()=>N(e=>!e),children:(0,t.jsx)(c.ChevronDownSmall,{className:(0,o.cn)("transition-transform duration-200 ease-in-out",{"-rotate-180":b})})}):null]}):(0,t.jsxs)("div",{className:"relative flex flex-col @smd-page:gap-3","data-section":"usage","data-has-more":!!H||void 0,children:[(0,t.jsx)(a.ProjectsHeading,{title:"Usage",className:"max-smd:px-4 max-smd:pt-4",href:g("/[teamSlug]/~/usage")}),(0,t.jsx)("div",{"data-section-content":!0,className:(0,o.cn)("relative @smd-page:material-small p-4 gap-4 flex flex-col justify-center transition-[max-height] duration-200 ease-in-out overflow-hidden min-h-[180px]",b?"@smd-page:max-h-[408px]":"@smd-page:max-h-[180px]"),children:(0,t.jsx)(s.EmptyState.Root,{paddingX:0,paddingY:0,className:"flex h-24 items-center justify-center border-0 *:gap-4",icon:(0,t.jsx)(s.EmptyState.Icon,{icon:(0,t.jsx)(u.ChartBarMiddle,{}),size:32}),description:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:["You don't have the required permission to view team usage.",(0,t.jsx)(L.RequestRoleButton,{teamRole:"MEMBER"})]})})})]})}function E(e){let{cycle:a,plan:i,planIteration:s,isTrialing:n,isBlocked:c,hasExceededLimits:u}=e,h="pro"===i&&"plus"===s,x=Math.max((0,r.differenceInDays)(a.end,Date.now()),1),p=`${x} day${x>1?"s":""} remaining in cycle`,j=null;if("hobby"===i&&(c?(p=(0,t.jsxs)("span",{className:"flex flex-row items-center gap-1 text-red-900",children:["Paused",(0,t.jsx)(d.StopFill,{})]}),j="Upgrade to resume service"):p=u?(0,t.jsxs)("span",{className:"flex flex-row items-center gap-1",children:["Exceeded free resources",(0,t.jsx)(m.WarningFill,{color:"amber-700"})]}):"Last 30 days"),h&&n){let e=(0,R.days)(a.end-Date.now());p=`${e} day${e>1?"s":""} remaining of Pro trial`}return(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,t.jsx)(l.DashboardLink,{className:(0,o.cn)(g.linkClassName,"text-label-14 m-0 font-medium leading-6"),route:"/[teamSlug]/~/usage",prefetchStrategy:"hover",...(0,f.createTrackingAttributes)({section:"usage-widget",element:"header"}),children:p}),j?(0,t.jsx)("span",{className:(0,o.cn)("text-label-12 font-medium text-gray-900",h?"hidden smd:block font-normal text-sm leading-4":""),children:j}):null]})}function $(e){let{data:r,showUpgrade:a,teamId:s,setIsUpgradeHovered:l,trackingData:n}=e,{track:o}=(0,j.useTrackActivity)(),c=(0,h.useOpenUpgradeModal)(),d=(0,y.usePreloadUpgradeModal)();return a?(0,t.jsx)(i.Button,{className:"!h-6 !px-2 *:text-label-12 *:px-0 *:font-medium",size:"small",onMouseOver:d,onClick:()=>{c({teamHint:s,source:"team-overview-usage-widget",onConversionSuccess:()=>{o(v.VercelActivityAction.UsageWidgetUpgradeCompleted,n)}}),o(v.VercelActivityAction.UsageWidgetUpgradeClicked,n)},onBlur:()=>l(!1),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onFocus:()=>l(!0),children:"Upgrade"}):r?"byCredit"===r.type?(0,t.jsx)(U,{data:r}):"byProject"===r.type?(0,t.jsx)(H,{data:r}):null:null}function U(e){let{data:r}=e;return"byCredit"!==r.type?null:(0,t.jsx)("div",{className:"flex flex-row gap-2 items-center",children:(0,t.jsx)(l.DashboardButtonLink,{className:"!h-6 text-label-12 m-0 font-medium",type:"secondary",route:"/[teamSlug]/~/settings/billing",prefetchStrategy:"hover",size:"small",...(0,f.createTrackingAttributes)({section:"usage-widget",element:"header"}),children:"Billing"})})}function H(e){let{data:r}=e,a=r.includedAllocation||r.onDemandCharges,i=(r.includedAllocation?.used??0)+(r.onDemandCharges??0),s=r.includedAllocation?.total?i/r.includedAllocation.total:void 0;return a?(0,t.jsxs)("span",{className:"text-label-12 shrink-0 font-medium text-gray-900",children:[z.format(i)," MIUs",s?` (${Math.round(100*s)}%)`:""]}):null}e.s(["UsageWidget",()=>O],4915059)},5987740,e=>{"use strict";var t=e.i(6468255),r=e.i(198667),a=e.i(1107069),i=e.i(8851095),s=e.i(6159310);function l(){let{retry:e}=(0,i.useError)(),l=(0,s.useLink)();return(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(a.ProjectsHeading,{title:"Usage",href:l("/[teamSlug]/~/usage")}),(0,t.jsx)("button",{className:"material-small grid h-[180px] cursor-pointer place-content-center bg-background-200 p-2 text-gray-900 hover:text-gray-1000 focus-visible:text-gray-1000",onClick:e,type:"button",children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,t.jsx)("span",{className:"text-copy-14",children:"Failed to load usage"}),(0,t.jsx)(r.RefreshClockwise,{})]})})]})}e.s(["UsageError",()=>l])},1875605,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),a=e.i(6143247),i=e.i(1107069),s=e.i(2504781),l=e.i(1136434),n=e.i(6159310);function o(e){let{children:o,large:c,headerAttachment:d,activeBorder:u}=e,[m,h]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1),g=(0,r.useRef)(null),f=(0,r.useRef)(null),j=(0,r.useMemo)(()=>c?162:112,[c]),v=(0,n.useLink)();return(0,r.useEffect)(()=>{let e=g.current,t=f.current;if(!e||!t)return;let r=()=>{p(t.scrollHeight>j)};r();let a=new ResizeObserver(r);return a.observe(t),()=>a.disconnect()},[o,j]),(0,t.jsxs)("div",{className:"relative flex flex-col smd:gap-3","data-section":"alerts","data-has-more":!!x||void 0,"data-alerts-active":!!u||void 0,children:[(0,t.jsx)(i.ProjectsHeading,{title:"Alerts",className:"max-smd:px-4 max-smd:pt-4",attachment:d,href:v("/[teamSlug]/~/observability/alerts")}),(0,t.jsxs)("div",{"data-section-content":!0,className:(0,a.cn)("relative @smd-page:material-small gap-4 flex flex-col transition-[max-height] duration-200 ease-in-out overflow-hidden border-0 p-0",m?"@smd-page:max-h-[300px]":"@smd-page:max-h-[120px]"),style:{minHeight:c?164:114},children:[(0,t.jsx)("div",{ref:g,className:(0,a.cn)("absolute inset-0 @smd-page:bg-gray-300 rounded-[6px]",{"@smd-page:[background-image:linear-gradient(15deg,rgba(255,0,0,0)_52%,var(--ds-red-500)_100%)]":u})}),(0,t.jsxs)("div",{ref:f,className:(0,a.cn)("bg-background-100 rounded-[5px] z-[1] m-px h-full relative overflow-hidden",m?"smd:max-h-[298px]":"smd:max-h-[118px]"),style:{minHeight:j},children:[o,m||!x?null:(0,t.jsx)("div",{className:"absolute inset-x-0 -bottom-px h-4 w-full bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0%] to-[hsla(var(--ds-background-200-value),1)_100%] max-smd:hidden z-[2] pointer-events-none"})]})]}),x?(0,t.jsx)(s.Button,{className:"z-[2] absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 max-smd:hidden",svgOnly:!0,"aria-label":"Show More Usage",type:"secondary",shape:"circle",size:"tiny",onClick:()=>h(e=>!e),children:(0,t.jsx)(l.ChevronDownSmall,{className:(0,a.cn)("transition-transform duration-200 ease-in-out",{"-rotate-180":m})})}):null]})}var c=e.i(6728635),d=e.i(2630141),u=e.i(7837522),m=e.i(7780974),h=e.i(5338940);function x(){let{team:e}=(0,h.useTeam)(),a=e?.billing?.plan==="hobby",i=(0,d.useOpenEnableModal)(),{track:l,isReady:n}=(0,u.useTrackActivity)(),o=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{!o.current&&n&&(o.current=!0,l(m.VercelActivityAction.AlertsWidgetImpression,{}))},[l,n]),(0,t.jsxs)("div",{className:"flex items-center justify-center flex-col gap-5 w-full h-full",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1.5 align-center text-center",children:[(0,t.jsx)("span",{className:"text-label-14 font-medium",children:"Get alerted for anomalies"}),(0,t.jsx)("span",{className:"text-label-14 text-gray-900 text-balance",children:"Automatically monitor your projects for anomalies and get notified."})]}),(0,t.jsx)(s.Button,{size:"small",type:a?"secondary":"default",onClick:()=>{i({via:"team-overview-alerts",upgradeUseCase:"anomaly-alerts"})},children:"Upgrade to Observability Plus"}),(0,t.jsx)(c.EnableModal,{})]})}var p=e.i(215852),g=e.i(2686817),f=e.i(9979783),j=e.i(4244280),v=e.i(7432042);let y=(0,v.default)("48h");function w(e){return null!=e}var b=e.i(3306538),N=e.i(2627304),S=e.i(5761705),k=e.i(5072965),P=e.i(8042625),I=e.i(9997017),C=e.i(9386557),M=e.i(593207);function L(e){let{alerts:a,teamSlug:i}=e,{track:s,isReady:l}=(0,u.useTrackActivity)(),o=(0,r.useRef)(new Set);return((0,r.useEffect)(()=>{if(l&&a.length)for(let e of a)"active"!==e.status||o.current.has(e.id)||(o.current.add(e.id),s(m.VercelActivityAction.AlertsWidgetActiveAlertImpression,{alertId:e.id,level:e.level,type:e.type,title:e.title}))},[s,l,a]),a.length)?(0,t.jsx)("ul",{className:"group flex flex-col p-2",children:a.map(e=>(0,t.jsx)("li",{className:"flex flex-row rounded-sm [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 overflow-hidden [@media(hover:hover){&:hover}]:!bg-gray-100 group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",children:(0,t.jsxs)(n.DashboardLink,{className:"flex h-8 flex-row min-w-0 flex-1 gap-1.5 p-2 items-center",route:"/[teamSlug]/~/observability/alerts/[alertId]",params:{alertId:e.id},prefetch:!1,...(0,k.createTrackingAttributes)({section:"alerts-widget",element:"row"}),onClick:()=>{s(m.VercelActivityAction.AlertsWidgetAlertClicked,{status:e.status,alertId:e.id,level:e.level,type:e.type,title:e.title})},children:[(0,t.jsx)(D,{projectId:e.projectId,teamSlug:i,deploymentId:e.deploymentId}),(0,t.jsx)(I.AlertTitle,{alert:e,className:"text-label-14 min-w-0 flex-1 truncate leading-4"}),"active"===e.status?(0,t.jsx)(C.WarningFill,{color:"red-700"}):(0,t.jsx)("span",{className:"text-label-12 shrink-0 font-medium tabular-nums text-gray-900",children:(0,M.ago)(Date.now()-(e.resolvedAt??e.startedAt),{justNowThreshold:(0,v.default)("1m")})})]})},e.id))}):(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 flex-row w-full h-full",children:[(0,t.jsx)(S.CheckCircle,{color:"gray-900"}),(0,t.jsx)("span",{className:"text-copy-14 text-gray-900",children:"No recent anomalies detected"})]})}function D(e){let{projectId:r,teamSlug:a,deploymentId:i,size:s=16}=e;return(0,t.jsx)(N.AvatarWithError,{className:"cursor-pointer",priority:!0,size:s,style:{flexBasis:s},tooltipProps:{className:"relative z-[2]",text:"There was an issue rendering your favicon"},url:function(e){let{deploymentId:t,projectId:r,teamSlug:a}=e;return`/api/v0/deployments/${t}/favicon${(0,P.encode)({teamId:a,project:r})}`}({deploymentId:i,projectId:r,teamSlug:a})})}function A(e){let{teamSlug:a}=e,{data:i,enabled:s}=function(e){let{teamSlug:t}=e,a=(0,r.useRef)({}),{data:i,...s}=(0,p.useIsomorphicSuspenseSWR)((0,g.swrRequest)(`alerts-widget-${t}`),async()=>{let[e,r]=await Promise.all([(0,f.typedFetchData)("/alerts/v2/alerts","get",{teamId:t}),(0,f.typedFetchData)(j.API_OBSERVABILITY_CONFIGURATION,"get",{teamId:t})]);if(!r?.observabilityPlus?.enabled)return{enabled:!1,alerts:[],projects:[]};let i=e.filter(e=>!("active"!==e.status&&e.resolvedAt&&Date.now()-e.resolvedAt>y||r?.observabilityPlus?.excludedProjects?.some(t=>t.id===e.projectId))),s=new Set(i.map(e=>e.projectId)),l=Object.fromEntries(await Promise.all(Array.from(s).map(async e=>{if(a.current[e])return[e,a.current[e]];try{console.log("fetching project",e);let r=await (0,f.typedFetchData)("/v1/dashboard/projects/{idOrName}","get",{idOrName:e,teamId:t}),a={id:r.id,name:r.name,productionDeployment:r.productionDeployment?{id:r.productionDeployment.id}:void 0};return[e,a]}catch(t){return console.error(e,t),[e,void 0]}})));return{enabled:!0,alerts:i.map(e=>{let t=l[e.projectId];if(t?.productionDeployment)return{...e,projectName:t.name,deploymentId:t.productionDeployment.id}}).filter(w).sort((e,t)=>Number("active"===t.status)-Number("active"===e.status)).slice(0,8),projects:Object.values(l).filter(w)}},{revalidateIfStale:!1});return(0,r.useEffect)(()=>{if(i?.projects)for(let e of i.projects)a.current[e.id]=e},[i?.projects]),{enabled:i?.enabled,data:i?.alerts,...s}}({teamSlug:a}),l=(0,r.useRef)(!1),n=i.filter(e=>"active"===e.status).length;return((0,r.useEffect)(()=>{if(!l.current&&(l.current=!0,n>0)){let e=document.querySelector("[data-sidebar-container] [value=alerts]");e&&(e.checked=!0)}},[n]),s)?(0,t.jsx)(o,{activeBorder:n>0,headerAttachment:n>0?(0,t.jsxs)(b.Badge,{variant:"red-subtle",size:"sm",children:[n," Active"]}):null,children:(0,t.jsx)(L,{alerts:i,teamSlug:a})}):(0,t.jsx)(o,{large:!0,children:(0,t.jsx)(x,{})})}e.s(["AlertsWrapper",()=>A],1875605)},1561802,e=>{"use strict";var t=e.i(6468255),r=e.i(1107069),a=e.i(6159310);function i(){let e=(0,a.useLink)();return(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(r.ProjectsHeading,{title:"Alerts",href:e("/[teamSlug]/~/observability/alerts")}),(0,t.jsx)("div",{className:"material-small grid h-[180px] cursor-pointer place-content-center bg-background-200 p-2 text-gray-900 hover:text-gray-1000 focus-visible:text-gray-1000",children:(0,t.jsx)("div",{className:"flex flex-row items-center gap-2",children:(0,t.jsx)("span",{className:"text-copy-14",children:"Failed to load alerts"})})})]})}e.s(["AlertsError",()=>i])},1982365,e=>{"use strict";var t=e.i(6468255),r=e.i(9351155),a=e.i(3954609),i=e.i(6591520),s=e.i(6696646);function l(e){let{children:r,filtered:a=!1}=e;return(0,t.jsx)(s.Suspense,{fallback:a?null:r,children:(0,t.jsx)(n,{children:r})})}function n(e){let{children:s}=e,[{repo:l,mfe:n}]=(0,r.useQueryStates)(a.teamOverviewSearchParams);return(0,i.useTeamOverviewDebouncedSearch)()||l||n?null:(0,t.jsx)(t.Fragment,{children:s})}e.s(["ProjectsSidebarControl",()=>l])}]);

//# sourceMappingURL=4eac481e8312445a.js.map
//# debugId=5e882fc4-2236-5557-a830-8bce87784035
