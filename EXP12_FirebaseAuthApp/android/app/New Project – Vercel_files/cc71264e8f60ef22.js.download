
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="61f576e0-1e33-5f6a-8c81-3dc549593e23")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1781243,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM10.5 11.5607L9.96967 11.0303L8 9.06066L6.03033 11.0303L5.5 11.5607L4.43934 10.5L4.96967 9.96967L6.93934 8L4.96967 6.03033L4.43934 5.5L5.5 4.43934L6.03033 4.96967L8 6.93934L9.96967 4.96967L10.5 4.43934L11.5607 5.5L11.0303 6.03033L9.06066 8L11.0303 9.96967L11.5607 10.5L10.5 11.5607Z" fill="currentColor"/>');e.s(["CrossCircleFill",0,t])},4884125,e=>{"use strict";e.s(["BUILD_MACHINES",0,{standard:{memory:8,cpu:4,label:"Standard performance",description:"Cost-effective option for lightweight apps and APIs"},enhanced:{memory:16,cpu:8,label:"Enhanced performance",description:"Increased compute, ideal for large applications"},turbo:{memory:60,cpu:30,label:"Turbo performance",description:"Optimized for Turbopack builds which take advantage of multiple cores"}}])},7429602,e=>{"use strict";var t=e.i(6468255),i=e.i(3306538),n=e.i(2504781),r=e.i(4557026),o=e.i(9722978);e.s(["default",0,function(e){let{feedback:s,muted:a,size:l,variant:c,className:d}=e;return(0,t.jsxs)("div",{className:(0,o.clsx)("flex items-center gap-[var(--geist-space)]",d),children:[(0,t.jsx)(i.Badge,{className:a?"text-[var(--geist-background)] bg-[var(--accents-3)] border-0 dark:text-[var(--geist-background)] dark:bg-[var(--accents-6)]":"",size:l,variant:a?"gray-subtle":c||"pink",children:"Beta"}),s?(0,t.jsx)(n.Button,{className:"sm:block max-[600px]:hidden",onClick:r.dispatchShowFeedbackEvent,size:"small",type:"tertiary",typeName:"button",children:"Provide feedback"}):null]})}])},3277920,e=>{"use strict";var t=e.i(6696646);e.s(["useMounted",0,()=>{let[e,i]=(0,t.useState)(!1);return(0,t.useEffect)(()=>i(!0),[]),e}])},7450862,e=>{"use strict";var t=e.i(6696646);function i(){return window.location.hash.slice(1)}let n="hashreset";function r(e){let t=window.navigation;return t?.addEventListener&&t.addEventListener("currententrychange",e),window.addEventListener("hashchange",e),window.addEventListener("popstate",e),window.addEventListener(n,e),()=>{t?.removeEventListener?.("currententrychange",e),window.removeEventListener("hashchange",e),window.removeEventListener("popstate",e),window.removeEventListener(n,e)}}function o(){return{hash:(0,t.useSyncExternalStore)(r,i,i),setHash:(0,t.useCallback)(e=>{if(e)window.location.hash=`#${e}`;else{let e=new URL(window.location.href);e.hash="",history.replaceState(void 0,document.title,e),window.dispatchEvent(new Event(n))}},[])}}e.s(["useHash",()=>o])},185801,e=>{"use strict";var t=e.i(6468255),i=e.i(2504781),n=e.i(7137884),r=e.i(5063443),o=e.i(8517043),s=e.i(1232681),a=e.i(9318197),l=e.i(9508212),c=e.i(3895030),d=e.i(9792418),u=e.i(5468328),m=e.i(6143247),p=e.i(7450862),h=e.i(6239252),g=e.i(4004502),f=e.i(9544652),x=e.i(3277920),y=e.i(7429602);function b(e){let{title:b,description:j,note:v,error:C,type:w,disabled:S=!1,disabledForBilling:P,disabledWall:k=!0,onSave:A=null,saveLoading:T=!1,saveDisabled:N=!1,saveDisabledMessage:D,highlightNote:L=!1,beta:E=!1,action:I=null,className:M,children:F,headerNote:_,disabledAction:R}=e,B=(0,x.useMounted)(),{hash:U}=(0,p.useHash)(),$=(0,f.useDisabled)(S),O=R?(0,t.jsx)(s.FieldsetFooter.Actions,{children:R}):null,z=b.toLowerCase().replaceAll(" ","-");return(0,t.jsx)("div",{className:(0,m.cn)(M,"scroll-mt-16 md:scroll-mt-28"),id:z,children:(0,t.jsxs)(o.Fieldset,{"data-testid":(0,g.tid)("project-settings",b),disabled:$&&void 0===P,type:$||P||"error"!==w?"default":"error",highlight:U===z&&B,children:[(0,t.jsxs)(n.FieldsetContent,{disabled:P,disabledWall:k,children:[(0,t.jsx)(d.FieldsetTitle,{children:(0,t.jsxs)(l.Stack,{direction:"row",gap:3,style:{flexWrap:"wrap"},align:"center",children:[(0,t.jsx)("a",{href:`#${z}`,style:{color:"inherit",textDecoration:"none"},children:(0,t.jsx)(h.SearchContextHighlighter,{children:b})}),E?(0,t.jsx)(y.default,{muted:P}):null,_]})}),(0,t.jsx)(c.FieldsetSubtitle,{children:j}),F]}),(0,t.jsxs)(s.FieldsetFooter,{disabled:!1,highlight:P||L,className:"text-gray-900",children:[(0,t.jsx)(s.FieldsetFooter.Status,{children:C?(0,t.jsx)(r.ErrorText,{children:C instanceof Error?C.message:C}):v||null}),(0,t.jsx)(a.Spacer,{x:.5}),!$&&(A||I)?(0,t.jsxs)(s.FieldsetFooter.Actions,{children:[A?(0,t.jsx)(u.Tooltip,{text:D,children:(0,t.jsx)(i.Button,{"data-testid":(0,g.tid)("project-settings","save"),disabled:$||N,loading:T,onClick:A,size:"small",children:"Save"})}):null,I]}):O]})]})})}e.s(["ProjectSettingsFieldset",()=>b])},8188735,e=>{"use strict";var t=e.i(277234),i=e.i(4244280);async function n(e,n,r){return(0,t.fetchAPI)(`${(0,i.API_PROJECTS_VERSION)("v5")}/${encodeURIComponent(e)}${n?`?teamId=${n}`:""}`,{method:"PATCH",body:JSON.stringify(r),throwOnHTTPError:!0})}async function r(e,n,r){return(0,t.fetchAPI)(`${(0,i.API_PROJECTS_VERSION)("v9")}/${encodeURIComponent(e)}${n?`?teamId=${n}`:""}`,{method:"PATCH",body:JSON.stringify(r),throwOnHTTPError:!0})}e.s(["default",()=>n,"updateProjectSettingsV9",()=>r])},8488254,e=>{"use strict";var t=e.i(6468255),i=e.i(6696646),n=e.i(9100551),r=e.i(455575),o=e.i(5771992),s=e.i(6060673),a=e.i(5129431);let l=(0,i.createContext)({open:()=>{}});function c(){return(0,i.useContext)(l)}function d(e){let{children:n}=e,r=(0,i.useRef)(()=>{}),o=(0,i.useCallback)(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];r.current(...t)},[]);return(0,t.jsxs)(l.Provider,{value:{open:o},children:[n,(0,t.jsx)(i.Suspense,{children:(0,t.jsx)(u,{openRef:r})})]})}function u(e){let{openRef:l}=e,c=(0,n.useParams)(),{data:d}=(0,s.useProject)(c?.project),u=(0,r.useToasts)(),{data:m}=(0,o.default)({limit:5,projectId:d?.id||"",target:"production"}),{modal:p,open:h}=(0,a.default)(d||void 0);return l.current=(0,i.useCallback)(e=>{if(!m)return;let i=m.deployments.map(e=>({id:e.uid,...e}));u.removeToastByKey("save-and-redeploy"),u.success({key:"save-and-redeploy",text:(0,t.jsx)("span",{className:"hyphens-auto",children:`${e??""}${e?" ":""}A new deployment is needed for changes to take effect.`}),action:"Redeploy",onAction:()=>{h(i,{redirect:!1,copy:"You are about to create a new Deployment with the latest configuration from your Project Settings."})}})},[m,h,u]),p}e.s(["SaveAndRedeployProvider",()=>d,"useSaveAndRedeployContext",()=>c])},7482607,e=>{"use strict";var t=e.i(8488254);function i(){let{open:e}=(0,t.useSaveAndRedeployContext)();return{open:e}}e.s(["useSaveAndRedeploy",()=>i])},5174113,e=>{"use strict";let t={on:{hobby:{duration:60,maxDuration:60,cpu:"standard_legacy"},pro:{duration:90,maxDuration:800,cpu:"standard"},enterprise:{duration:90,maxDuration:800,cpu:"standard"}},on_active_cpu:{hobby:{duration:300,maxDuration:300,cpu:"standard"},pro:{duration:300,maxDuration:800,cpu:"standard"},enterprise:{duration:300,maxDuration:800,cpu:"standard"}},off:{hobby:{duration:10,maxDuration:60,cpu:"standard_legacy"},pro:{duration:15,maxDuration:300,cpu:"standard"},enterprise:{duration:15,maxDuration:900,cpu:"standard"}}};e.s(["fluidConfig",0,t,"getDefaultConfig",0,(e,i,n)=>{let r=e??"hobby";return i?n?t.on_active_cpu[r]:t.on[r]:t.off[r]}])},3542742,e=>{"use strict";var t=e.i(6468255),i=e.i(6696646),n=e.i(6060673),r=e.i(1138941);let o=(0,i.createContext)(null);function s(e){let{children:s}=e,[a,l]=(0,i.useState)({}),c=(0,r.useProjectIdOrName)(),{data:d,isLoading:u,mutate:m}=(0,n.useProject)(c),p=(0,i.useMemo)(()=>({functionDefaultTimeout:a?.functionDefaultTimeout??d?.resourceConfig?.functionDefaultTimeout,functionDefaultMemoryType:a?.functionDefaultMemoryType??d?.resourceConfig?.functionDefaultMemoryType}),[a,d?.resourceConfig]);return(0,t.jsx)(o.Provider,{value:{resourceConfig:p,isProjectLoading:u,projectData:d,onRevalidateProject:m,onSetResourceConfigState:e=>{l(e)}},children:s})}function a(){let e=(0,i.useContext)(o);if(!e)throw Error("useFunctionResourceConfig must be used within a FunctionResourceConfigProvider");return e}e.s(["FunctionResourceConfigProvider",()=>s,"useFunctionResourceConfig",()=>a])},1556740,e=>{"use strict";var t=e.i(6468255),i=e.i(6696646),n=e.i(5255926),r=e.i(9508212),o=e.i(1344973),s=e.i(1848296),a=e.i(4138437),l=e.i(3306538),c=e.i(9318197),d=e.i(8522580),u=e.i(9722978),m=e.i(7917902),p=e.i(3322724),h=e.i(57106),g=e.i(1717203),f=e.i(7557283),x=e.i(7837522),y=e.i(7780974),b=e.i(7482607),j=e.i(4396019),v=e.i(58194),C=e.i(8188735),w=e.i(5174113),S=e.i(7168496),P=e.i(185801),k=e.i(4670733),A=e.i(3542742);let T={standard_legacy:{memory:1,cpu:.6,label:"Basic",description:"Cost-effective option for lightweight apps and APIs"},standard:{memory:1.7,cpu:1,label:"Standard",description:"Predictable performance for production workloads"},performance:{memory:3,cpu:1.7,label:"Performance",description:"Increased performance for latency-sensitive applications and SSR workloads"}},N={standard:{memory:2,cpu:1,label:"Standard",description:"Predictable performance for production workloads"},performance:{memory:4,cpu:2,label:"Performance",description:"Increased performance for latency-sensitive applications and SSR workloads"}};function D(){let{projectData:D,isProjectLoading:L,onRevalidateProject:E,resourceConfig:I,onSetResourceConfigState:M}=(0,A.useFunctionResourceConfig)(),F=(0,p.useIsMobile)(),{team:_,isTeam:R}=(0,m.useAccount)(),B=_?.billing?.plan||"hobby",{open:U}=(0,b.useSaveAndRedeploy)(),{track:$}=(0,x.useTrackActivity)(),[O,z]=(0,i.useState)(!1),[H,V]=(0,i.useState)(),{can:G,isLoading:Y}=(0,g.default)(),Z=(0,i.useRef)(null),{deployment:q,isLoading:W}=(0,j.useProjectProductionDeployment)(D?.id),{data:J,isLoading:K}=(0,v.useBuilds)(q??null),Q=(0,S.isFluidEnabled)(D),X=(0,k.useNetCpuFunctionsFlag)(D?.id??""),ee=Q&&X.isReady&&X.value,et=(0,i.useMemo)(()=>{if(!q||!J)return!1;for(let e of J.builds){let t=e.config.vercelConfig?.functions;if(null!=t&&"object"==typeof t){for(let[e,i]of Object.entries(t))if(void 0!==i.memory)return!0}}return!1},[q,J]),ei=(0,i.useMemo)(()=>{if(void 0===R||!D)return;let e=_?.billing?.plan??"hobby";return D.resourceConfig?.functionDefaultMemoryType?D.resourceConfig.functionDefaultMemoryType:R&&"hobby"!==e||ee?"standard":"standard_legacy"},[R,_?.billing?.plan,D,ee]);(0,i.useEffect)(()=>{ei&&ei!==Z.current&&(Z.current=ei,M({...D?.resourceConfig,functionDefaultMemoryType:ei}))},[ei,I?.functionDefaultMemoryType,D?.resourceConfig,M]);let en=L||Y||W||K,er=G(f.Action.Update,f.Resource.Project),eo=!en&&"hobby"!==B&&er,es=eo&&I?.functionDefaultMemoryType!==ei,ea=async()=>{if(D&&I?.functionDefaultMemoryType){z(!0);try{await (0,C.default)(D.id,_?.id,{resourceConfig:{functionDefaultMemoryType:I.functionDefaultMemoryType}}),$(y.VercelActivityAction.ProjectSettingsUpdated,{projectId:D.id,teamId:_?.id??"",name:"function-cpu",value:I.functionDefaultMemoryType}),await E(),U("Updated Function CPU setting successfully.")}catch(t){await e.A(7826398).then(e=>{let{errorToString:i}=e;V(i(t))})}finally{z(!1)}}},el=Object.keys(T),ec=Q?el.filter(e=>"standard_legacy"!==e):el,ed=ee?N.standard:T.standard_legacy;return(0,t.jsxs)(P.ProjectSettingsFieldset,{description:"",disabled:!eo,error:H,highlightNote:!en&&!er,note:en?(0,t.jsx)(n.Skeleton,{height:32,width:200}):"hobby"===B?(0,t.jsxs)(o.Text,{children:["This feature is available on the"," ",(0,t.jsx)(h.Link,{external:!0,href:"/pricing",type:"highlight",children:"Pro plan"})," "]}):er?(0,t.jsxs)(o.Text,{children:["Learn more about"," ",(0,t.jsx)(h.Link,{external:!0,href:"/docs/functions/configuring-functions/memory",type:"highlight",children:"Function CPU"})," ","and"," ",(0,t.jsx)(h.Link,{external:!0,href:"/docs/functions/configuring-functions/memory#pricing",type:"highlight",children:"Pricing"})]}):(0,t.jsx)(o.Text,{children:"You need additional permissions to manage your project's CPU setting."}),onSave:ea,saveDisabled:!es,saveLoading:O,title:"Function CPU",children:[(0,t.jsxs)(r.Stack,{gap:2,children:[(0,t.jsxs)(o.Text,{lineHeight:20,children:["This controls the maximum amount of CPU utilization your Vercel Functions can use while executing. Standard is optimal for most frontend workloads.",ee?null:(0,t.jsxs)(t.Fragment,{children:[" ","You can override this per function using the"," ",(0,t.jsx)(h.Link,{external:!0,href:"/docs/functions/configuring-functions/memory#setting-custom-function-memory-size",type:"highlight",children:(0,t.jsx)("code",{children:"vercel.json"})})," ","file."]})]}),(0,t.jsx)(o.Text,{lineHeight:20,children:"A new Deployment is required for your changes to take effect."})]}),(0,t.jsx)(c.Spacer,{y:.5}),(0,t.jsxs)(r.Stack,{className:"w-full",direction:"column",gap:4,children:["hobby"===B?(0,t.jsx)(d.Note,{children:(0,t.jsxs)(o.Text,{children:["You currently have"," ",(0,t.jsxs)(l.Badge,{capitalize:!1,size:"sm",variant:"blue-subtle",children:[ed.cpu," vCPU"]})," ","and"," ",(0,t.jsxs)(l.Badge,{capitalize:!1,size:"sm",variant:"blue-subtle",children:[ed.memory," GB Memory"]})," ","on the Hobby plan. Upgrade to get faster CPU and more memory."]})}):null,(0,t.jsx)(s.RadioGroup,{onChange:e=>{M({...I,functionDefaultMemoryType:e})},value:I?.functionDefaultMemoryType??(0,w.getDefaultConfig)(B,(0,S.isFluidEnabled)(D),ee).cpu,children:(0,t.jsx)(r.Stack,{gap:F?2:4,children:ec.map(e=>{let{memory:i,cpu:d,label:m,description:p}=ee?N[e]:T[e],h=d<=1;return(0,t.jsx)(n.Skeleton,{show:en,children:(0,t.jsx)(a.Card,{className:(0,u.clsx)("border p-0 pl-4",{"border-solid border-[var(--ds-blue-700)]":I?.functionDefaultMemoryType===e}),gap:2,padding:4,secondary:I?.functionDefaultMemoryType===e,children:(0,t.jsx)(s.RadioGroup.Item,{className:"items-center",fullWidth:!0,value:e,children:(0,t.jsxs)(r.Stack,{className:"p-4 pl-2",direction:"column",justify:"space-between",children:[(0,t.jsxs)(r.Stack,{direction:F?"column":"row",justify:"flex-start",children:[(0,t.jsx)(o.Text,{weight:500,children:m}),(0,t.jsxs)(r.Stack,{className:(0,u.clsx)({"mb-1 mt-1":F}),direction:"row",children:[(0,t.jsx)(c.Spacer,{x:+!F}),(0,t.jsxs)(l.Badge,{className:"w-fit p-2 normal-case",size:"sm",variant:I?.functionDefaultMemoryType===e?"blue-subtle":"gray-subtle",children:[d," vCPU",h?"":"s"]}),(0,t.jsx)(c.Spacer,{x:F?.25:.5}),(0,t.jsxs)(l.Badge,{className:"w-fit p-2",size:"sm",variant:I?.functionDefaultMemoryType===e?"blue-subtle":"gray-subtle",children:[i," GB Memory"]})]})]}),(0,t.jsx)(o.Text,{color:"gray-900",children:p})]})})},e)},e)})})}),!en&&eo&&et?(0,t.jsx)(d.Note,{className:"mt-4 pl-4",fill:!0,type:"warning",children:(0,t.jsxs)(o.Text,{className:"p-1 pl-2",color:"inherit",children:["The current production deployment has custom overrides in"," ",(0,t.jsx)(h.Link,{external:!0,href:"/docs/functions/configuring-functions/memory#setting-custom-function-memory-size",type:"highlight",children:(0,t.jsx)("code",{children:"vercel.json"})}),","," ",ee?"which gets ignored.":"which takes priority over this setting."]})}):void 0]})]})}e.s(["FunctionDefaultMemoryType",()=>D,"LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE",0,T,"LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE_ACTIVE_CPU",0,N])},5566974,e=>{"use strict";var t=e.i(6468255),i=e.i(1435235),n=e.i(9722978),r=e.i(4201247),o=e.i(7432042),s=e.i(3306538),a=e.i(2504781),l=e.i(5255926),c=e.i(6696646),d=e.i(7837522),u=e.i(7780974),m=e.i(1781243),p=e.i(9138164),h=e.i(9386557),g=e.i(7807066),f=e.i(8761240),x=e.i(9096446);e.i(6483798);var y=e.i(8287059),b=e.i(57106),j=e.i(9100551),v=e.i(2940029);function C(e){let{project:t,deployment:i}=e;if(!t)return null;let n={skewProtectionMaxAge:t.skewProtectionMaxAge??null,deploymentProtection:(t.ssoProtection||t.passwordProtection)?.deploymentType??null};return i.config?.version?{deploymentConfig:i.config,projectConfig:n}:{projectConfig:n}}var w=e.i(5338940),S=e.i(4884125),P=e.i(6636464),k=e.i(3911483),A=e.i(8042625),T=e.i(277234);function N(e){let{projectId:t,teamId:i}=e;return(0,k.default)(["/api/deployment-settings-recommendation-dismissals",i,t],async e=>{let[n]=e;return await (0,T.fetchAPI)(`${n}${(0,A.encode)({projectId:t,teamId:i})}`,{method:"GET",throwOnHTTPError:!0})})}var D=e.i(1803156),L=e.i(1988648),E=e.i(1173672),I=e.i(8091742);let M=[{id:"fluid-compute",title:"Faster functions at a lower cost",message:"Run multiple invocations on a single function instance, reducing idle compute time and lowering costsâ€‹.",resolveUrl:e=>{let{teamSlug:t,projectSlug:i}=e;return`/${t}/${i}/settings/functions#fluid-compute`},shouldShow:e=>{let{deploymentConfig:t}=e;return!t?.functionType||"fluid"!==t.functionType},trackingSection:"fluid",priority:10},{id:"prioritize-production-builds",title:"Skip Build Queues for Production",message:"Production deployments build immediately while preview builds wait in queue.",resolveUrl:e=>{let{teamSlug:t,projectSlug:i}=e;return`/${t}/${i}/settings/build-and-deployment#prioritize-production-builds`},shouldShow:e=>{let{project:t}=e;return!t?.productionDeploymentsFastLane&&!t?.resourceConfig?.elasticConcurrencyEnabled},trackingSection:"prioritize-production-builds",groupId:"build-queues",priority:5},{id:"concurrent-builds",title:"Build Multiple Deployments Simultaneously",message:"Never wait for a queued build.",resolveUrl:e=>{let{teamSlug:t,projectSlug:i}=e;return`/${t}/${i}/settings/build-and-deployment#on-demand-concurrent-builds`},shouldShow:e=>{let{project:t}=e;return!t?.resourceConfig?.elasticConcurrencyEnabled},trackingSection:"on-demand-concurrent-builds",groupId:"build-queues",priority:10},{id:"build-machine",title:"Get builds up to 40% faster",message:"Switch to a bigger build machine.",resolveUrl:e=>{let{teamSlug:t,projectSlug:i}=e;return`/${t}/${i}/settings/build-and-deployment#build-machine`},shouldShow:e=>{let{buildMachineForDisplay:t}=e;return"standard"===t},trackingSection:"build-machine",priority:10},{id:"skew-protection",title:"Prevent Frontend-Backend Mismatches",message:"Automatically sync client and server versions to avoid deployment conflicts.",resolveUrl:e=>{let{teamSlug:t,projectSlug:i}=e;return`/${t}/${i}/settings/advanced#skew-protection`},shouldShow:e=>{let{project:t}=e;return!t?.skewProtectionMaxAge},trackingSection:"skew-protection",priority:5},{id:"deployment-protection",title:"Secure Preview Deployments",message:"Require authentication before anyone can view your preview and production sites.",resolveUrl:e=>{let{teamSlug:t,projectSlug:i}=e;return`/${t}/${i}/settings/deployment-protection#vercel-authentication`},shouldShow:e=>{let{project:t}=e;return!t?.ssoProtection?.deploymentType&&!t?.passwordProtection?.deploymentType},trackingSection:"vercel-authentication",priority:5},{id:"microfrontends",title:"Create Smaller Applications with Microfrontends",message:"Split large applications into smaller ones to improve build times.",resolveUrl:e=>{let{teamSlug:t,projectSlug:i}=e;return`/${t}/${i}/settings/microfrontends`},shouldShow:e=>{let{deployment:t,project:i,team:n}=e,r=t?.readyStateAt||t?.ready;if(!n||!r||!t?.buildingAt||i?.microfrontends?.enabled)return!1;let o=n.billing?.plan==="pro"&&"unbundled"!==n.billing.planIteration||n.billing?.plan==="enterprise",s=r-t.buildingAt>9e5;return o&&s},trackingSection:"microfrontends",priority:5},{id:"custom-domains",title:"Find a Custom Domain",message:"Purchase a domain. Fast, at-cost & private.",resolveUrl:()=>"/domains",shouldShow:async e=>{let{deployment:t,project:i,team:n}=e;if(!t||!i||!n)return!1;try{let[e,r]=await Promise.all([(0,T.default)((0,L.getDashboardDeploymentDomainsEndpoint)({deploymentId:t.id,teamSlug:n.slug??""}),{throwOnHTTPError:!0}),(0,T.default)((0,E.getProjectProductionDeploymentKey)({projectIdOrName:i.name,teamId:n.slug}),{throwOnHTTPError:!0})]),o=!!(t&&r.deployment?.id===t.id),s=(0,I.filterAutoAssignedDomains)(n,e.aliases),a=e.aliases.length!==s.length;return o&&!a}catch(e){return!1}},trackingSection:"custom-domains",priority:5}];var F=e.i(9041876),_=e.i(1556740);function R(e,t){return e?.resourceConfig?.elasticConcurrencyEnabled?(0,F.getProjectBuildMachine)(e,t):"standard"}function B(e){if(e&&e.deploymentConfig)return e.deploymentConfig.isUsingActiveCPU?"performance"===e.deploymentConfig.functionMemoryType?_.LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE_ACTIVE_CPU.performance:_.LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE_ACTIVE_CPU.standard:_.LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE[e.deploymentConfig.functionMemoryType]}let U={all:"All Deployments",preview:"Pre-Production Deployments",prod_deployment_urls_and_all_previews:"(Legacy) Standard Protection",all_except_custom_domains:"Standard Protection"};function $(e){let{project:i,deployment:n,className:l}=e,{teamSlug:m="",project:p=""}=(0,j.useParams)()??{},{team:g}=(0,w.useTeam)(),f=!g?.billing?.plan||"hobby"===g.billing.plan,{track:x}=(0,d.useTrackActivity)(),P=(0,y.useOpenUpgradeModal)(),A=C({deployment:n,project:i}),{data:T,isLoading:L}=function(e){let{project:t,deployment:i,team:n}=e,{teamSlug:r="",project:o=""}=(0,j.useParams)()??{},{data:s,isLoading:a}=N({projectId:o,teamId:r}),l=C({deployment:i,project:t}),d=(0,k.default)(l&&n&&t&&i?["deployment-config-recommendations",i.id]:null,async()=>{if(!l||!n||!t||!i)return[];let e=(await Promise.all(M.map(async e=>({recommendation:e,shouldShow:await e.shouldShow({deployment:i,project:t,deploymentConfig:l.deploymentConfig,buildMachineForDisplay:R(t,n),memoryType:B(l),isHobby:!n?.billing?.plan||"hobby"===n.billing.plan,team:n})})))).map(e=>e.shouldShow?e.recommendation:null).filter(e=>null!==e);return Object.entries((0,D.default)(e,e=>e.groupId??"default")).reduce((e,t)=>{let[i,n]=t;if("default"===i)return e.concat(n);let r=n.toSorted((e,t)=>t.priority-e.priority);return e.concat(r[0])},[]).toSorted((e,t)=>t.priority-e.priority)}),u=(0,c.useMemo)(()=>a?void 0:d.data?.filter(e=>!s?.includes(e.id)),[s,d.data,a]);return{...d,data:u,isLoading:d.isLoading||a}}({project:i,deployment:n,team:g}),E=B(A),I=R(i,g);function F(e){return()=>{x(u.VercelActivityAction.DeploymentOverviewConfigClick,{section:e})}}let[_,$]=(0,c.useMemo)(()=>{let[e,...t]=S.BUILD_MACHINES[I].label.split(" ");return[e,t.join(" ")]},[I]);if(!A)return(0,t.jsx)(z,{className:l});let{deploymentConfig:H,projectConfig:q}=A;return(0,t.jsxs)(O,{className:l,titleContent:(0,t.jsx)(t.Fragment,{children:T&&T.length>0&&!L?(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},children:(0,t.jsx)(V,{count:T.length})}):null}),inlineConfig:T&&0===T.length&&!L?(0,t.jsxs)(r.motion.div,{className:"hidden flex-row items-center gap-3 @lg-page:flex",initial:{opacity:0},animate:{opacity:1},children:[H&&"fluid"===H.functionType?(0,t.jsx)(W,{children:"Fluid Compute"}):(0,t.jsx)(J,{children:"Fluid Compute"}),q.deploymentProtection?(0,t.jsx)(W,{children:"Deployment Protection"}):(0,t.jsx)(J,{Icon:(0,t.jsx)(h.WarningFill,{color:"amber-800"}),children:"Deployment Protection"}),q.skewProtectionMaxAge?(0,t.jsx)(W,{children:"Skew Protection"}):(0,t.jsx)(J,{children:"Skew Protection"}),f?(0,t.jsx)(J,{children:"Cold Start Prevention"}):(0,t.jsx)(W,{children:"Cold Start Prevention"})]}):null,children:[(0,t.jsx)(K,{recommendations:T??[],teamSlug:m,projectSlug:p}),(0,t.jsxs)("section",{className:"flex flex-col gap-3 px-10 py-4 bg-background-200 border-t",children:[(0,t.jsx)("h3",{className:"text-heading-14 font-medium",children:"Build Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] @lg-page:grid-cols-3 gap-3",children:[(0,t.jsx)(v.Attribute,{title:"On-Demand Concurrent Builds",children:(0,t.jsx)(v.Attribute.Item,{children:(0,t.jsx)(b.Link,{className:"group contents",href:`/${m}/${p}/settings/build-and-deployment#on-demand-concurrent-builds`,onClick:F("on-demand-concurrent-builds"),children:i?.resourceConfig?.elasticConcurrencyEnabled?(0,t.jsx)(G,{}):(0,t.jsx)(Y,{})})})}),(0,t.jsx)(v.Attribute,{title:"Build Machine",children:(0,t.jsx)(v.Attribute.Item,{children:(0,t.jsx)(b.Link,{className:"group contents",href:`/${m}/${p}/settings/build-and-deployment#build-machine`,onClick:F("build-machine"),children:I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"group-hover:underline",children:[_,(0,t.jsxs)("span",{className:"hidden @xl-page:inline",children:[" ",$]})]}),(0,t.jsxs)(s.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[S.BUILD_MACHINES[I].cpu," vCPU",S.BUILD_MACHINES[I].cpu<=1?"":"s"]}),(0,t.jsxs)(s.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[S.BUILD_MACHINES[I].memory," GB Memory"]})]}):(0,t.jsx)(Z,{})})})}),(0,t.jsx)(v.Attribute,{title:"Prioritize Production Builds",children:(0,t.jsx)(v.Attribute.Item,{children:(0,t.jsx)(b.Link,{className:"group contents",href:`/${m}/${p}/settings/build-and-deployment#prioritize-production-builds`,onClick:F("prioritize-production-builds"),children:i?.productionDeploymentsFastLane?(0,t.jsx)(G,{}):(0,t.jsx)(Y,{})})})})]})]}),(0,t.jsxs)("section",{className:"flex flex-col gap-3 px-10 py-4 bg-background-200 border-t rounded-b-md",children:[(0,t.jsx)("h3",{className:"text-heading-14 font-medium",children:"Runtime Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] @lg-page:grid-cols-3 gap-3",children:[(0,t.jsx)(v.Attribute,{title:"Fluid Compute",children:(0,t.jsx)(v.Attribute.Item,{className:"capitalize",children:(0,t.jsx)(b.Link,{className:"group contents",href:`/${m}/${p}/settings/functions#fluid-compute`,onClick:F("fluid"),children:H?"fluid"===H.functionType?(0,t.jsx)(G,{}):(0,t.jsx)(Y,{}):(0,t.jsx)(Z,{})})})}),(0,t.jsx)(v.Attribute,{title:"Function CPU",children:(0,t.jsx)(v.Attribute.Item,{children:(0,t.jsx)(b.Link,{className:"group contents",href:`/${m}/${p}/settings/functions#function-cpu`,onClick:F("function-cpu"),children:E?(0,t.jsxs)(t.Fragment,{children:["Basic"===E.label&&H?.functionType==="fluid"?null:(0,t.jsx)("span",{className:"group-hover:underline",children:E.label}),(0,t.jsxs)(s.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[E.cpu," vCPU",E.cpu<=1?"":"s"]}),(0,t.jsxs)(s.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[E.memory," GB Memory"]})]}):(0,t.jsx)(Z,{})})})}),(0,t.jsx)(v.Attribute,{title:"Deployment Protection",children:(0,t.jsx)(v.Attribute.Item,{children:(0,t.jsx)(b.Link,{className:"group contents",href:`/${m}/${p}/settings/deployment-protection#vercel-authentication`,onClick:F("vercel-authentication"),children:q.deploymentProtection?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(G,{text:U[q.deploymentProtection]})}):(0,t.jsx)(Y,{Icon:(0,t.jsx)(h.WarningFill,{color:"amber-800"})})})})}),(0,t.jsx)(v.Attribute,{title:"Skew Protection",children:(0,t.jsx)(v.Attribute.Item,{children:(0,t.jsx)(b.Link,{className:"group contents",href:`/${m}/${p}/settings/advanced#skew-protection`,onClick:F("skew-protection"),children:q.skewProtectionMaxAge?(0,t.jsx)(G,{text:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"group-hover:underline",children:"Enabled"}),(0,t.jsx)("span",{className:"text-gray-900 group-hover:underline",children:(0,o.default)(1e3*q.skewProtectionMaxAge,{long:!0})})]})}):(0,t.jsx)(Y,{})})})}),(0,t.jsx)(v.Attribute,{title:"Cold Start Prevention",children:(0,t.jsx)(v.Attribute.Item,{children:f?(0,t.jsx)(a.Button,{className:"group [&>span]:p-0 [&>span]:flex [&>span]:items-center [&>span]:gap-2",variant:"unstyled",onClick:()=>{F("cold-start-prevention"),P({teamHint:m,source:"deployment-configuration-cold-start-prevention"})},children:(0,t.jsx)(Y,{})}):(0,t.jsx)(G,{})})}),H?.secureComputePrimaryRegion?(0,t.jsx)(v.Attribute,{title:"Secure Compute",children:(0,t.jsx)(v.Attribute.Item,{children:(0,t.jsx)(b.Link,{className:"group",href:`/${m}/~/settings/secure-compute`,onClick:F("secure-compute"),children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:"group-hover:underline",children:"Primary"}),(0,t.jsx)(s.Badge,{className:"text-label-13-mono mx-1 !lowercase",size:"sm",variant:"gray-subtle",children:H.secureComputePrimaryRegion})]}),H.secureComputeFallbackRegion?(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:"group-hover:underline",children:"Fallback"}),(0,t.jsx)(s.Badge,{className:"text-label-13-mono mx-1 !lowercase",size:"sm",variant:"gray-subtle",children:H.secureComputeFallbackRegion})]}):null]})})})}):null]})]})]})}function O(e){let{disabled:r,isLoading:o,children:s,titleContent:a,inlineConfig:c,className:d}=e;return(0,t.jsx)(i.Root,{className:(0,n.clsx)(d,{"bg-background-200":r}),disabled:r||o,type:"multiple",children:(0,t.jsxs)(i.Item,{value:"configuration",children:[(0,t.jsx)(i.Trigger,{className:(0,n.clsx)("ease flex h-12 w-full items-center justify-between border-0 border-t border-gray-alpha-400 bg-transparent px-4 transition-all duration-200 disabled:text-gray-900",{"cursor-pointer":!r,"cursor-not-allowed":r}),children:(0,t.jsx)("span",{className:"flex items-center gap-2 w-full",children:o?(0,t.jsx)(l.Skeleton,{height:16,width:160}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.ChevronRight,{className:"ease-[ease] transition-transform duration-200 [[data-state=open]_&]:rotate-90",color:"gray-900"}),(0,t.jsxs)("span",{className:"flex items-center gap-2 w-full",children:[(0,t.jsx)("span",{className:"text-label-14 font-medium text-gray-1000",children:"Deployment Settings"}),a&&(0,t.jsx)("span",{className:(0,n.clsx)("ease transition-all duration-200","[[data-state=open]_&]:translate-y-0.5 [[data-state=open]_&]:scale-[0.99] [[data-state=open]_&]:opacity-0"),children:a})]}),c?(0,t.jsx)("span",{className:(0,n.clsx)("ease transition-all duration-200","[[data-state=open]_&]:translate-y-0.5 [[data-state=open]_&]:scale-[0.99] [[data-state=open]_&]:opacity-0"),children:c}):null]})})}),(0,t.jsx)(i.Content,{className:" overflow-hidden will-change-[height] [[data-state=closed]_&]:animate-content-close [[data-state=open]_&]:animate-content-open ",children:s})]})})}function z(e){let{className:i}=e;return(0,t.jsx)(O,{className:i,disabled:!0})}function H(e){let{className:i}=e;return(0,t.jsx)(O,{className:i,isLoading:!0})}function V(e){let{count:i}=e;return(0,t.jsx)(s.Badge,{variant:"blue-subtle",children:(0,t.jsxs)("span",{className:"font-medium font-sans",children:[i," Recommendation",1===i?"":"s"]})})}function G(e){let{text:i="Enabled"}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.CheckCircleFill,{color:"blue-700"}),(0,t.jsx)("span",{className:"group-hover:underline",children:i})]})}function Y(e){let{Icon:i,text:n="Disabled"}=e;return(0,t.jsxs)(t.Fragment,{children:[i||(0,t.jsx)(m.CrossCircleFill,{color:"gray-900"}),(0,t.jsx)("span",{className:"group-hover:underline",children:n})]})}function Z(){return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.SettingsGear,{color:"gray-900"}),(0,t.jsx)("span",{className:"group-hover:underline",children:"Manage"})]})}function q(e){let{Icon:i,children:r,className:o,...s}=e;return(0,t.jsxs)("span",{className:(0,n.clsx)("text-label-14 flex flex-row items-center gap-2 whitespace-nowrap text-gray-900",o),...s,children:[i,r]})}function W(e){let{children:i,...n}=e;return(0,t.jsx)(q,{Icon:(0,t.jsx)(f.CheckCircleFill,{color:"blue-700"}),...n,children:i})}function J(e){let{children:i,Icon:n,...r}=e;return(0,t.jsx)(q,{Icon:n||(0,t.jsx)(m.CrossCircleFill,{color:"gray-900"}),...r,children:i})}function K(e){let{recommendations:i,teamSlug:n,projectSlug:r}=e,{track:o}=(0,d.useTrackActivity)(),s=(0,c.useRef)(new Set);(0,c.useEffect)(()=>{i.forEach(e=>{s.current.has(e.id)||(s.current.add(e.id),o(u.VercelActivityAction.DeploymentOverviewRecommendationImpression,{recommendationId:e.id}))})},[i,o]);let{data:l,mutate:m}=N({projectId:r,teamId:n}),{trigger:p}=function(e){let{projectId:t,teamId:i}=e;return(0,P.default)(["/api/deployment-settings-recommendation-dismissals",i,t],async(e,n)=>{let[r]=e,{arg:o}=n;return await (0,T.fetchAPI)(r,{method:"PATCH",body:{teamId:i,projectId:t,recommendationId:o},throwOnHTTPError:!0})})}({projectId:r,teamId:n});return 0===i.length?null:(0,t.jsxs)("section",{className:"flex flex-col gap-3 px-10 py-4 border-t",children:[(0,t.jsx)("h3",{className:"text-heading-14 font-medium",children:"Recommendations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 @lg-page:grid-cols-3 gap-3 align-stretch",children:i.map(e=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(b.Link,{href:e.resolveUrl({teamSlug:n,projectSlug:r}),onClick:()=>{o(u.VercelActivityAction.DeploymentOverviewRecommendationClick,{recommendationId:e.id}),o(u.VercelActivityAction.DeploymentOverviewConfigClick,{section:e.trackingSection,isRecommendation:!0})},className:"group h-full block material-small hover:border-gray-500 px-4 py-3",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("div",{className:"text-label-14 font-medium text-gray-1000",children:e.title}),(0,t.jsx)("div",{className:"text-label-14 text-gray-900 text-pretty",children:e.message})]})}),(0,t.jsx)(a.Button,{className:"hidden group-focus-within:block group-hover:block absolute -top-2 -right-2 z-10","aria-label":"Dismiss notification",type:"secondary",shape:"circle",svgOnly:!0,size:"tiny",tabIndex:0,onClick:()=>{m([...l??[],e.id],{populateCache:!0,revalidate:!1,rollbackOnError:!0}),p(e.id),o(u.VercelActivityAction.DeploymentOverviewRecommendationDismissal,{recommendationId:e.id})},children:(0,t.jsx)(x.CrossSmall,{})})]},e.id))})]})}e.s(["DeploymentConfiguration",()=>$,"DeploymentConfigurationRoot",()=>O,"DeploymentConfigurationSkeleton",()=>H],5566974)}]);

//# sourceMappingURL=2fe656a59bd7e184.js.map
//# debugId=61f576e0-1e33-5f6a-8c81-3dc549593e23
