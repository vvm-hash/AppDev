
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b542916d-d6fc-5382-89b9-8624fad3779d")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,545405,e=>{"use strict";function t(e){navigator.clipboard.writeText(e)}e.s(["copyToClipboard",()=>t])},7882093,e=>{"use strict";let t;var i=e.i(6468255),r=e.i(3911483),a=e.i(4614946),l=e.i(631375),n=e.i(2725743),s=e.i(9100551),o=e.i(2814021),d=e.i(4439612),c=(0,d.createServerReference)("7f80d8873b76091a79049b61db030455391a01b630",d.callServer,void 0,d.findSourceMapURL,"authenticateDeployment"),u=(0,d.createServerReference)("7fe284986f7ba05d78d361b00561057e73ada83de8",d.callServer,void 0,d.findSourceMapURL,"authenticateOwner"),h=(0,d.createServerReference)("7fea3307a4ea85eae05dfcca3115e4f4148f0af685",d.callServer,void 0,d.findSourceMapURL,"authenticateOwnerForDomains"),f=(0,d.createServerReference)("7fb74e710af371138cc93bc733ea2c0ac4dfcff9c4",d.callServer,void 0,d.findSourceMapURL,"authenticateProject");class m extends Error{scope;constructor(e){super(),this.name="AuthenticateOwnerError",this.scope=e,this.message=`Cannot authenticate owner: ${e}`}}var g=(0,d.createServerReference)("7f3053ab0924059000b6413e4cef6f8eb084722603",d.callServer,void 0,d.findSourceMapURL,"authenticateUser");let p=new Map,v=async(e,i)=>{let{params:r,authFn:a}=i;t||(t=(async()=>{await a(r),p.set(e,1)})(),await t,t=void 0)},x=e=>t=>{let i=(0,a.useSWRConfig)().cache,r=(0,s.useParams)(),d=(0,s.usePathname)();return(a,c,u)=>{let h=t(a,c,u);if(h.error&&403===h.error.status){let[t]=(0,l.serialize)(a);if((0,n.isLoggedIn)()&&!p.get(t))return queueMicrotask(()=>{v(t,{...e,params:r??{}}).catch(e=>{e instanceof m&&(e.scope&&(0,o.redirectToReauth)({redirect:s.redirect,scope:e.scope,next:d}),(0,o.redirectToLogin)({redirect:s.redirect,next:d}))})}),{...h,...i.get(t)}}return h}};function S(e){let{children:t}=e;return(0,i.jsx)(r.SWRConfig,{value:{use:[x({authFn:u})]},children:t})}function b(e){let{children:t}=e;return(0,i.jsx)(r.SWRConfig,{value:{use:[x({authFn:h})]},children:t})}function R(e){let{children:t}=e;return(0,i.jsx)(r.SWRConfig,{value:{use:[x({authFn:g})]},children:t})}function _(e){let{children:t}=e;return(0,i.jsx)(r.SWRConfig,{value:{use:[x({authFn:f})]},children:t})}function w(e){let{children:t}=e;return(0,i.jsx)(r.SWRConfig,{value:{use:[x({authFn:c})]},children:t})}e.s(["SWRAuthenticatedDeployment",()=>w,"SWRAuthenticatedOwner",()=>S,"SWRAuthenticatedOwnerForDomains",()=>b,"SWRAuthenticatedProject",()=>_,"SWRAuthenticatedUser",()=>R],7882093)},4305687,e=>{"use strict";var t=e.i(2814021),i=e.i(9100551);function r(e){let{scope:r,isLimitedByMfa:a}=e,l=(0,i.usePathname)();return(0,t.redirectToAuth)({redirect:i.redirect,next:l,isLimitedByMfa:a,scope:r}),null}e.s(["ClientAuthRedirect",()=>r])},5750944,e=>{"use strict";var t=e.i(6468255),i=e.i(1482429),r=e.i(545405),a=e.i(2126130),l=e.i(2504781),n=e.i(1344973),s=e.i(5468328),o=e.i(455575),d=e.i(5806401),c=e.i(6942035),u=e.i(3672946),h=e.i(4725703),f=e.i(5366204),m=e.i(6143247),g=e.i(5348482),p=e.i(1135066);function v(){let[e,r]=(0,g.useQueryBuilderQueryState)(),{hasObservabilityPlusAccess:l,ready:n}=(0,a.useHasObservabilityPlus)(),s=e.fullScreen??!1;return(0,t.jsx)(d.Sheet,{onOpenChange:e=>r({builder:e}),open:e.builder,children:(0,t.jsx)(d.SheetContent,{className:(0,m.cn)("m-3 h-[calc(100%-1.5rem)] w-[calc(100%-1.5rem)] overflow-visible rounded-[1rem] bg-white p-0 lg:w-3/4 sm:max-w-[auto]",s&&"!w-[calc(100%-1.5rem)]"),onEscapeKeyDown:e=>{e.target instanceof HTMLInputElement&&e.preventDefault()},side:"right",children:(0,t.jsxs)("div",{className:"flex h-full flex-col overflow-hidden rounded-[1rem]",children:[(0,t.jsx)(p.QueryBuilder,{Actions:(0,t.jsx)(S,{fullScreen:s,setFullScreen:e=>r({fullScreen:e})}),query:e,setQuery:r,Title:(0,t.jsx)(x,{})}),n&&l?(0,t.jsx)("section",{className:"flex justify-end border-t bg-background-200 p-3",children:(0,t.jsx)(i.AddToNotebookButton,{query:e})}):null]})})})}function x(){let e=(0,o.useToasts)();return(0,t.jsxs)(d.SheetHeader,{children:[(0,t.jsx)(d.SheetTitle,{className:"hidden"}),(0,t.jsxs)("div",{className:"sticky top-0 z-10 flex items-center gap-2 bg-background-100 pl-2",children:[(0,t.jsx)(n.Text,{className:"text-nowrap",variant:"heading-20",children:"Run Query"}),(0,t.jsx)(l.Button,{"aria-label":"Copy to clipboard",className:"!px-1.5",onClick:()=>{(0,r.copyToClipboard)(window.location.href),e.message("URL copied to clipboard!")},size:"small",svgOnly:!0,shape:"square",type:"tertiary",children:(0,t.jsx)(f.Link,{color:"gray-800"})})]})]})}function S(e){let{fullScreen:i,setFullScreen:r}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Button,{"aria-label":i?"Minimize":"Expand",onClick:()=>r(!i),svgOnly:!0,className:"hidden lg:block",shape:"square",type:"tertiary",children:i?(0,t.jsx)(s.Tooltip,{text:"Minimize",position:"bottom",children:(0,t.jsx)(h.FullscreenClose,{})}):(0,t.jsx)(s.Tooltip,{text:"Expand",position:"bottom",children:(0,t.jsx)(u.Fullscreen,{})})}),(0,t.jsx)(d.SheetClose,{asChild:!0,children:(0,t.jsx)(l.Button,{"aria-label":"Close",shape:"square",size:"medium",svgOnly:!0,type:"tertiary",children:(0,t.jsx)(c.Cross,{})})})]})}e.s(["QueryBuilderDrawer",()=>v])},5366204,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.46968 1.46968C10.1433 -0.203925 12.8567 -0.203923 14.5303 1.46968C16.2039 3.14329 16.2039 5.85674 14.5303 7.53034L12.0303 10.0303L10.9697 8.96968L13.4697 6.46968C14.5575 5.38186 14.5575 3.61816 13.4697 2.53034C12.3819 1.44252 10.6182 1.44252 9.53034 2.53034L7.03034 5.03034L5.96968 3.96968L8.46968 1.46968ZM11.5303 5.53034L5.53034 11.5303L4.46968 10.4697L10.4697 4.46968L11.5303 5.53034ZM1.46968 14.5303C3.14329 16.2039 5.85673 16.204 7.53034 14.5303L10.0303 12.0303L8.96968 10.9697L6.46968 13.4697C5.38186 14.5575 3.61816 14.5575 2.53034 13.4697C1.44252 12.3819 1.44252 10.6182 2.53034 9.53034L5.03034 7.03034L3.96968 5.96968L1.46968 8.46968C-0.203923 10.1433 -0.203925 12.8567 1.46968 14.5303Z" fill="currentColor"/>');e.s(["Link",0,t])},2107254,3839101,e=>{"use strict";var t=e.i(6696646),i=e.i(3911483),r=e.i(8815282),a=e.i(7045913),l=e.i(8042625),n=e.i(277234),s=e.i(4244280),o=e.i(9668517),d=e.i(5140444);function c(e){let{version:t,until:i,limit:r,latestDeployments:a,search:n,slug:o,excludeRepos:d,edgeConfigId:c,edgeConfigTokenId:u,connectConfigurationId:h,from:f,sortByElasticConcurrency:m,buildMachineTypes:g}=e;return`${(0,s.API_PROJECTS_VERSION)(t)}${(0,l.encode)({until:i,limit:r,latestDeployments:a,search:n,slug:o,excludeRepos:d,edgeConfigId:c,edgeConfigTokenId:u,connectConfigurationId:h,from:f,sortByElasticConcurrency:m,buildMachineTypes:g})}`}e.s(["getProjectListInfiniteKey",()=>c],3839101);let u=null;function h(e,t){let{limit:i=8,latestDeployments:r=3,excludeReposRef:a}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v9",d=`${(0,s.API_PROJECTS_VERSION)(o)}${(0,l.encode)({limit:i,latestDeployments:r,slug:t,excludeRepos:a?.current[0]??null})}`;u=[d,(0,n.fetchAPI)(d)]}function f(e,t){let i,r,{sortByElasticConcurrency:a}=t;return a&&"string"==typeof e?i=e:"number"==typeof e&&(r=e),{from:i,until:r}}function m(){let{fetchEnabled:e=!0,limit:l=8,latestDeployments:s=3,search:d,excludeReposRef:h,revalidateFirstPage:m=!0,edgeConfigId:g,edgeConfigTokenId:p,connectConfigurationId:v,version:x="v9",slug:S,sortByElasticConcurrency:b,buildMachineTypes:R}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=arguments.length>2&&void 0!==arguments[2]&&arguments[2],y=arguments.length>3&&void 0!==arguments[3]&&arguments[3],M=(0,a.useRouter)(),j=(0,o.useTeamSlug)(),T=S||j,C=(0,r.default)((t,i)=>{if(!e||M&&!M.isReady)return null;if(!t)return c({version:x,limit:l,latestDeployments:s,search:d,slug:T,excludeRepos:h?.current[0]??null,edgeConfigId:g,edgeConfigTokenId:p,connectConfigurationId:v,sortByElasticConcurrency:b,buildMachineTypes:R});let{until:r,from:a}=f(i?.pagination.next,{sortByElasticConcurrency:b});return r||a?c({version:x,until:r,limit:l,latestDeployments:s,search:d,slug:T,excludeRepos:h?.current[t]??null,edgeConfigId:g,edgeConfigTokenId:p,connectConfigurationId:v,from:a,sortByElasticConcurrency:b,buildMachineTypes:R}):null},async e=>{if(u&&u[0]===e){let e=await u[1];return u=null,e}return(0,n.fetchAPI)(e,{throwOnHTTPError:!0})},{..._,keepPreviousData:y,revalidateFirstPage:m,persistSize:!0}),E=!!C.data,P=!!((C.data?.[C.data.length-1]?.projects.length??0)<l||C.data?.[C.data.length-1]?.pagination.next===null),L=(0,t.useMemo)(()=>C.data?C.data.flatMap(e=>e.projects):[],[C.data]),V=E&&0===L.length,H=!!(C.data&&C.size>C.data.length);return(0,i.default)(()=>{if(w||!C.data||P)return null;let e=C.data[C.data.length-1],{from:t,until:i}=f(e?.pagination.next,{sortByElasticConcurrency:b});return c({version:x,until:i,limit:l,latestDeployments:s,search:d,slug:T,excludeRepos:h?.current[0]??null,edgeConfigId:g,edgeConfigTokenId:p,connectConfigurationId:v,from:t,sortByElasticConcurrency:b,buildMachineTypes:R})},e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0})),[C,{projects:L,initialDataLoaded:E,isEmpty:V,loadMore:()=>C.setSize(e=>e+1),isLoadingMore:H,isReachingEnd:P,isValidating:C.isValidating}]}function g(){let{fetchEnabled:e=!0,limit:r,from:c,linked:u,search:h,hasProductionDomains:f,domain:m,latestDeployments:g=3,deploymentInfo:p,includePermissions:v=!1,edgeConfigId:x,edgeConfigTokenId:S,connectConfigurationId:b,excludeConnectConfigurationId:R,staticIpsEnabled:_,teamId:w}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},M=arguments.length>2?arguments[2]:void 0,j=arguments.length>3?arguments[3]:void 0,T=(0,o.useTeamSlug)(),C=(0,a.useRouter)(),{user:E,isNorthstar:P}=(0,d.useUser)(),[L,V]=(0,t.useState)(h);return(0,t.useEffect)(()=>{V(e=>e===h?e:h)},[h]),{...(0,i.default)(()=>e&&(!C||C.isReady)&&E&&(!P||E.defaultTeamId||w)?`${(0,s.API_PROJECTS_VERSION)("v8")}${(0,l.encode)({from:c||null,limit:r,linked:!!u||null,search:L,hasProductionDomains:f?"1":null,domain:m,latestDeployments:void 0===g?null:g,deploymentInfo:p||null,slug:M||T,includePermissions:v,edgeConfigId:x,edgeConfigTokenId:S,connectConfigurationId:b,excludeConnectConfigurationId:R,staticIpsEnabled:void 0===_?null:Number(_).toString(),teamId:w||null})}`:null,e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0,throwOnScopeAuthError:j?.throwOnScopeAuthError}),y),updateSearch:V,search:L}}e.s(["default",()=>g,"preloadProjectListInfinite",()=>h,"useProjectListInfinite",()=>m],2107254)},2112997,e=>{e.v({checked:"switch-control-module__WvDOda__checked",container:"switch-control-module__WvDOda__container",control:"switch-control-module__WvDOda__control",disabled:"switch-control-module__WvDOda__disabled",icon:"switch-control-module__WvDOda__icon",large:"switch-control-module__WvDOda__large",small:"switch-control-module__WvDOda__small",text:"switch-control-module__WvDOda__text"})},1328457,e=>{e.v({hideBorder:"switch-module__idkRsq__hideBorder",large:"switch-module__idkRsq__large",small:"switch-module__idkRsq__small",switch:"switch-module__idkRsq__switch"})},8923565,e=>{"use strict";var t=e.i(6468255),i=e.i(6696646),r=e.i(9722978),a=e.i(9508212),l=e.i(5402816),n=e.i(1344973),s=e.i(2112997),o=e.i(1328457);let d=Object.assign((0,i.forwardRef)(function(e,l){let{className:n,size:s,name:d,children:c,hideBorder:u,checkedColor:h,...f}=e;return(0,t.jsx)(a.Stack,{className:(0,r.clsx)(n,o.default.switch,{[String(o.default.large)]:"large"===s,[String(o.default.small)]:"small"===s,[String(o.default.hideBorder)]:u}),direction:"row",...f,ref:l,children:i.Children.map(c,e=>(0,i.cloneElement)(e,{name:d,size:s,checkedColor:h}))})}),{Control:function(e){let{className:a,icon:o,label:d,size:c,checked:u,disabled:h,checkedColor:f="var(--ds-gray-100)",innerDivClassName:m,...g}=e,p=void 0!==o,v=(0,r.clsx)(s.default.control,{[String(s.default.disabled)]:h,[String(s.default.checked)]:u,[String(s.default.large)]:"large"===c,[String(s.default.small)]:"small"===c,[String(s.default.text)]:!p,[String(s.default.icon)]:p}),x=o?(0,t.jsxs)(t.Fragment,{children:[(0,i.cloneElement)(o,{size:"large"===c?20:16}),(0,t.jsx)("span",{className:"geist-sr-only",children:d})]}):d;return"href"in g&&void 0!==g.href?h?(0,t.jsx)(n.Text,{as:"span",className:v,style:{"--switch-checked-color":f},children:x}):(0,t.jsx)(l.default,{className:v,href:g.href,onClick:g.onClick,prefetch:g.prefetch,scroll:!1,style:{"--switch-checked-color":f},children:x}):(0,t.jsxs)("label",{className:(0,r.clsx)(s.default.container,a),"data-disabled":h?"true":"false",children:[(0,t.jsx)("input",{...g,checked:u,className:"geist-sr-only",disabled:h,type:"radio"}),(0,t.jsx)("div",{className:(0,r.clsx)(v,m),style:{"--switch-checked-color":f},children:x})]})}});e.s(["Switch",0,d],8923565)},4725703,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6 1V1.75V5C6 5.55229 5.55228 6 5 6H1.75H1V4.5H1.75H4.5V1.75V1H6ZM14.25 6H15V4.5H14.25H11.5V1.75V1H10V1.75V5C10 5.55228 10.4477 6 11 6H14.25ZM10 14.25V15H11.5V14.25V11.5H14.29H15.04V10H14.29H11C10.4477 10 10 10.4477 10 11V14.25ZM1.75 10H1V11.5H1.75H4.5V14.25V15H6V14.25V11C6 10.4477 5.55229 10 5 10H1.75Z" fill="currentColor"/>');e.s(["FullscreenClose",0,t])},3672946,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1 5.25V6H2.5V5.25V2.5H5.25H6V1H5.25H2C1.44772 1 1 1.44772 1 2V5.25ZM5.25 14.9994H6V13.4994H5.25H2.5V10.7494V9.99939H1V10.7494V13.9994C1 14.5517 1.44772 14.9994 2 14.9994H5.25ZM15 10V10.75V14C15 14.5523 14.5523 15 14 15H10.75H10V13.5H10.75H13.5V10.75V10H15ZM10.75 1H10V2.5H10.75H13.5V5.25V6H15V5.25V2C15 1.44772 14.5523 1 14 1H10.75Z" fill="currentColor"/>');e.s(["Fullscreen",0,t])},8587921,7873387,e=>{"use strict";var t=e.i(6696646),i=e.i(3911483),r=e.i(8815282),a=e.i(8042625),l=e.i(277234),n=e.i(4244280),s=e.i(9668517),o=e.i(5338940),d=e.i(1717203),c=e.i(7557283);let u=e=>(i,r,a)=>{let l=(0,t.useRef)(void 0),n=e(i,r,a);(0,t.useEffect)(()=>{void 0!==n.data&&(l.current=n.data)},[n.data]);let s=(0,t.useCallback)(()=>{l.current=void 0},[]);return{...n,data:void 0===n.data?l.current:n.data,isLagging:void 0===n.data&&void 0!==l.current,resetLaggy:s}};function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{search:h,limit:f,role:m,eligibleMembersForProjectId:g,sort:p="date_desc",filterByUserIds:v,includeEntitlements:x,mfaStateFilter:S,includePermissionRequests:b}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{isReady:w,team:y}=(0,o.useTeam)(),{isLoading:M,can:j}=(0,d.default)(),T=!M&&j(c.Action.List,c.Resource.TeamFellowMembership),C=(0,s.useTeamSlug)(),E=f||20,P=(0,r.default)((e,t)=>{if(!w||!y||!T)return null;if(0===e)return`${n.API_TEAMS_MEMBERS_V3}/${y.id}/members${(0,a.encode)({sort:p,limit:E,search:h,role:m,eligibleMembersForProjectId:g,filterByUserIds:v,includeEntitlements:!!x||void 0,filterByMfaState:"all"!==S?S:void 0,includePermissionRequests:b})}`;let i=t?.pagination.nextPageCursor;return i?`${n.API_TEAMS_MEMBERS_V3}/${y.id}/members${(0,a.encode)({sort:p,limit:E,nextPageCursor:i,search:h,role:m,eligibleMembersForProjectId:g,includeEntitlements:!!x||void 0,filterByMfaState:"all"!==S?S:void 0,includePermissionRequests:b})}`:null},e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),{...e,use:R?[u]:[]});(0,t.useEffect)(()=>{R&&P.resetLaggy()},[C,R]);let L=(0,t.useMemo)(()=>P.data?.flatMap(e=>e.members.slice(0,E))||[],[P.data,E]),V=(0,t.useMemo)(()=>P.data?.flatMap(e=>e.permissionRequests||[])||[],[P.data]),H=!!P.data,A=H&&0===L.length,O=!!(H&&P.data&&P.size>P.data.length),I=!!(H&&P.data&&!P.data[P.data.length-1]?.pagination?.nextPageCursor);return(0,i.default)(()=>{if(!_||!P.data||I||!w||!y)return null;let e=P.data[P.data.length-1].pagination.nextPageCursor;return`${n.API_TEAMS_MEMBERS_V3}/${y.id}/members${(0,a.encode)({sort:p,limit:E,nextPageCursor:e,search:h,role:m,eligibleMembersForProjectId:g,includeEntitlements:x,filterByMfaState:"all"!==S?S:void 0,includePermissionRequests:b})}`},e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0})),[P,{members:L,permissionRequests:V.filter(e=>null!=e),initialDataLoaded:H,isEmpty:A,loadMore:()=>P.setSize(P.size+1),isLoadingMore:O,isReachingEnd:I,isLagging:P.isLagging}]}function f(){let{sort:e="date_desc",limit:t=20,filterByUserIds:r,until:s,role:u,includeEntitlements:h,includePermissionRequests:f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:g,team:p}=(0,o.useTeam)(),{isLoading:v,can:x}=(0,d.default)(),S=!v&&x(c.Action.List,c.Resource.TeamFellowMembership);return(0,i.default)(()=>g&&p&&S?`${n.API_TEAMS_MEMBERS_V3}/${p.id}/members${(0,a.encode)({sort:e,until:s,limit:t,role:u,filterByUserIds:r,includeEntitlements:h,includePermissionRequests:f})}`:null,e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),m)}function m(e){let{limit:t=20,until:r,role:s,sort:o="date_desc"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.default)(()=>e?`${n.API_TEAMS_MEMBERS_V3}/${e.id}/members${(0,a.encode)({until:r,limit:t,role:s,sort:o})}`:null,e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),d)}function g(){let{limit:e=25,...i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{can:n,isLoading:u}=(0,d.default)(),h=!u&&n(c.Action.Create,c.Resource.TeamFellowMembership),{isReady:f,team:m}=(0,o.useTeam)(),g=(0,s.useTeamSlug)(),p=(0,r.default)((t,i)=>{if(!f||!m||!h)return null;if(!t)return`/api/teams/${g}/members/suggested${(0,a.encode)({limit:e})}`;let r=i?.members,l=r?.length===e?r[r.length-1].email:null;return l?`/api/teams/${g}/members/suggested${(0,a.encode)({limit:e,from:l})}`:null},e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),i),v=(0,t.useMemo)(()=>p.data?.flatMap(t=>t.members.slice(0,e))||[],[p.data,e]),x=!!p.data,S=x&&0===v.length,b=!!(x&&p.data&&p.size>p.data.length),R=!!(x&&p.data&&p.data[p.data.length-1]?.members.length<e);return[p,{members:v,initialDataLoaded:x,isEmpty:S,loadMore:()=>p.setSize(p.size+1),isLoadingMore:b,isReachingEnd:R}]}e.s(["default",0,u],7873387),e.s(["MEMBERS_LIMIT",0,20,"default",()=>f,"useMembersForTeam",()=>m,"useMembersInfinite",()=>h,"useSuggestedMembersInfinite",()=>g],8587921)},4723202,e=>{"use strict";var t=e.i(6468255),i=e.i(6696646),r=e.i(2504781),a=e.i(5255926),l=e.i(455575),n=e.i(5468328),s=e.i(277234),o=e.i(5338940),d=e.i(8587921),c=e.i(5140444),u=e.i(8248823),h=e.i(57106);function f(e){let{teamRole:s,variant:f="card"}=e,{team:g,isLoading:p}=(0,o.useTeam)(),{hasRequestedRole:v,mutate:x,isLoading:S}=function(e){let{user:t,isLoading:i}=(0,c.useUser)(),{data:r,mutate:a,isLoading:l}=(0,d.default)({includePermissionRequests:!0}),n=r?.permissionRequests;return{hasRequestedRole:n?.some(i=>i.uid===t?.uid&&i.requestedTeamRole.includes(e))??!1,mutate:a,isLoading:i||l}}(s),[b,R]=(0,i.useState)(!1),[_,w]=(0,i.useState)(!1);if(g?.membership?.role!=="VIEWER_FOR_PLUS")return null;let y=v||_;return(0,t.jsx)(a.Skeleton,{show:S||p,children:(0,t.jsx)(n.Tooltip,{disableTriggers:!y,text:(0,t.jsxs)(t.Fragment,{children:["An Owner of the team can accept your request. Requests are managed in the"," ",(0,t.jsx)(h.Link,{href:`/${g?.slug}/~/settings/members`,type:"highlight",children:"team members page"}),"."]}),children:(0,t.jsx)(r.Button,{disabled:y,loading:b,className:"card"===f?"text-label-14 font-medium":void 0,onClick:async()=>{if(g?.id){R(!0);try{await m(g.id,s),x(),w(!0),l.toasts.success("Request for the Member role has been sent")}catch(e){l.toasts.error((0,u.errorToString)(e,"Failed to send request"))}finally{R(!1)}}},size:"card"===f?"small":void 0,type:"card"===f?"tertiary":void 0,children:y?"Access Requested":"Request Access"})})})}async function m(e,t){await (0,s.fetchAPI)(`/api/teams/${e}/role-requests?teamId=${e}`,{method:"POST",body:JSON.stringify({teamRoles:[t]}),throwOnHTTPError:!0})}e.s(["RequestRoleButton",()=>f])},8556491,e=>{"use strict";var t=e.i(6468255),i=e.i(4723202),r=e.i(57106),a=e.i(1235157),l=e.i(119294),n=e.i(6352514);function s(e){let{role:s,team:o,actionLabel:d,dataTestId:c}=e;return(0,t.jsx)("div",{className:"absolute inset-0 z-[100] flex items-center justify-center bg-[rgba(255,255,255,0.5)] dark:bg-[rgba(0,0,0,0.5)]",children:(0,t.jsx)("div",{className:"absolute top-0 md:top-[80px] left-1/2 -translate-x-1/2 z-[101] w-full max-w-[560px] animate-[fadeIn_300ms_ease-in-out_forwards] pointer-events-auto","data-testid":c,children:(0,t.jsxs)("div",{className:"shadow-lg md:rounded-lg max-w-full bg-white overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,t.jsx)("span",{className:"text-heading-24",children:"Additional Permissions Required"}),(0,t.jsxs)("div",{children:["As a ",(0,t.jsx)("strong",{children:s?(0,a.getRoleName)(s):"Viewer"})," user on the ",(0,t.jsx)("strong",{children:o?.name})," team, you do not have permission to ",d,"."]}),(0,t.jsxs)("div",{className:"text-center break-words pt-2 text-gray-900",children:["Learn more about"," ",(0,t.jsx)(r.Link,{external:!0,href:"/docs/rbac/access-roles",onClick:()=>{l.analytics.track(n.AnalyticsEvent.PERMISSIONS_CLICKED_LEARN_MORE)},type:"highlight",children:"Roles and Permissions"})]})]}),"VIEWER_FOR_PLUS"===s?(0,t.jsx)("div",{className:"flex justify-end items-center bg-background-200 p-4 border-t mt-2",children:(0,t.jsx)(i.RequestRoleButton,{teamRole:"MEMBER",variant:"modal"})}):null]})})})}e.s(["AdditionalPermissionsRequiredModal",()=>s])},1068837,e=>{"use strict";var t=e.i(6468255),i=e.i(1717203),r=e.i(8556491);function a(e){let{actionLabel:a,permissionChecks:l}=e,{can:n,isLoading:s,accessInfo:o}=(0,i.default)(),d=l.every(e=>{let[t,i]=e;return n(t,i)});return s||d?null:(0,t.jsx)(r.AdditionalPermissionsRequiredModal,{role:o?.role,team:o?.team??void 0,actionLabel:a})}e.s(["AdditionalPermissionsRequiredModalClient",()=>a])}]);

//# sourceMappingURL=233a92344a9303da.js.map
//# debugId=b542916d-d6fc-5382-89b9-8624fad3779d
