
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a28b7164-c2e6-51e5-891b-24cda98987e9")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2652226,e=>{"use strict";var t=e.i(6468255),r=e.i(9722978),n=e.i(9508212),i=e.i(1344973),a=e.i(6362863),s=e.i(57106),o=e.i(4450569),l=e.i(6143247),u=e.i(60582);e.s(["default",0,function(e){let{backLink:d,breadcrumbs:c,buttons:m,buttonsClassName:f,buttonsStackDirection:p,buttonsStackStyle:g={},children:h,className:v,columnClassName:y,containerStyle:b={},controls:w,darkFold:x,description:j,fullWidth:C,headerClassName:S,hideControlsOnMobile:N,message:O,noBorder:D=!1,noMargin:E,title:T,titleClassName:k,truncateTitle:P,updatedStyles:R,unauthenticated:M=!1,dashPreventButtonPortaling:I=!1}=e;return M||!u.IS_DASH||I?(0,t.jsxs)("div",{className:(0,r.clsx)(v),style:b,children:[(0,t.jsxs)("header",{className:(0,l.cn)(S,"text-gray-1000",{"w-auto px-[var(--geist-gap)]":C,"border-0 border-b border-solid border-b-gray-alpha-400":!D,"bg-background-200":R}),children:[(0,t.jsx)(o.default,{wrapper:!C,children:(0,t.jsxs)(n.Stack,{align:{sm:"stretch",md:"flex-start",lg:"center"},className:(0,l.cn)("mx-0 my-10",k),direction:{sm:"column",lg:"row"},gap:{sm:6,md:6,lg:10},children:[(0,t.jsxs)(n.Stack,{className:(0,r.clsx)(y),direction:"column",flex:1,gap:d||c?3:4,style:{minWidth:P?0:void 0,width:"100%"},children:[d?(0,t.jsx)(s.Link,{className:"w-max",href:d.href,children:(0,t.jsxs)(n.Stack,{align:"center",direction:"row",gap:2,children:[(0,t.jsx)(a.ArrowLeft,{color:"blue-900"}),(0,t.jsx)(i.Text,{color:"blue-900",variant:"label-14",children:d.label})]})}):null,c,"string"==typeof T?(0,t.jsx)(i.Text,{as:"h1",size:32,title:P?T:void 0,truncate:P,weight:500,wrap:!P,children:T}):T,!!j&&(0,t.jsx)("span",{className:"text-gray-900",children:j})]}),!!m&&(0,t.jsx)(n.Stack,{className:(0,r.clsx)(f),direction:p||{sm:"column",md:"row",lg:"row"},gap:{sm:4,md:4,lg:4},style:{flexWrap:"wrap",...g},children:m})]})}),O?(0,t.jsx)("div",{className:(0,l.cn)("mx-auto my-0 w-[var(--geist-page-width-with-margin)] max-w-full px-6 py-0",{"w-auto":C}),children:O}):null,w?(0,t.jsx)("div",{className:(0,l.cn)("mx-auto my-0 flex w-[var(--geist-page-width-with-margin)] max-w-full flex-row items-center justify-between p-0",{"w-auto":C,"justify-center md:justify-between":!w||N}),children:w?(0,t.jsx)("div",{className:(0,l.cn)("grow",{"hidden md:block":N}),children:w}):(0,t.jsx)("div",{})}):null]}),x||h?(0,t.jsx)("div",{className:(0,r.clsx)({"bg-background-200 px-0 py-6":x}),children:(0,t.jsx)("div",{className:(0,l.cn)("mx-auto my-6 min-h-[calc(100vh-366px)] w-[var(--geist-page-width-with-margin)] max-w-full px-6 py-0 md:min-h-[calc(100vh-273px)]",{"w-auto p-0":C,"mt-0":!!E,"flex flex-col my-0":x}),children:h})}):null]}):(0,t.jsx)("div",{className:"py-10 px-6 empty:h-4 empty:p-0",children:h})}])},1542949,e=>{"use strict";var t=e.i(9100551),r=e.i(5348482),n=e.i(4660689);function i(){let e=(0,t.useParams)(),i=(0,t.useSearchParams)(),a=(0,r.useComputeQueryBuilderParams)();return function(t){let{additionalParams:r,removeExistingParams:s,projectSlug:o,ignoreProject:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=o||e?.project,d=u&&!l?`/${e?.teamSlug}/${u}/observability`:`/${e?.teamSlug}/~/observability`,c=new URLSearchParams;s||i?.forEach((e,t)=>{n.EXCLUDED_NAVIGATION_PARAMS.includes(t)||c.set(t,e)});let m=t.startsWith("/")?t:`/${t}`;return"/query"===m&&a(c),r&&Object.entries(r).forEach(e=>{let[t,r]=e;void 0!==r&&c.set(t,r)}),`${d}${m}${c.size?`?${c.toString()}`:""}`}}e.s(["useO11yNavigation",()=>i])},1246255,7239573,e=>{"use strict";var t=e.i(1511518),r=e.i(516467);function n(e,n,i){let a=(0,r.toDate)(e,i?.in);return a.setTime(a.getTime()+n*t.millisecondsInMinute),a}function i(e,t,r){return n(e,-t,r)}e.s(["addMinutes",()=>n],7239573),e.s(["subMinutes",()=>i],1246255)},5481907,e=>{"use strict";var t=e.i(6696646),r=e.i(3911483),n=e.i(277234),i=e.i(4244280),a=e.i(1233856),s=e.i(3737038),o=e.i(1511518),l=e.i(1667062),u=e.i(7239573),d=e.i(6092370),c=e.i(268049),m=e.i(1246255),f=e.i(818351),p=e.i(9667097),g=e.i(2749380),h=e.i(5297450),v=e.i(8151845),y=e.i(4337458),b=e.i(9100551),w=e.i(9486194),x=e.i(8690335),j=e.i(1813317),C=e.i(5269510);let S=e=>(r,n,i)=>{let a=(0,t.useRef)(void 0),s=e(r,n,i);(0,t.useEffect)(()=>{void 0!==s.data&&Array.isArray(r)&&r[1]&&(a.current=s.data)},[s.data,r]);let o=(0,t.useCallback)(()=>{a.current=void 0},[]);Array.isArray(r)&&!r[1]&&(a.current=void 0);let l=void 0===s.data?a.current:s.data,u=void 0===s.data&&void 0!==a.current;return Object.assign(s,{currentData:l,isLagging:u,resetLaggy:o})};function N(e,r){let n,i=(0,t.useMemo)(()=>{if(e)return{...e}},[e]),m=(n=(0,b.useSearchParams)(),(0,t.useCallback)(e=>{let{rollups:t,by:r,event:i,filter:a}=e;if(!t||!i||!w.queryBuilderEvents.includes(i))return;let s=(0,j.getGroupableDimensions)(i);if(a&&(0,x.parseFilters)(a).some(e=>!s.includes(e.dimension)))return;r=r?.filter(e=>s.includes(e));let o=n?.get("period"),l=n?.get("from"),u=n?.get("to"),d=l&&u?{from:new Date(1e3*Number(l)),to:new Date(1e3*Number(u))}:o;return Object.entries(t).reduce((e,t)=>{let[n,s]=t,{measure:o,aggregation:l}=s;return e[n]={metric:`${i}.${o}`,by:r||[],filter:a||"",aggregation:l,time:d||""},e},{})},[n])),{start:C,end:S,isRelativeTime:N}=(0,v.useRangeFromQueryState)(),[{environment:O}]=(0,v.useSonarQueryState)(),D=(0,y.useSonarQueryScopeWithSlug)(),E=(0,y.useSonarQueryScope)(),T=(0,h.useShouldShowDemoData)();if(i&&!i.scope&&(i.scope=D),i){let e=i.startTime||C,t=i.endTime||S;i.granularity=i.granularity||(0,g.getGranularityFromDuration)(Math.round(t.getTime()-e.getTime()),i.lowGranularity),i.startTime=(0,a.startOfDuration)(i.startTime||e,i.granularity),i.endTime=(0,a.endOfDuration)(i.endTime||t,i.granularity)}i&&!i.reason&&(i.reason="observability_chart");let k=r?.noEnvironmentFilter===!0,P=r?.builderQueryFilter||i?.filter;if(i&&"all"!==O&&!k&&(i.filter=(0,d.andFilterStrings)(`environment eq '${O}'`,i.filter),P=(0,d.andFilterStrings)(`environment eq '${O}'`,P)),i&&(i.filter=(0,d.andFilterStrings)(i.filter,(0,d.serializeObjectFilter)(i.contextFilter)),P=(0,d.andFilterStrings)(P,(0,d.serializeObjectFilter)(i.contextFilter)),E?.type==="project"&&(P=(0,d.andFilterStrings)(`projectId eq '${E.projectIds[0]}'`,P)),r?.useQueryCache))try{{let e=new URLSearchParams(window.location.search).get("queryId");e&&(i.queryId=e)}}catch{}let R=m({event:i?.event,rollups:i?.rollups,by:i?.groupBy?.filter(e=>"projectName"!==e),filter:P}),M=i?.granularity&&N?(0,c.milliseconds)(i.granularity):0,I=!!((r?.showDemoData||T)&&r?.demoConfig),F=(0,t.useMemo)(()=>!i||I?null:JSON.stringify(i),[i,I]),{isLoading:A,...L}=(0,f.useIsomorphicSWR)(F,async()=>{if(i?.scope)return(0,p.getSonarData)(i)},{refreshInterval:r?.disableRefetch===!0?0:M,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateIfStale:!1,keepPreviousData:!0,errorRetryCount:0,ssr:{timeout:4e3}}),_=(r?.showDemoData||T)&&r?.demoConfig&&i?JSON.stringify({event:i.event,by:i.groupBy,rollups:i.rollups,durationMs:i.endTime&&i.startTime?i.endTime.getTime()-i.startTime.getTime():0,granularity:i.granularity}):null,W=(0,t.useMemo)(()=>{if(_&&r?.demoConfig)return function(e,t){let r,{startTime:n,endTime:i,granularity:a,groupBy:d=[]}=e,c=(r=(0,l.differenceInMilliseconds)(i,n)/o.millisecondsInMinute,(0,s.getRoundingMethod)(void 0)(r)),m=a.minutes||15,f=Math.ceil(c/m/("lowGranularity"in e?4:1)),p=[],g=[],h=Object.keys(t.rollups),v=0,y=e=>!!e&&"object"==typeof e&&"base"in e&&"variation"in e&&"number"==typeof e.base&&"number"==typeof e.variation,b=(e=>{if(0===e.length)return[{}];let r=[{}];for(let n of e){let e=[];if(t.groupValues?.[n])e=t.groupValues[n];else{let r=new Set;for(let e of Object.values(t.rollups))if(!y(e)&&e.groupConfigs){let t=e.groupConfigs;t[n]&&Object.keys(t[n]).forEach(e=>{r.add(e)})}e=Array.from(r)}if(0===e.length)throw Error(`No values found for group field "${n}". Please provide groupValues or groupConfigs for this field.`);let i=[];for(let t of r)for(let r of e)i.push({...t,[n]:r});r=i}return r})(d),w=e.rollups;for(let e of b){let r={...e},i={};for(let r=0;r<f;r++){let a=(0,u.addMinutes)(n,r*m),s={timestamp:a,...e};for(let r of h){let n,o=t.rollups[r],l=w[r];if(void 0===o)continue;if(y(o))n=o;else for(let[t,r]of(n=o.defaultConfig,Object.entries(e)))if(o.groupConfigs?.[t]?.[r]){n=o.groupConfigs[t][r];break}let{base:u=0,variation:d=0,diurnalPattern:c=!1}=n,m=u+(Math.random()-.5)*d;c&&(m*=1+.3*Math.sin(a.getHours()/24*Math.PI*2)),n.allowNegative||(m=Math.max(0,m));let f=l?.aggregation;"sum"===f?m=Math.round(m):"avg"===f||("p75"===f?m+=Math.random()*d*.5:m=Math.round(m)),s[r]=m,i[r]||(i[r]=[]),i[r].push(m),v+=m}p.push(s)}for(let e of h){let t=i[e],n=w[e],a=n?.aggregation,s=null;if(t&&0!==t.length)switch(a){case"avg":s=t.reduce((e,t)=>e+t,0)/t.length;break;case"p75":{t.sort((e,t)=>e-t);let e=Math.floor(.75*(t.length-1));s=t[e]||0;break}default:s=t.reduce((e,t)=>e+t,0)}else s=null;r[e]=s||0}g.push(r)}return{data:e.summaryOnly?void 0:p,query:e,summary:g,statistics:{rowsRead:v,bytesRead:46*v,dbTimeSeconds:.1+.1*Math.random(),engineTimeSeconds:.1+.1*Math.random(),queryTable:"demo"}}}(i,r.demoConfig)},[_]);return W?{...L,isRelativeTime:!0,data:W,isLoading:!1}:{...L,builderQuery:R,isRelativeTime:N,isLoading:A||L.isValidating||!i?.scope}}function O(e,t){let n=(0,y.useSonarQueryScope)();return e&&!e.scope&&(e.scope=n),(0,r.default)(e?[e,t]:null,async e=>{let[r]=e;if(t){let e=new Date,t=(0,a.endOfDuration)((0,m.subMinutes)(e,1),{seconds:10});r.startTime=(0,a.startOfDuration)(new Date(e.getTime()-6e5),{seconds:10}),r.endTime=t}if(r.scope)return(0,p.getSonarData)(r)},{refreshInterval:e?.granularity&&t?(0,c.milliseconds)({seconds:8}):0,revalidateOnFocus:!1,revalidateOnReconnect:!1,use:[S],onErrorRetry:(e,t,r,n,i)=>{let{retryCount:a}=i;401===e.status||403===e.status||a>=3||setTimeout(()=>void n({retryCount:a}),2500)}})}function D(){let e=(0,v.useRangeFromQueryState)(),t=(0,y.useSonarQueryScope)(),[{environment:s}]=(0,v.useSonarQueryState)(),o={minutes:15},l={from:(0,a.startOfDuration)(e.start,o),to:(0,a.endOfDuration)(e.end,o),scope:t,environment:s};return{isRelativeTime:e.isRelativeTime,...(0,r.default)(l,async e=>{if(e.scope)return await (0,n.fetchAPI)(`${i.API_OBSERVABILITY_BUILD_DIAGNOSTICS}?${(0,C.stringify)((0,p.getSonarTeamParam)(e.scope))}`,{method:"POST",body:JSON.stringify(e),throwOnHTTPError:!0})},{refreshInterval:0,revalidateOnFocus:!1,revalidateOnReconnect:!1})}}e.s(["useBuildDiagnostics",()=>D,"useSonarLiveQuery",()=>O,"useSonarQuery",()=>N],5481907)},7348630,e=>{"use strict";var t=e.i(516467);function r(e,r){return+(0,t.toDate)(e)>+(0,t.toDate)(r)}e.s(["isAfter",()=>r])},7622186,e=>{"use strict";var t=e.i(7432042),r=e.i(1509029);function n(e){let n,i,{team:a,hasObservabilityPlusAccess:s,observabilityMaximumLookbackFlag:o}=e;if(n=s?r.PlusRetention:a.billing?.plan==="pro"?r.FreeProRetention:a.billing?.plan==="enterprise"?r.FreeEntRetention:r.FreeHobbyRetention,"inherit"===o)return n;try{i=(0,t.default)(o)}catch(e){console.error("Failed to parse observability-maximum-lookback flag. Defaulting to plan settings"),i=n}return i>(0,t.default)("90d")&&(i=(0,t.default)("90d")),i}e.s(["getMaximumLookback",()=>n])},2731997,e=>{"use strict";var t=e.i(6468255),r=e.i(9100551),n=e.i(4313344),i=e.i(8151845);function a(e){let{allowAll:a=!0}=e,[s,o]=(0,i.useSonarQueryState)();if("/notebooks"!==((0,r.usePathname)()?.split("observability").pop()||""))return(0,t.jsx)(n.EnvironmentSelector,{allowAll:a,environment:s.environment,onChange:e=>{o({environment:e})}})}e.s(["EnvironmentSelect",()=>a])},3470411,e=>{"use strict";var t=e.i(6468255),r=e.i(8412040),n=e.i(9100551),i=e.i(4597921),a=e.i(5338940),s=e.i(5033426),o=e.i(7348630),l=e.i(1794286),u=e.i(7432042),d=e.i(6696646),c=e.i(8151845),m=e.i(2126130),f=e.i(7622186),p=e.i(2749380);e.i(6728635);var g=e.i(2630141),h=e.i(1509029);e.i(6483798);var v=e.i(8287059);function y(){let e=(0,v.useOpenUpgradeModal)(),[r,y]=(0,c.useSonarQueryState)(),{start:b,end:w}=(0,c.useRangeFromQueryState)(),{team:x}=(0,a.useTeam)(),{hasObservabilityPlusAccessOnCurrentProject:j,ready:C}=(0,m.useHasObservabilityPlus)(),S=(0,g.useOpenEnableModal)(),N=(0,i.useServerFlag)("observability-maximum-lookback","inherit"),O=(0,d.useMemo)(()=>{if(!x)return new Date;let e=(0,f.getMaximumLookback)({team:x,hasObservabilityPlusAccess:j,observabilityMaximumLookbackFlag:N});return new Date(Date.now()-e)},[x,j,N]);if((0,d.useEffect)(()=>{if(C&&x&&b<O&&!j){let e=Object.keys((0,p.getTimeRangePresets)())[0];(0,s.track)("Observability Changed Date Range Period",{period:e}),y({period:e})}},[O,y,b,x,j,C]),"/notebooks"===((0,n.usePathname)()?.split("observability").pop()||""))return;let D=Object.entries((0,p.getTimeRangePresets)()).filter(e=>{let[t,r]=e;return!j||(0,o.isAfter)(r.start,O)}).map(e=>{let[t,r]=e;return{key:t,...r,needsUpgrade:r.start.getTime()<O.getTime()}}),E=(()=>{if(x?.billing?.plan==="hobby"){let t=Date.now()-h.FreeProRetention;return[{presets:D.filter(e=>!e.needsUpgrade)},{title:"Upgrade to Pro",divider:!0,presets:D.filter(e=>e.needsUpgrade&&e.start.getTime()>=t).map(t=>({...t,onClick:()=>{e({teamHint:x.id,source:"observability-period-filter",onConversionSuccess:()=>{y({period:t.key})}})}}))},{title:"Observability Plus",presets:D.filter(e=>e.needsUpgrade&&e.start.getTime()<t).map(e=>({...e,onClick:()=>{S({via:"date-range-select",upgradeUseCase:"retention"})}}))}]}let t=D.filter(e=>e.needsUpgrade);return t.length?[{presets:D.filter(e=>!e.needsUpgrade)},{title:"Observability Plus",divider:!0,presets:t.map(e=>({...e,onClick:()=>{S({via:"date-range-select",upgradeUseCase:"retention"})}}))}]:[{presets:D}]})(),T=r.period?D.find(e=>e.key===r.period)?.key:void 0;return(0,t.jsx)(l.Calendar,{allowClear:!1,compact:!0,minValue:O,onChange:(e,t)=>{let r=new Date(e.start),n=new Date(e.end);t?((0,s.track)("Observability Changed Date Range Period",{period:t}),y({period:t})):((0,s.track)("Observability Changed Date Range Period",{period:(0,u.default)(n.getTime()-r.getTime())}),y({from:r,to:n}))},popoverAlignment:"center",presetKey:T,presets:E,value:{start:b,end:w},width:"190px"},"date-range-select-o11y")}var b=e.i(2731997),w=e.i(2807115);function x(e){let{children:i,hideEnvironmentSelect:a,hideOptionsMenu:s}=e,o=(0,n.usePathname)()?.split("observability").pop()||"",l=!a&&!o.startsWith("/alerts")&&!o.startsWith("/query"),u=!o.startsWith("/alerts")&&!o.startsWith("/query");return(0,t.jsx)("div",{className:"w-full md:w-auto",children:(0,t.jsx)(r.MobileScrollWrapper,{className:"-mx-5 -my-2 md:mx-0",contentClassName:"md:!overflow-visible py-3  px-5 md:px-0",style:{"--overlay-color":"var(--ds-background-200-value)"},children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[i,l?(0,t.jsx)(b.EnvironmentSelect,{}):null,u?(0,t.jsx)(y,{}):null,s?null:(0,t.jsx)(w.OptionsMenu,{})]})})})}e.s(["HeaderControls",()=>x],3470411)},2807115,e=>{"use strict";var t=e.i(6468255),r=e.i(8674454),n=e.i(6694387),i=e.i(4991687),a=e.i(8459493),s=e.i(5468328),o=e.i(8876434),l=e.i(6143247),u=e.i(6696646),d=e.i(2126130),c=e.i(9100551);e.i(6728635);var m=e.i(2630141);e.i(3182268);var f=e.i(7849855),p=e.i(7114658),g=e.i(1717203),h=e.i(7557283),v=e.i(6891161),y=e.i(8522580);let b=e=>{let{active:r,projectName:n,onClose:i,onConfirm:a}=e,[s,o]=(0,u.useState)(!1),l=async()=>{o(!0);try{await a(),i()}finally{o(!1)}};return(0,t.jsxs)(v.Modal.Modal,{active:r,onClickOutside:i,width:"500px",children:[(0,t.jsx)(v.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(v.Modal.Title,{children:"Exclude Project from Observability Plus?"}),(0,t.jsxs)("p",{children:["Excluding ",(0,t.jsx)("strong",{children:n})," from Observability Plus will disable the following features for this project:"]}),(0,t.jsxs)(y.Note,{type:"warning",children:[(0,t.jsx)("strong",{children:"Anomaly Alerts"})," will stop being sent"]}),(0,t.jsx)(y.Note,{type:"warning",children:"Logs retention will decrease from 14 days to 3 days"}),(0,t.jsx)(y.Note,{type:"warning",children:"Data will no longer appear in the Query Builder"}),(0,t.jsx)("p",{children:"You can re-enable Observability Plus for this project at any time."})]})}),(0,t.jsxs)(v.Modal.Actions,{children:[(0,t.jsx)(v.Modal.Action,{disabled:s,onClick:i,type:"secondary",children:"Cancel"}),(0,t.jsx)(v.Modal.Action,{disabled:s,loading:s,onClick:l,type:"error",children:"Exclude Project"})]})]})};function w(e){let{children:s,className:f}=e,p=(0,c.useParams)(),{hasObservabilityPlusAccess:g,impersonating:h,hasObservabilityPlusSubscribed:v}=(0,d.useHasObservabilityPlus)(),y=(0,m.useOpenEnableModal)(),[b,w]=(0,u.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.MenuContainer,{position:"bottom-end",children:[(0,t.jsx)(n.MenuButton,{"aria-label":"More Actions",className:(0,l.cn)("shrink-0",f),shape:"square",svgOnly:!0,type:"secondary",children:(0,t.jsx)(o.MoreHorizontal,{})}),(0,t.jsxs)(r.Menu,{width:230,children:[s,g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.MenuItem,{isLink:!0,href:`/${p?.teamSlug}/~/settings/billing#observability`,children:"Configure Observability Plus"}),(0,t.jsx)(x,{onOpenExcludeModal:()=>w(!0)})]}):null,g&&(!h||v)?null:(0,t.jsx)(a.MenuItem,{onClick:()=>y({via:"header-menu"}),children:"Upgrade to Observability Plus"})]})]}),(0,t.jsx)(j,{active:b,onClose:()=>w(!1)})]})}function x(e){let{onOpenExcludeModal:r}=e,{can:n,isLoading:i}=(0,g.default)(),{isObservabilityPlusForProjectsFlagEnabled:s,toggleObservabilityPlusForProject:o,isCurrentProjectExcluded:l,isValidating:u}=(0,p.useObservabilityPlusForProjects)(),{projectSlug:d}=(0,f.useProjectSlug)();if(!s||!d)return null;let c=!i&&n(h.Action.Update,h.Resource.ObservabilityConfiguration);return l?(0,t.jsx)(a.MenuItem,{disabled:!c||u||i,onClick:()=>{d&&o({projectName:d,disabled:!1})},children:(0,t.jsx)(C,{text:c?void 0:"Please ask your team owners",children:"Include Project in Plus"})}):(0,t.jsx)(a.MenuItem,{disabled:!c||u||i,onClick:r,type:"error",children:(0,t.jsx)(C,{text:c?void 0:"Please ask your team owners",children:"Exclude Project from Plus"})})}function j(e){let{active:r,onClose:n}=e,{toggleObservabilityPlusForProject:i}=(0,p.useObservabilityPlusForProjects)(),{projectSlug:a}=(0,f.useProjectSlug)();return a?(0,t.jsx)(b,{active:r,projectName:a,onClose:n,onConfirm:async()=>{a&&await i({projectName:a,disabled:!0})}}):null}function C(e){let{text:r,children:n}=e;return r?(0,t.jsx)(s.Tooltip,{text:r,children:n}):n}e.s(["OptionsMenu",()=>w],2807115)},4313344,e=>{"use strict";var t=e.i(6468255),r=e.i(6881349);let n={production:"Production",preview:"Preview",all:"All environments"};function i(e){var i;let{environment:a,onChange:s,allowAll:o=!0}=e;return(0,t.jsxs)(r.Combobox,{clearable:!1,value:a,noInputPrefix:!0,width:"preview"===(i=a)?"101px":"production"===i?"120px":"160px",onChange:e=>{e&&Object.keys(n).includes(e)&&s(e)},noRawSelectedValue:!0,children:[(0,t.jsx)(r.Combobox.Input,{}),(0,t.jsx)(r.Combobox.List,{maxWidth:300,children:Object.entries(n).filter(e=>{let[t]=e;return o||"all"!==t}).map(e=>{let[n,i]=e;return(0,t.jsx)(r.Combobox.Option,{value:n,children:i},n)})})]})}e.s(["EnvironmentSelector",()=>i])},8250954,e=>{"use strict";var t=e.i(9487122);function r(e){return(0,t.constructFrom)(e,Date.now())}e.s(["constructNow",()=>r])},2812875,e=>{"use strict";var t=e.i(4495794);function r(e,r,n){return(0,t.addMonths)(e,-r,n)}e.s(["subMonths",()=>r])},8355955,e=>{e.v({previous:"Previous",next:"Next",selectedDateDescription:"Selected Date: {date, date, full}",selectedRangeDescription:"Selected Range: {start, date, long} to {end, date, long}",todayDate:"Today, {date, date, full}",todayDateSelected:"Today, {date, date, full} selected",dateSelected:"{date, date, full} selected",startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range"})},6995468,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 0.5V1.25V2H10.5V1.25V0.5H12V1.25V2H14H15.5V3.5V13.5C15.5 14.8807 14.3807 16 13 16H3C1.61929 16 0.5 14.8807 0.5 13.5V3.5V2H2H4V1.25V0.5H5.5ZM2 3.5H14V6H2V3.5ZM2 7.5V13.5C2 14.0523 2.44772 14.5 3 14.5H13C13.5523 14.5 14 14.0523 14 13.5V7.5H2Z" fill="currentColor"/>');e.s(["Calendar",0,t])},1019550,(e,t,r)=>{var n=e.r(9225935),i=e.r(1716110),a=e.r(5697125),s=Math.ceil,o=Math.max;t.exports=function(e,t,r){t=(r?i(e,t,r):void 0===t)?1:o(a(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var u=0,d=0,c=Array(s(l/t));u<l;)c[d++]=n(e,u,u+=t);return c}},4498440,e=>{"use strict";var t,r=e.i(6696646);function n(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var i=e.i(7430406),a=e.i(7079014),s=e.i(1315599),o=e.i(4393136),l=e.i(3222420),u=e.i(4938657),d=e.i(237982),c=e.i(6468255),m="dismissableLayer.update",f=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),p=r.forwardRef((e,a)=>{let{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:y,onDismiss:b,...w}=e,x=r.useContext(f),[j,C]=r.useState(null),S=j?.ownerDocument??globalThis?.document,[,N]=r.useState({}),O=(0,i.useComposedRefs)(a,e=>C(e)),D=Array.from(x.layers),[E]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),T=D.indexOf(E),k=j?D.indexOf(j):-1,P=x.layersWithOutsidePointerEventsDisabled.size>0,R=k>=T,M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document,n=(0,u.useCallbackRef)(e),i=r.useRef(!1),a=r.useRef(()=>{});return r.useEffect(()=>{let e=e=>{if(e.target&&!i.current){let r=function(){h("dismissableLayer.pointerDownOutside",n,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=r,t.addEventListener("click",a.current,{once:!0})):r()}else t.removeEventListener("click",a.current);i.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}(e=>{let t=e.target,r=[...x.branches].some(e=>e.contains(t));R&&!r&&(p?.(e),y?.(e),e.defaultPrevented||b?.())},S),I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document,n=(0,u.useCallbackRef)(e),i=r.useRef(!1);return r.useEffect(()=>{let e=e=>{e.target&&!i.current&&h("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{let t=e.target;![...x.branches].some(e=>e.contains(t))&&(v?.(e),y?.(e),e.defaultPrevented||b?.())},S);return(0,d.useEscapeKeydown)(e=>{k===x.layers.size-1&&(o?.(e),!e.defaultPrevented&&b&&(e.preventDefault(),b()))},S),r.useEffect(()=>{if(j)return s&&(0===x.layersWithOutsidePointerEventsDisabled.size&&(t=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(j)),x.layers.add(j),g(),()=>{s&&1===x.layersWithOutsidePointerEventsDisabled.size&&(S.body.style.pointerEvents=t)}},[j,S,s,x]),r.useEffect(()=>()=>{j&&(x.layers.delete(j),x.layersWithOutsidePointerEventsDisabled.delete(j),g())},[j,x]),r.useEffect(()=>{let e=()=>N({});return document.addEventListener(m,e),()=>document.removeEventListener(m,e)},[]),(0,c.jsx)(l.Primitive.div,{...w,ref:O,style:{pointerEvents:P?R?"auto":"none":void 0,...e.style},onFocusCapture:n(e.onFocusCapture,I.onFocusCapture),onBlurCapture:n(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:n(e.onPointerDownCapture,M.onPointerDownCapture)})});function g(){let e=new CustomEvent(m);document.dispatchEvent(e)}function h(e,t,r,n){let{discrete:i}=n,a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),i?(0,l.dispatchDiscreteCustomEvent)(a,s):a.dispatchEvent(s)}p.displayName="DismissableLayer",r.forwardRef((e,t)=>{let n=r.useContext(f),a=r.useRef(null),s=(0,i.useComposedRefs)(t,a);return r.useEffect(()=>{let e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,c.jsx)(l.Primitive.div,{...e,ref:s})}).displayName="DismissableLayerBranch";var v=e.i(1004168),y=e.i(9771370),b=e.i(943988),w=e=>{var t;let n,a,{present:s,children:o}=e,l=function(e){var t,n;let[i,a]=r.useState(),s=r.useRef(null),o=r.useRef(e),l=r.useRef("none"),[u,d]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>n[e][t]??e,t));return r.useEffect(()=>{let e=x(s.current);l.current="mounted"===u?e:"none"},[u]),(0,b.useLayoutEffect)(()=>{let t=s.current,r=o.current;if(r!==e){let n=l.current,i=x(t);e?d("MOUNT"):"none"===i||t?.display==="none"?d("UNMOUNT"):r&&n!==i?d("ANIMATION_OUT"):d("UNMOUNT"),o.current=e}},[e,d]),(0,b.useLayoutEffect)(()=>{if(i){let e,t=i.ownerDocument.defaultView??window,r=r=>{let n=x(s.current).includes(CSS.escape(r.animationName));if(r.target===i&&n&&(d("ANIMATION_END"),!o.current)){let r=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=r)})}},n=e=>{e.target===i&&(l.current=x(s.current))};return i.addEventListener("animationstart",n),i.addEventListener("animationcancel",r),i.addEventListener("animationend",r),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",n),i.removeEventListener("animationcancel",r),i.removeEventListener("animationend",r)}}d("ANIMATION_END")},[i,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:r.useCallback(e=>{s.current=e?getComputedStyle(e):null,a(e)},[])}}(s),u="function"==typeof o?o({present:l.isPresent}):r.Children.only(o),d=(0,i.useComposedRefs)(l.ref,(t=u,(a=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(a=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof o||l.isPresent?r.cloneElement(u,{ref:d}):null};function x(e){return e?.animationName||"none"}w.displayName="Presence";var j=0;function C(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var S=e.i(5097496),N=e.i(73772),O=e.i(8665489),D="Dialog",[E,T]=(0,a.createContextScope)(D),[k,P]=E(D),R=e=>{let{__scopeDialog:t,children:n,open:i,defaultOpen:a,onOpenChange:l,modal:u=!0}=e,d=r.useRef(null),m=r.useRef(null),[f,p]=(0,o.useControllableState)({prop:i,defaultProp:a??!1,onChange:l,caller:D});return(0,c.jsx)(k,{scope:t,triggerRef:d,contentRef:m,contentId:(0,s.useId)(),titleId:(0,s.useId)(),descriptionId:(0,s.useId)(),open:f,onOpenChange:p,onOpenToggle:r.useCallback(()=>p(e=>!e),[p]),modal:u,children:n})};R.displayName=D;var M="DialogTrigger",I=r.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=P(M,r),o=(0,i.useComposedRefs)(t,s.triggerRef);return(0,c.jsx)(l.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ee(s.open),...a,ref:o,onClick:n(e.onClick,s.onOpenToggle)})});I.displayName=M;var F="DialogPortal",[A,L]=E(F,{forceMount:void 0}),_=e=>{let{__scopeDialog:t,forceMount:n,children:i,container:a}=e,s=P(F,t);return(0,c.jsx)(A,{scope:t,forceMount:n,children:r.Children.map(i,e=>(0,c.jsx)(w,{present:n||s.open,children:(0,c.jsx)(y.Portal,{asChild:!0,container:a,children:e})}))})};_.displayName=F;var W="DialogOverlay",H=r.forwardRef((e,t)=>{let r=L(W,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=P(W,e.__scopeDialog);return a.modal?(0,c.jsx)(w,{present:n||a.open,children:(0,c.jsx)(U,{...i,ref:t})}):null});H.displayName=W;var $=(0,O.createSlot)("DialogOverlay.RemoveScroll"),U=r.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=P(W,r);return(0,c.jsx)(S.RemoveScroll,{as:$,allowPinchZoom:!0,shards:[i.contentRef],children:(0,c.jsx)(l.Primitive.div,{"data-state":ee(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),V="DialogContent",B=r.forwardRef((e,t)=>{let r=L(V,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=P(V,e.__scopeDialog);return(0,c.jsx)(w,{present:n||a.open,children:a.modal?(0,c.jsx)(Q,{...i,ref:t}):(0,c.jsx)(q,{...i,ref:t})})});B.displayName=V;var Q=r.forwardRef((e,t)=>{let a=P(V,e.__scopeDialog),s=r.useRef(null),o=(0,i.useComposedRefs)(t,a.contentRef,s);return r.useEffect(()=>{let e=s.current;if(e)return(0,N.hideOthers)(e)},[]),(0,c.jsx)(z,{...e,ref:o,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:n(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:n(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:n(e.onFocusOutside,e=>e.preventDefault())})}),q=r.forwardRef((e,t)=>{let n=P(V,e.__scopeDialog),i=r.useRef(!1),a=r.useRef(!1);return(0,c.jsx)(z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||n.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));let r=t.target;n.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),z=r.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,u=P(V,n),d=r.useRef(null),m=(0,i.useComposedRefs)(t,d);return r.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??C()),document.body.insertAdjacentElement("beforeend",e[1]??C()),j++,()=>{1===j&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),j--}},[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(v.FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:o,children:(0,c.jsx)(p,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":ee(u.open),...l,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ei,{titleId:u.titleId}),(0,c.jsx)(ea,{contentRef:d,descriptionId:u.descriptionId})]})]})}),K="DialogTitle",G=r.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=P(K,r);return(0,c.jsx)(l.Primitive.h2,{id:i.titleId,...n,ref:t})});G.displayName=K;var J="DialogDescription",Z=r.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=P(J,r);return(0,c.jsx)(l.Primitive.p,{id:i.descriptionId,...n,ref:t})});Z.displayName=J;var Y="DialogClose",X=r.forwardRef((e,t)=>{let{__scopeDialog:r,...i}=e,a=P(Y,r);return(0,c.jsx)(l.Primitive.button,{type:"button",...i,ref:t,onClick:n(e.onClick,()=>a.onOpenChange(!1))})});function ee(e){return e?"open":"closed"}X.displayName=Y;var et="DialogTitleWarning",[er,en]=(0,a.createContext)(et,{contentName:V,titleName:K,docsSlug:"dialog"}),ei=e=>{let{titleId:t}=e,n=en(et),i=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return r.useEffect(()=>{t&&(document.getElementById(t)||console.error(i))},[i,t]),null},ea=e=>{let{contentRef:t,descriptionId:n}=e,i=en("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i.contentName}}.`;return r.useEffect(()=>{let e=t.current?.getAttribute("aria-describedby");n&&e&&(document.getElementById(n)||console.warn(a))},[a,t,n]),null};e.s(["Close",()=>X,"Content",()=>B,"Description",()=>Z,"Overlay",()=>H,"Portal",()=>_,"Root",()=>R,"Title",()=>G,"Trigger",()=>I],4498440)},7458020,e=>{"use strict";var t=e.i(6696646);e.s(["useScrollEnd",0,function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[n,i]=(0,t.useState)(!1),[a,s]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let t=e.current;if(!t)return;let n=()=>{i(t.scrollLeft+t.clientWidth+r>=t.scrollWidth),s(t.scrollLeft<=r)};return n(),t.addEventListener("scroll",n),window.addEventListener("resize",n),()=>{t.removeEventListener("scroll",n),window.removeEventListener("resize",n)}},[e,r]),{start:a,end:n}}])},806506,e=>{e.v({"scroll-content":"mobile-scroll-wrapper-module__7291Ja__scroll-content","tab-shadow-wrapper":"mobile-scroll-wrapper-module__7291Ja__tab-shadow-wrapper","tabs-shadow":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow","tabs-shadow--hidden":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow--hidden","tabs-shadow--left":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow--left",wrapper:"mobile-scroll-wrapper-module__7291Ja__wrapper"})},8412040,e=>{"use strict";var t=e.i(6468255),r=e.i(9722978),n=e.i(6696646),i=e.i(7458020),a=e.i(806506);function s(e){let{children:s,contentStyle:o,contentClassName:l,...u}=e,d=(0,n.useRef)(null),{start:c,end:m}=(0,i.useScrollEnd)(d,20);return(0,t.jsxs)("div",{className:(0,r.clsx)(a.default.wrapper,u.className),style:u.style,children:[(0,t.jsx)("div",{className:(0,r.clsx)(a.default["scroll-content"],l),ref:d,style:o,children:s}),(0,t.jsxs)("div",{className:a.default["tab-shadow-wrapper"],children:[(0,t.jsx)("div",{className:(0,r.clsx)(a.default["tabs-shadow"],a.default["tabs-shadow--left"],{[a.default["tabs-shadow--hidden"]]:c||!m})}),(0,t.jsx)("div",{className:(0,r.clsx)(a.default["tabs-shadow"],{[a.default["tabs-shadow--hidden"]]:m})})]})]})}e.s(["MobileScrollWrapper",()=>s])},9480899,e=>{"use strict";var t=e.i(6468255),r=e.i(7218483),n=e.i(6850581),i=e.i(6143247);function a(e){let{status:r}=e,n=(e=>{switch(e){case"completed":return"green";case"failed":return"red";case"running":case"paused":return"yellow";default:return"gray"}})(r);return(0,t.jsx)("span",{className:"size-4 flex items-center justify-center",children:(0,t.jsx)("span",{className:"size-2.5 flex-none rounded-full w-2 h-2",style:{backgroundColor:(e=>{switch(e){case"green":return"var(--ds-teal-600)";case"red":return"var(--ds-red-600)";case"yellow":return"var(--ds-amber-600)";default:return"var(--ds-gray-600)"}})(n)}})})}let s=e=>{let{value:r,className:n}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(a,{status:r}),(0,t.jsx)("span",{className:(0,i.cn)("text-label-14 capitalize text-gray-900",n),children:r})]})},o=e=>{let{value:i}=e,a=(0,r.useAgo)(i?.getTime(),{suffix:" ago",alwaysRelative:!0});return(0,t.jsx)(n.RelativeTimeCard,{date:i?.getTime(),children:(0,t.jsx)("span",{className:"text-label-14 text-gray-900",children:i?a:"-"})})};e.s(["DateCell",()=>o,"StatusCell",()=>s])},4879624,e=>{e.v("/_next/static/media/worker.e575ad4f.js")},9840583,5710208,e=>{"use strict";function t(e){let[t,r]=e;return 1e3*t+r/1e6}function r(e){return[Math.floor(e/1e3),e%1e3*1e3]}e.i(942336);let n=new Intl.NumberFormat(void 0,{maximumFractionDigits:2});function i(e){return 0===e?"0":e>=1e3?`${n.format(e/1e3)}s`:`${n.format(e)}ms`}let a=new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});function s(e){return e>=1e3?`${a.format(e/1e3)}s`:`${a.format(e)}ms`}e.s(["formatDuration",()=>i,"formatTimeSelection",()=>s,"getHighResInMs",()=>t,"getMsInHighRes",()=>r],5710208);let o=e=>{if(!e.events.length)return;let r=`${e.spanId}:ev`;return e.events.map((e,n)=>({key:`${r}${n}`,timestamp:t(e.timestamp),event:e})).sort((e,t)=>e.timestamp-t.timestamp)};e.s(["addToRow",0,(e,t,r)=>{let n=t.parent;for(let i=(n?.row||-1)+1;;++i){let n=e[i];if(n){if(!n.every(e=>{let{startTime:n,endTime:i}=e;return n+r>t.endTime||i-r<t.startTime}))continue}else n=[],e.push(n);t.row=i,n.push(t);break}},"adjustSpanVisibility",0,(e,t)=>(e.isVisible=!0,e.isHovered=!1,e.isVisible),"parseTrace",0,e=>{let{spans:n}=e,i={startTime:0,endTime:0,duration:0,depth:0,children:[]},a={},s=new Map,l=e=>{let t=s.get(e);if(t)return t;let r=s.size+1;return s.set(e,r),r},u=!1;for(let e of n){let r,n=t(e.startTime),s=t(e.endTime),d=t(e.duration);s>i.endTime&&(i.endTime=s,i.duration=s-i.startTime),(0===i.startTime||n<i.startTime)&&(i.startTime=n,i.duration=i.endTime-n);let c=e.resource.startsWith("vercel.");c||(u=!0);let m=c&&("vercel.serverless-runtime"!==e.resource||!("http.method"in e.attributes)),f=m?0:l(e.resource);m&&(r=`â–² ${e.name}`),a[e.spanId]={parent:null,startTime:n,endTime:s,duration:d,span:e,depth:0,label:r,events:o(e),isVercel:m,children:[],resourceIndex:f}}let d=(e,t)=>{let r;t&&(r=a[t])||(r=i),e.parent=r,r.children.push(e)},c=e=>{for(let t of("parent"in e&&(e.depth=e.parent.depth+1),e.children))c(t)},m=1,f=(e,t)=>{if("parent"in e&&e.span.name===t){let t=e.endTime,n=e=>e.children.length?e.children.map(n).sort((e,t)=>e.duration-t.duration)[0]||e:"waitUntil"===e.span.name?(t=e.startTime,e.parent):e,i=n(e),s=`instrumentation-hint-${m++}`,o=.05*e.duration,l=e.startTime+o,u=Math.max(l+o,Math.min(t-.01*e.duration,e.endTime-o)),d=u-l,c={parent:i,startTime:l,endTime:u,duration:d,span:{spanId:s,name:"Add your spans here",resource:"",kind:0,library:{name:""},status:{code:200},traceFlags:0,attributes:{},links:[],events:[],startTime:r(l),endTime:r(u),duration:r(d)},depth:e.depth+1,isVercel:!1,isInstrumentationHint:!0,children:[],resourceIndex:1};return i.children.push(c),a[s]=c,!0}for(let r of e.children)if(f(r,t))return!0;return!1};for(let e of Object.values(a))d(e,e.span.parentSpanId);if(c(i),!u){for(let e of["Invoke Function","Invoke Middleware","Vercel Runtime"])if(f(i,e))break}return{root:i,map:a}}],9840583)},6440184,e=>{"use strict";var t=e.i(6468255);e.i(4039354);var r=e.i(4329866);function n(e){let n=(0,r.parseWorkflowName)(e);return n?(0,t.jsxs)(t.Fragment,{children:[n.shortName,(0,t.jsx)("span",{className:"opacity-70 tracking-tight inline-block ps-3",children:n.path})]}):e}e.s(["prettyWorkflowName",()=>n])},9636648,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),n=e.i(8521184),i=e.i(2936702),a=e.i(3646124),s=e.i(7797615),o=e.i(5481907),l=e.i(1542949),u=e.i(8151845),d=e.i(9179929),c=e.i(9100551),m=e.i(6440184),f=e.i(8161149),p=e.i(3564505),g=e.i(57106);function h(e){let{showProjects:h,isWorkflowPage:v}=e,y=(0,l.useO11yNavigation)(),{teamSlug:b,project:w}=(0,c.useParams)()??{},[{environment:x}]=(0,u.useSonarQueryState)(),{data:j,isLoading:C}=(0,o.useSonarQuery)({event:"workflowOperation",rollups:{created:{measure:"count",aggregation:"sum",filter:"workflowEventType eq 'WORKFLOW_REQUEST'"},completed:{measure:"count",aggregation:"sum",filter:"workflowEventType eq 'WORKFLOW_RESPONSE' and workflowStatus eq 'success'"},failed:{measure:"count",aggregation:"sum",filter:"workflowEventType eq 'WORKFLOW_RESPONSE' and workflowStatus eq 'failed'"}},groupBy:h?["projectName","projectId"]:["workflowName"],limit:100,tailRollup:"truncate",lowGranularity:!0,summaryOnly:!1}),S=(0,d.useTableData)(j,{meta:{timeseries:{by:h?["projectName"]:["workflowName"]}}}),N=(0,r.useMemo)(()=>[{Header:h?"Project":"Workflow",accessor:h?"projectName":"workflowName",columnClassName:"pr-0",sortDescFirst:!1,Cell:v?a.DefaultCell:a.ColoredDotCell,cellFormatter:m.prettyWorkflowName},{Header:"Created",accessor:"created",columnClassName:"w-32 max-w-32 min-w-32",Cell:a.TimeseriesCell,cellFormatter:s.formatNumberCompact},{Header:"Completed",accessor:"completed",columnClassName:"w-32 max-w-32 min-w-32",Cell:a.TimeseriesCell,cellFormatter:s.formatNumberCompact},{Header:"Failed",accessor:"failed",columnClassName:"w-32 max-w-32 min-w-32",Cell:a.TimeseriesCell,cellFormatter:s.formatNumberCompact}],[h,v]);return C||S?.length?(0,t.jsx)("div",{className:"flex flex-col gap-y-4",children:(0,t.jsx)(i.SonarTable,{columns:N,data:S??[],defaultSort:[{id:"created",desc:!0}],getHref:e=>{let t="production"!==x?`?environment=${x}`:"",r=encodeURIComponent(String(e.workflowName));if(v)return`/${b}/${w}/ai/workflows/flows/${r}${t}`;let n="production"!==x?{environment:x}:{};return h?y("/workflows",{projectSlug:e.projectName,additionalParams:n}):y(`/workflows/${r}`,{additionalParams:n})},isLoading:C,plugins:[n.useGlobalFilter,n.useSortBy,n.usePagination]})}):(0,t.jsx)(f.EmptyState.Root,{className:"material-small",title:"No workflows found",description:"Build apps and AI Agents that can suspend, resume, and maintain state with the Workflow DevKit.",icon:(0,t.jsx)(f.EmptyState.Icon,{icon:(0,t.jsx)(p.Workflow,{size:32})}),children:(0,t.jsx)(g.ButtonLink,{href:"https://useworkflow.dev/",type:"secondary",target:"_blank",children:"Get Started"})})}e.s(["WorkflowTable",()=>h])},9784914,e=>{"use strict";var t=e.i(6468255),r=e.i(2652226),n=e.i(57106),i=e.i(3470411),a=e.i(2731997);e.s(["default",0,e=>{let{children:s}=e;return(0,t.jsx)(r.default,{title:"Workflows",description:(0,t.jsxs)(t.Fragment,{children:["Durability and reliability for your apps."," ",(0,t.jsx)(n.Link,{href:"https://useworkflow.dev/docs",variant:"highlight",external:!0,children:"Learn more"})]}),buttons:(0,t.jsx)(i.HeaderControls,{hideOptionsMenu:!0,hideEnvironmentSelect:!0,children:(0,t.jsx)(a.EnvironmentSelect,{allowAll:!1})}),noBorder:!0,noMargin:!0,children:s})}])},2634075,e=>{"use strict";var t=e.i(6468255),r=e.i(2936702),n=e.i(6696646),i=e.i(4030453),a=e.i(8521184),s=e.i(9480899),o=e.i(3646124),l=e.i(9100551);e.i(4039354);var u=e.i(1728812);function d(e){let{projectConfig:d,env:c}=e,m=(0,l.useSearchParams)(),f=m?.get("environment")??"production",p=(0,n.useMemo)(()=>({...c,WORKFLOW_VERCEL_ENV:f}),[c,f]),{data:g,reload:h}=(0,u.useWorkflowHooks)(p,{sortOrder:"desc",limit:100}),{data:v,isLoading:y,error:b}=g;(0,n.useEffect)(()=>{h()},[h,f]);let w=(0,n.useMemo)(()=>[{Header:"Hook ID",accessor:"hookId",columnClassName:"w-32",Cell:o.DefaultCell},{Header:"Run ID",accessor:"runId",columnClassName:"w-32",Cell:o.DefaultCell},{Header:"Token",accessor:"token",columnClassName:"w-24",Cell:o.DefaultCell},{Header:"Created",accessor:"createdAt",columnClassName:"w-24",Cell:s.DateCell}],[]),x=(0,n.useMemo)(()=>(v??[]).map(e=>({hookId:e.hookId,token:e.token,runId:e.runId,createdAt:new Date(e.createdAt)})),[v]);return b?(0,t.jsx)(i.Error,{error:b}):v?.length?(0,t.jsxs)("div",{className:"my-6",children:[(0,t.jsx)("h2",{className:"mb-4 text-heading-20",children:"Active Hooks"}),(0,t.jsx)(r.SonarTable,{columns:w,data:x,defaultSort:[{id:"createdAt",desc:!0}],isLoading:y,getHref:e=>`/${d.teamSlug}/${d.project}/ai/workflows/runs/${e.runId}?environment=${f}`,plugins:[a.usePagination],showSearch:!1})]}):null}e.s(["WorkflowHooksTable",()=>d])}]);

//# sourceMappingURL=0038ae6ef2eb6aa8.js.map
//# debugId=a28b7164-c2e6-51e5-891b-24cda98987e9
