
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e654f57c-090b-52a9-8e1e-b2489f8a5217")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5313122,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),s=e.i(8674454),o=e.i(6694387),n=e.i(4991687),i=e.i(8459493),c=e.i(9508212),a=e.i(1344973),l=e.i(57106),u=e.i(1918911),d=e.i(9722978),p=e.i(4004502),h=e.i(5927860),m=e.i(9668517),g=e.i(6048771),x=e.i(7849855),y=e.i(1919132),j=e.i(8020240);function R(e){return e===h.EnvTarget.Production?"Production":e===h.EnvTarget.Preview?"Preview":"Development"}function b(e){let{environments:r,className:s}=e,o=r?.length===3?"All Environments":r?.map(R).join(", ");return(0,t.jsx)(a.Text,{className:(0,d.clsx)("whitespace-nowrap rounded bg-gray-200 px-1 text-sm",s),color:"gray-900",monospace:!0,size:13,title:o,truncate:!0,children:o})}function f(e){let{projectConnections:r,teamOrUserSlug:d}=e;return(0,t.jsxs)(n.MenuContainer,{children:[(0,t.jsx)(o.MenuButton,{className:"geist-show-on-mobile",size:"small",type:"secondary",children:"Show Connections"}),(0,t.jsx)(o.MenuButton,{className:"geist-hide-on-mobile mx-0",size:"small",type:"tertiary",children:(0,t.jsx)(u.ChevronUpDown,{color:"gray-700"})}),(0,t.jsx)(s.Menu,{className:"min-h-[10dvh] max-w-full md:min-h-0 md:max-w-[480px]",width:"auto",children:r.map(e=>(0,t.jsx)(i.MenuItem,{Component:l.Link,"data-testid":(0,p.tid)("project-store","item"),href:`/${d?`${d}/`:""}${encodeURIComponent(e.name)}`,isLink:!0,children:(0,t.jsxs)(c.Stack,{align:"center",className:"min-w-20 max-w-full",direction:"row",flex:1,gap:2,justify:"space-between",children:[(0,t.jsxs)(c.Stack,{direction:"row",gap:2,children:[(0,t.jsx)(g.ProjectLogo,{deploymentId:e.latestDeployment,framework:e.framework,project:e,size:18}),(0,t.jsx)(a.Text,{className:"min-w-20 max-w-[50%]",color:"gray-1000",title:e.name,truncate:!0,weight:500,children:e.name})]}),(0,y.isLogDrainInConnection)(e)?(0,t.jsx)(j.LogDrainConnection,{connection:e}):(0,t.jsx)(b,{environments:e.environments})]})},e.id))})]})}function C(e){let{projectConnections:s}=e,o=(0,m.useTeamSlug)(),{projectSlug:n,hasProject:i}=(0,x.useProjectSlug)(),{currentProjectConnection:u}=(0,r.useMemo)(()=>({currentProjectConnection:s.find(e=>e.name===n)}),[n,s]),h=s[0];return(0,t.jsxs)(t.Fragment,{children:[i&&u?(0,t.jsx)(b,{className:"geist-hide-on-mobile",environments:u.environments}):(0,t.jsx)(l.ButtonLink,{className:(0,d.clsx)("geist-hide-on-mobile m-0 -mx-1 h-6 min-w-20 bg-background-200 !px-1 text-sm","hover:!bg-gray-200 [&>svg]:-ml-1"),"data-testid":(0,p.tid)("project-store","item"),href:`/${o?`${o}/`:""}${encodeURIComponent(h.name)}`,size:"small",type:"tertiary",children:(0,t.jsxs)(c.Stack,{align:"center",className:"p-px",direction:"row",gap:1,children:[(0,t.jsx)(g.ProjectLogo,{deploymentId:h.latestDeployment,framework:h.framework,project:{id:h.projectId},size:18}),(0,t.jsx)(a.Text,{color:"gray-1000",size:13,truncate:!0,weight:500,children:h.name})]})}),(0,t.jsx)(f,{projectConnections:s,teamOrUserSlug:o})]})}e.s(["ProjectConnectionsAssigned",()=>C])},4677153,e=>{"use strict";var t=e.i(6468255),r=e.i(2504781),s=e.i(5468328),o=e.i(7897830),n=e.i(1414602),i=e.i(1919132);function c(e){let{resource:c,size:a,type:l,enableMarketplaceDrains:u}=e,{permissions:d,isLoading:p}=(0,n.useResourcePermissions)(),{openConnectProject:h}=(0,o.useResourceModals)({onSuccess:null}),m=(0,i.getConnectProjectOrLogDrainLabel)(c,u);return(0,t.jsx)(s.Tooltip,{disableTriggers:d.update,text:"You need additional permission to connect a Project.",children:(0,t.jsx)(r.Button,{disabled:!c||p||!d.update||c.capabilities?.projects===!1,onClick:()=>{c&&h(c)},size:a,type:l,children:m})})}e.s(["ConnectProjectButton",()=>c])},9203481,2375948,e=>{"use strict";var t=e.i(6468255),r=e.i(9508212),s=e.i(5255926),o=e.i(5468328),n=e.i(1344973),i=e.i(9722978),c=e.i(57106),a=e.i(7218483),l=e.i(4004502),u=e.i(9100551),d=e.i(5819220),p=e.i(979715),h=e.i(6401841),m=e.i(762945),g=e.i(9429910),x=e.i(4597921),y=e.i(1414602),j=e.i(648779),R=e.i(7897830),b=e.i(5313122),f=e.i(4677153),C=e.i(7114720);e.s([],2375948);var v=e.i(7917902),w=e.i(7849855);function T(e){let{Footer:r,Info:s,createdAt:o,link:n,id:u,hasError:p,title:h,description:m,Icon:g,Badge:x}=e,y=(0,a.useAgo)(o,{formatYearsWeeksMonths:!0});return(0,t.jsxs)("div",{className:"min-w-0","data-resource-item":u,children:[(0,t.jsx)(c.Link,{className:"group block","data-testid":(0,l.tid)("store-entity",u),href:n,children:(0,t.jsxs)(d.Entity,{className:(0,i.clsx)("rounded-b-none rounded-t bg-background-100 transition-[background] duration-100 ease-in-out group-hover:bg-background-200",{"border-red-500":p}),gapSize:"small",thumbnail:(0,t.jsx)("div",{className:"mr-2 text-foreground",children:g}),children:[(0,t.jsx)(A,{description:(0,t.jsx)("span",{children:m}),title:(0,t.jsxs)("span",{className:"no-underline",children:[h,x]}),width:s?"30%":void 0}),s,o?(0,t.jsx)(A,{description:(0,t.jsxs)("span",{title:`Created at ${new Date(o).toISOString()}`,children:["Created ",y]}),label:!0,right:!0,width:"auto"}):null]})}),r]})}function S(e){let{children:s,notification:o,justify:n}=e;return(0,t.jsx)(r.Stack,{align:"center",className:(0,i.clsx)("h-14 rounded-b border border-t-0 border-solid px-4 py-3",{"border-gray-200 bg-background-200":o?.level!=="error","border-red-500 bg-red-100":o?.level==="error"}),direction:"row",gap:1.5,justify:o?"end":n,children:o?(0,t.jsx)(k,{notification:o}):s})}function k(e){let{notification:s}=e;return(0,t.jsxs)(r.Stack,{direction:"row",gap:{sm:2,md:3,lg:3},children:[(0,t.jsx)(n.Text,{color:"error"===s.level?"red-700":"warn"===s.level?"amber-900":"gray-900",size:13,weight:500,children:s.title}),(0,t.jsxs)(o.Tooltip,{text:s.message,children:["error"===s.level?(0,t.jsx)(h.Stop,{color:"red-700",size:20}):null,"warn"===s.level?(0,t.jsx)(m.Warning,{color:"amber-900",size:20}):null,"info"===s.level?(0,t.jsx)(g.InformationFill,{size:20}):null]})]})}function A(e){let{className:r,...s}=e;return(0,t.jsx)(p.EntityField,{className:(0,i.clsx)("max-md:mt-0 max-md:border-t-0",r),...s})}function P(e){let{Info:r,item:s,Badge:o,resourceLinkFunc:n,showCreatedAt:c=!0,alwaysShowConnectButton:a=!1}=e,l=(0,u.useRouter)(),{openConnectProject:d}=(0,R.useResourceModals)({onSuccess:e=>{l.push(n(e))}}),{permissions:p}=(0,y.useResourcePermissions)(),h=(0,x.useServerFlag)("enable-marketplace-drains",!1),{team:m}=(0,v.useAccount)(),{projectSlug:g}=(0,w.useProjectAndTeamSlug)(),k=s.billingPlan?.name,A=a||0===s.projectsMetadata.length;return(0,t.jsx)(T,{Badge:o,Footer:(0,t.jsx)(S,{justify:A?"end":"start",notification:s.notification,children:A?(0,t.jsxs)("div",{className:(0,i.clsx)("flex gap-2"),children:[(0,t.jsx)(f.ConnectProjectButton,{size:"small",resource:s,type:"secondary",enableMarketplaceDrains:h}),m&&(0,t.jsx)(C.MarketplaceAddDrainButton,{resource:s,teamSlug:m.slug,projectSlug:g??void 0,size:"small",type:"secondary"})]}):(0,t.jsx)(b.ProjectConnectionsAssigned,{projectConnections:s.projectsMetadata})}),Icon:(0,t.jsx)(j.ProductIcon,{icon:s.product.iconUrl,size:"large"}),Info:r?(0,t.jsx)(r,{item:s}):void 0,createdAt:c?s.createdAt:void 0,description:k?`${s.product.name} - ${k}`:s.product.name,hasError:s.notification?.level==="error",id:s.id,link:n(s),title:s.name})}function M(e){let{showRightSkeleton:o=!0}=e;return(0,t.jsxs)("div",{children:[(0,t.jsxs)(d.Entity,{className:"rounded-b-none rounded-t",gapSize:"small",thumbnail:(0,t.jsx)(r.Stack,{align:"center",className:"mr-2",children:(0,t.jsx)(s.Skeleton,{height:36,rounded:!0,width:36})}),children:[(0,t.jsx)(A,{description:(0,t.jsx)(s.Skeleton,{boxHeight:22,height:12,vcenter:!0,width:"40%"}),title:(0,t.jsx)(s.Skeleton,{boxHeight:22,height:14,vcenter:!0,width:"60%"})}),o?(0,t.jsx)(A,{right:!0,title:(0,t.jsx)(s.Skeleton,{className:"h-[18px] md:h-[22px]",height:14,vcenter:!0,width:120})}):null]}),(0,t.jsx)(S,{})]})}e.s(["ListItem",()=>T,"ListItemFooter",()=>S,"ResourceEntityItem",()=>A,"ResourceItem",()=>P,"ResourceItemPlaceholder",()=>M],9203481)},8026771,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),s=e.i(8835183),o=e.i(6881349),n=e.i(2504781),i=e.i(1991452),c=e.i(2793676),a=e.i(9100551),l=e.i(3798983),u=e.i(5074599);function d(e){return`Search provider or ${u.resourceTitle[e].toLowerCase()}..`}function p(e){return null!=e}function h(){let e=(0,a.useSearchParams)();return{storeTag:e?.get("type")??"All",search:e?.get("search")??""}}function m(e,t){let s=(0,i.useRouter)(),{storeTag:o,search:n}=h(),[a,l]=(0,r.useState)("All"),d=t?o:a,[m,g]=(0,r.useState)(n),x=(0,r.useMemo)(()=>{let t=new Map;return e?.forEach(e=>{"integration"===e.type?t.set(e.product.integration.id,{value:e.product.integration.id,label:e.product.integration.name}):t.set(e.type,{value:e.type,label:(0,u.getProtocolTitleByResource)(e)})}),[{value:"All",label:"All"},...Array.from(t.values()).filter(p)]},[e]);return{filteredResources:(0,r.useMemo)(()=>e?.filter(e=>{if("All"!==d&&("integration"===e.type?e.product.integration.id!==d:e.type!==d))return!1;let t=m.toLowerCase();return!!(e.name.toLowerCase().includes(t)||e.id.includes(t))||"integration"===e.type&&e.product.name.toLowerCase().includes(t)})??null,[m,e,d]),search:m,onSearchChanged:e=>{g(e),t&&s.replace({query:{...s.query,search:e}},void 0,{shallow:!0,scroll:!1})},storeTagFilter:d,onStoreTagFilterChanged:e=>{t?s.replace({query:"All"===e?(0,c.default)(s.query,"type"):{...s.query,type:e}},void 0,{shallow:!0,scroll:!1}):l(e)},storeTags:x}}function g(e){let{ConnectResourceButton:r,search:n,onSearchChanged:i,storeTagFilter:c,storeTags:a,onStoreTagFilterChanged:l,protocolType:u}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.SearchInput,{className:"[&>div:first-of-type]:flex-1",onChange:e=>{i(e.target.value.trim())},placeholder:d(u),value:n,width:"100%"}),(0,t.jsxs)(o.Combobox,{clearable:!1,onChange:e=>{e&&l(e)},value:c,children:[(0,t.jsx)(o.Combobox.Input,{disabled:!0}),(0,t.jsx)(o.Combobox.List,{children:a.map(e=>(0,t.jsx)(o.Combobox.Option,{value:e.value,children:e.label},e.value))})]}),r]})}function x(e){let{createConnectAction:r,protocolType:i}=e,{storeTag:c}=h();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.SearchInput,{className:"[&>div:first-of-type]:flex-1",placeholder:d(i),width:"100%"}),(0,t.jsxs)(o.Combobox,{clearable:!1,value:c,children:[(0,t.jsx)(o.Combobox.Input,{disabled:!0}),(0,t.jsx)(o.Combobox.List,{children:(0,t.jsx)(o.Combobox.Option,{value:c,children:" "})})]}),"none"!==r?(0,t.jsx)(n.Button,{disabled:!0,type:"secondary",typeName:"button",children:l.createConnectStoreButtonLabel[r]}):null]})}e.s(["ResourceFilters",()=>g,"ResourceFiltersPlaceholder",()=>x,"useResourceFilters",()=>m])},680627,e=>{"use strict";var t=e.i(6468255),r=e.i(9508212),s=e.i(1344973),o=e.i(1717203),n=e.i(7557283);e.i(3182268);var i=e.i(7849855);e.i(8703064);var c=e.i(5154466);e.i(3134771);var a=e.i(1815854),l=e.i(6060673),u=e.i(3798983),d=e.i(2782729),p=e.i(6810699),h=e.i(5074599),m=e.i(8026771);function g(e){let{ConnectResourceButton:g,onClickConnectStoreModal:x,isStoreTagFilterFromQuery:y,protocolType:j}=e,{data:R}=(0,p.useResourceList)({protocolType:j}),{projectSlug:b}=(0,i.useProjectSlug)(),f=(0,l.useProject)(b),{can:C,isLoading:v}=(0,o.default)(),w={"edge-config":C(n.Action.Update,n.Resource.EdgeConfig),blob:C(n.Action.Create,n.Resource.Blob),integration:C(n.Action.Create,n.Resource.IntegrationResource)},T=R?.stores,{search:S,onSearchChanged:k,storeTagFilter:A,onStoreTagFilterChanged:P,storeTags:M,filteredResources:L}=(0,m.useResourceFilters)(T??null,y);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Stack,{direction:{sm:"column",md:"row"},gap:4,justify:"space-between",children:(0,t.jsx)(m.ResourceFilters,{ConnectResourceButton:g,onSearchChanged:k,onStoreTagFilterChanged:P,protocolType:j,search:S,storeTagFilter:A,storeTags:M})}),L&&0===L.length?(0,t.jsxs)(r.Stack,{align:"center",className:"min-h-52",gap:1,justify:"center",children:[(0,t.jsx)(s.Text,{weight:500,children:"No Results Found"}),(0,t.jsx)(s.Text,{align:"center",color:"gray-900",children:`Your search for "${S}" did not return any results.`})]}):null,L&&L.length>0?(0,t.jsx)(c.SelectResourceCardList,{children:L.map(e=>{let r=e.projectsMetadata.some(e=>e.projectId===f.data?.id),s="integration"===e.type?{icon:{url:(0,d.getStoreIcon)(e),size:"large"}}:{Icon:(0,t.jsx)(a.SelectResourceStoreIcon,{iconSize:"large",type:e.type,useColor:w[e.type]})};return(0,t.jsx)(c.SelectResourceCard,{createdAt:e.createdAt,description:"storage"===j?u.storeTitleFull[e.type]:h.resourceTitle[j],isAlreadyConnected:r,isDisabled:!w[e.type],name:e.name,onClick:()=>x(e),tooltip:{isEnabled:!v&&!w[e.type],text:`You do not have permission to connect this ${(0,h.getProtocolTitleByResource)(e)}.`},...s},e.id)})}):null]})}e.s(["SelectResources",()=>g])},6068777,(e,t,r)=>{var s=e.r(2136587),o=e.r(5729582),n=Array.prototype.splice;t.exports=function(e,t){for(var r=e?t.length:0,i=r-1;r--;){var c=t[r];if(r==i||c!==a){var a=c;o(c)?n.call(e,c,1):s(e,c)}}return e}},102342,(e,t,r)=>{var s=e.r(8357529),o=e.r(6068777);t.exports=function(e,t){var r=[];if(!(e&&e.length))return r;var n=-1,i=[],c=e.length;for(t=s(t,3);++n<c;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return o(e,i),r}},8385183,e=>{"use strict";var t=e.i(5297527),r=e.i(4244280);e.i(102342),e.i(4426431),e.i(1940),e.i(2704354);let s=`${r.API_INTEGRATION_CONTROLLER}/categories`;function o(e){let r="tag_databases"===e.id?"storage":t.INTEGRATION_PROTOCOL_TYPES.find(t=>e.id.replace("tag_","")===t)??null;return{...e,protocol:r}}var n=e.i(277234),i=e.i(6269556),c=e.i(818351);function a(){let{isPreview:e}=(0,i.useMarketplaceNavigation)();return{...(0,c.useIsomorphicSWR)(e?`${s}?status=all`:s,async e=>(await (0,n.fetchAPI)(e)).map(o),{revalidateOnFocus:!1,revalidateOnReconnect:!1})}}e.s(["useIntegrationCategories",()=>a],8385183)},1815574,e=>{"use strict";var t=e.i(6468255),r=e.i(5338940),s=e.i(3850869),o=e.i(2652226),n=e.i(5074599);function i(e){let{protocolType:i}=e,{team:c}=(0,r.useTeam)();return(0,t.jsx)(o.default,{children:(0,t.jsx)(s.AdditionalPermissionsRequired,{resource:n.resourceTitle[i],team:c})})}e.s(["AdditionalResourcePermissionsRequired",()=>i])},4981413,4209381,1055938,e=>{"use strict";var t=e.i(6468255),r=e.i(9508212),s=e.i(1344973),o=e.i(3306538),n=e.i(57106),i=e.i(4011256);e.i(8703064);var c=e.i(6798946),a=e.i(2782729),l=e.i(4325157),u=e.i(5074599),d=e.i(1414602),p=e.i(6810699),h=e.i(8385183);function m(e){let{onClickProduct:o,selectedProduct:m,showCreateButton:x=!1,protocolType:y}=e,{data:j}=(0,h.useIntegrationCategories)(),{permissions:R,isLoading:b}=(0,d.useResourcePermissions)(),{data:f}=(0,p.useResourceList)({protocolType:y}),{data:C}=(0,l.useMarketplaceIntegrations)({protocolType:y}),v=j?.find(e=>e.protocol===y);return C?(0,t.jsx)(g,{canCreate:R.create,disabled:b,integrations:C.map(e=>({...e,isSelected:m?.type==="integration"&&m.product.id===e.products[0].id,selectedProductId:m?.type==="integration"&&m.integration.id===e.id?m.product.id:void 0,comingSoon:(0,a.isIntegrationStoreDisabled)({integration:e,storesData:f})})),onClickProduct:o,protocolType:y,showCreateButton:x}):(0,t.jsxs)(r.Stack,{gap:4,children:[(0,t.jsxs)(r.Stack,{direction:"row",justify:"space-between",children:[(0,t.jsx)(s.Text,{size:16,weight:600,children:(0,u.browseProductsTitle)(y)}),(0,t.jsx)(n.Link,{external:!0,href:`${i.MARKETPLACE_DOC_PAGE}/integrations/install-an-integration/product-integration`,target:"_blank",children:(0,t.jsx)(s.Text,{children:"Learn more"})})]}),(0,t.jsx)(r.Stack,{gap:2,children:Array.from({length:v?.marketplaceIntegrationsCount??3}).map((e,r)=>(0,t.jsx)(c.CreateResourceCardPlaceholder,{showCreateButton:x},r))})]})}function g(e){let{integrations:a,canCreate:l,disabled:d,showCreateButton:p,onClickProduct:h,protocolType:m}=e;if(0===a.length)return null;let g=u.resourceTitle[m],x={text:`You need additional permission to create a ${g}.`,isEnabled:!l};return(0,t.jsxs)(r.Stack,{gap:4,children:[(0,t.jsxs)(r.Stack,{direction:"row",justify:"space-between",children:[(0,t.jsx)(s.Text,{size:16,weight:600,children:(0,u.browseProductsTitle)(m)}),(0,t.jsx)(n.Link,{external:!0,href:`${i.MARKETPLACE_DOC_PAGE}/integrations/install-an-integration/product-integration`,target:"_blank",children:(0,t.jsx)(s.Text,{children:"Learn more"})})]}),(0,t.jsx)(r.Stack,{gap:2,children:a.map(e=>{let r=!!e.comingSoon,s=d||!l||!!e.comingSoon;if(0===e.products.length)return null;if(1===e.products.length){let n=e.products[0];return(0,t.jsx)(c.CreateResourceCard,{Badge:r?(0,t.jsx)(o.Badge,{className:"important:bg-transparent",size:"sm",variant:"gray-subtle",children:"Coming soon"}):null,description:n.shortDescription,icon:{url:n.iconUrl},isDisabled:s,isSelected:e.isSelected,name:n.name,onClick:()=>{h({product:n,integration:e,type:"integration"})},showCreateButton:p,tooltip:x},n.id)}return(0,t.jsx)(c.CreateResourceCollapsibleCard,{integration:e,isDisabled:d||!l,onClick:t=>{h({product:t,integration:e,type:"integration"})},selectedProductId:e.selectedProductId,showCreateButton:p,tooltip:x},e.id)})})]})}e.s(["BrowseProducts",()=>m],4981413);var x=e.i(6696646),y=e.i(9100551),j=e.i(7897830);function R(e,t){let r=(0,y.useRouter)(),{openCreateResource:s}=(0,j.useResourceModals)({onSuccess:e=>{r.push(t(e))}}),o=(0,y.useSearchParams)(),n=o?.get("productId")??null,{data:i}=(0,l.useMarketplaceIntegrations)({protocolType:e}),c=(0,x.useMemo)(()=>{if(!i)return null;for(let e of i)for(let t of e.products)if(t.id===n)return{integration:e,product:t};return null},[i,n]);(0,x.useEffect)(()=>{if(c){let{integration:e,product:t}=c;s({type:"integration",integration:e,product:t})}},[s,c])}function b(e){let{title:o,subtitle:n,children:i,Icon:c}=e;return(0,t.jsxs)(r.Stack,{align:"center",className:"rounded border border-solid border-gray-200 bg-background-200 px-4 py-8",gap:6,justify:"center",children:[(0,t.jsxs)(r.Stack,{align:"center",gap:3,children:[c,(0,t.jsxs)(r.Stack,{align:"center",gap:2,children:[o?(0,t.jsx)(s.Text,{size:20,weight:600,children:o}):null,n?(0,t.jsx)(s.Text,{align:"center",color:"gray-900",children:n}):null]})]}),i]})}e.s(["useCreateResourceDeeplink",()=>R],4209381),e.s(["EmptyResourcesState",()=>b],1055938)},5551580,e=>{"use strict";var t=e.i(6468255),r=e.i(2504781),s=e.i(5255926),o=e.i(9508212),n=e.i(6696646),i=e.i(3798983),c=e.i(9203481),a=e.i(8026771);function l(e){let{protocolType:l}=e;return(0,t.jsxs)(o.Stack,{gap:6,children:[(0,t.jsx)(o.Stack,{direction:"row",gap:4,justify:"space-between",children:(0,t.jsx)(n.Suspense,{fallback:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.Stack,{direction:{sm:"column",md:"row"},gap:4,style:{width:"100%"},children:[(0,t.jsx)(s.Skeleton,{height:40,width:"100%"}),(0,t.jsx)(s.Skeleton,{className:"geist-hide-on-mobile",height:40,width:190}),(0,t.jsx)(s.Skeleton,{className:"geist-show-on-mobile",height:40,width:"100%"})]}),(0,t.jsx)(r.Button,{disabled:!0,type:"secondary",typeName:"button",children:i.createConnectStoreButtonLabel.connect})]}),children:(0,t.jsx)(a.ResourceFiltersPlaceholder,{createConnectAction:"connect",protocolType:l})})}),(0,t.jsx)(o.Stack,{gap:6,children:Array.from({length:3}).map((e,r)=>(0,t.jsx)(c.ResourceItemPlaceholder,{},r))})]})}e.s(["ResourceListPlaceholder",()=>l])},9691190,e=>{"use strict";var t=e.i(6468255),r=e.i(9508212),s=e.i(2504781),o=e.i(4030453),n=e.i(134877),i=e.i(9100551),c=e.i(6810699),a=e.i(7849855),l=e.i(7897830),u=e.i(5154466),d=e.i(4981413),p=e.i(5074599),h=e.i(1815574),m=e.i(4209381),g=e.i(1055938),x=e.i(8026771),y=e.i(9203481),j=e.i(5551580),R=e.i(680627),b=e.i(8544664);function f(e){let{ListItem:i,protocolType:l,resourceLinkFunc:u,Info:d,EmptyStateIcon:p,BrowserProductsEmptyState:y,includeMetadata:R,preloadedResources:f}=e,{hasProject:C,projectSlug:S}=(0,a.useProjectSlug)(),{data:k,error:A,hasResources:P}=(0,c.useResourceList)({projectSlug:S,protocolType:l,fallbackData:f?{stores:f}:void 0}),M=(0,c.useStoreListMetadataByType)({items:k?.stores??[],skip:!R}),{search:L,onSearchChanged:B,storeTagFilter:I,onStoreTagFilterChanged:E,storeTags:N,filteredResources:F}=(0,x.useResourceFilters)(k?M:null,!0);return(function(e){let{hasProject:t,projectSlug:r,teamSlug:s}=(0,a.useProjectAndTeamSlug)(),{data:o}=(0,c.useResourceList)({projectSlug:r??void 0,protocolType:e});(0,b.usePlaceholderCount)(`resourcePlaceholderCount:${e}:${s}${t?`:${r}`:""}`,o?.stores.length)}(l),(0,m.useCreateResourceDeeplink)(l,u),k&&F)?A&&(0,n.isAPIErrorForbidden)(A)?(0,t.jsx)(h.AdditionalResourcePermissionsRequired,{protocolType:l}):A?(0,t.jsxs)(g.EmptyResourcesState,{Icon:p,children:[(0,t.jsx)(o.Error,{children:"An error occurred while loading the list."}),(0,t.jsx)(s.Button,{onClick:()=>window.location.reload(),size:"small",type:"error",typeName:"button",children:"Try Again"})]}):P?0===k.stores.length&&C?(0,t.jsx)(w,{protocolType:l,resourceLinkFunc:u}):0===F.length?(0,t.jsxs)(r.Stack,{gap:6,children:[(0,t.jsx)(r.Stack,{direction:"row",gap:4,justify:"space-between",children:(0,t.jsx)(x.ResourceFilters,{ConnectResourceButton:(0,t.jsx)(T,{protocolType:l,resourceLinkFunc:u}),onSearchChanged:B,onStoreTagFilterChanged:E,protocolType:l,search:L,storeTagFilter:I,storeTags:N})}),(0,t.jsx)(g.EmptyResourcesState,{subtitle:`Your search for "${L}" did not return any results.`,title:"No Results Found"})]}):(0,t.jsxs)(r.Stack,{gap:6,children:[(0,t.jsx)(r.Stack,{direction:{sm:"column",md:"row"},gap:4,justify:"space-between",children:(0,t.jsx)(x.ResourceFilters,{ConnectResourceButton:(0,t.jsx)(T,{protocolType:l,resourceLinkFunc:u}),onSearchChanged:B,onStoreTagFilterChanged:E,protocolType:l,search:L,storeTagFilter:I,storeTags:N})}),(0,t.jsx)(r.Stack,{gap:6,children:F.map(e=>(0,t.jsx)(i,{Info:d,item:e,resourceLinkFunc:u},e.id))})]}):y??(0,t.jsx)(v,{protocolType:l,resourceLinkFunc:u}):(0,t.jsx)(j.ResourceListPlaceholder,{protocolType:l})}function C(e){let{protocolType:r,resourceLinkFunc:s,Info:o}=e;return(0,t.jsx)(f,{Info:o,ListItem:y.ResourceItem,protocolType:r,resourceLinkFunc:s})}function v(e){let{protocolType:r,resourceLinkFunc:s}=e,o=(0,i.useRouter)(),{openCreateResource:n}=(0,l.useResourceModals)({onSuccess:e=>{o.push(s(e))}});return(0,t.jsx)(g.EmptyResourcesState,{subtitle:(0,p.emptyResourcesStateSubtitle)(r),title:(0,p.emptyResourcesStateTitle)(r),children:(0,t.jsx)(u.SelectResourceCardListContainer,{children:(0,t.jsx)(d.BrowseProducts,{onClickProduct:e=>{e&&n(e)},protocolType:r,selectedProduct:void 0,showCreateButton:!0})})})}function w(e){let{protocolType:r,resourceLinkFunc:o}=e,n=(0,i.useRouter)(),{openConnectProject:c,openBrowseProducts:a}=(0,l.useResourceModals)({onSuccess:e=>{n.push(o(e))}});return(0,t.jsx)(g.EmptyResourcesState,{subtitle:`You can connect to existing ${p.resourceTitlePlural[r]} from this team, or
            create a new one and connect it to this project.`,title:`Connect to a ${p.resourceTitle[r]}`,children:(0,t.jsx)(u.SelectResourceCardListContainer,{children:(0,t.jsx)(R.SelectResources,{ConnectResourceButton:(0,t.jsx)(s.Button,{onClick:()=>{a("browse-new")},type:"default",typeName:"button",children:(0,p.connectResourceButtonLabel)(r)}),hasCreateConnectButton:!0,isStoreTagFilterFromQuery:!0,onClickConnectStoreModal:e=>{c(e)},protocolType:r})})})}function T(e){let{resourceLinkFunc:r,protocolType:o}=e,n=(0,i.useRouter)(),{openBrowseProducts:c}=(0,l.useResourceModals)({onSuccess:e=>{n.push(r(e))}}),{hasProject:u}=(0,a.useProjectSlug)();return u?(0,t.jsx)(s.Button,{onClick:()=>{c("browse-existing")},type:"secondary",typeName:"button",children:`Connect ${p.resourceTitle[o]}`}):null}e.s(["ResourceList",()=>C,"ResourceListWithListItem",()=>f])},3788585,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),s=e.i(9508212),o=e.i(1344973),n=e.i(57106);function i(e){let{buttonCaption:i,integrations:c,showHeader:a=!0}=e,l=c.map(e=>e.name),u=l.length>1?`${l.slice(0,-1).join(", ")}, and ${l[l.length-1]}`:l[0];return(0,t.jsxs)(s.Stack,{gap:4,children:[a?(0,t.jsxs)(s.Stack,{gap:1,children:[(0,t.jsx)(o.Text,{weight:500,children:"Accept Terms & Conditions"}),(0,t.jsxs)(o.Text,{color:"gray-900",children:['By clicking "',i,'", you agree to:']})]}):(0,t.jsxs)(o.Text,{color:"gray-900",children:['By clicking "',i,'", you agree to:']}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,t.jsx)("li",{children:(0,t.jsx)(n.Link,{external:!0,href:"/legal/integration-marketplace-end-users-addendum",type:"primary",children:"Vercel Integration Marketplace End User Addendum"})}),c.map(e=>(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsx)("li",{children:(0,t.jsxs)(n.Link,{external:!0,href:e.eulaDocUri,type:"primary",children:[e.name," EULA"]})}),(0,t.jsx)("li",{children:(0,t.jsxs)(n.Link,{external:!0,href:e.privacyDocUri,type:"primary",children:[e.name," Privacy Policy"]})})]},e.id))]}),(0,t.jsxs)(s.Stack,{gap:1,children:[(0,t.jsxs)(o.Text,{className:"text-xs",children:["Vercel may share certain information from your account such as your"," ",(0,t.jsx)("span",{className:"font-medium",children:"Vercel ID"}),","," ",(0,t.jsx)("span",{className:"font-medium",children:"email address"}),", or"," ",(0,t.jsx)("span",{className:"font-medium",children:"usage data"})," with"," ",u,"."]}),(0,t.jsxs)(o.Text,{className:"text-xs",children:["See"," ",c.map((e,s)=>(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsxs)(n.Link,{href:e.privacyDocUri,external:!0,target:"_blank",type:"primary",children:[e.name,"'s Privacy Policy"]}),s<c.length-1&&(s===c.length-2?", and ":", ")]},e.id))," ","for how your information may be used."]}),c.some(e=>"ab-12-aws"===e.slug)?(0,t.jsxs)(o.Text,{className:"text-xs",children:['AWS will receive account data such as browser information and usage patterns for fraud prevention purposes. Click "',i,'" to proceed.']}):null]})]})}e.s(["TermsAndConditions",()=>i])},7512194,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),s=e.i(4597921),o=e.i(7849855),n=e.i(39509),i=e.i(328065),c=e.i(3758860),a=e.i(6864621);let l={active:!1,modalKey:0,type:n.ResourceModalsActionTypes.ModalClosed,steps:[]};function u(e){let{children:u,Modal:d,protocolType:p}=e,{showCreateDatabaseModal:h,setShowCreateDatabaseModal:m}=(0,a.useCreateDatabaseModal)(),{hasProject:g}=(0,o.useProjectSlug)(),x=(0,s.useServerFlag)("enable-marketplace-drains",!1),y=(0,r.useCallback)(()=>{m(!1)},[m]),j=(0,r.useCallback)((e,t)=>(function(e){let{hasProject:t,onClose:r,enableMarketplaceDrains:s}=e;return(e,o)=>{if(!o.type.startsWith("open-")&&"animation-done"!==o.type&&e.type===n.ResourceModalsActionTypes.ModalClosed)throw Error(`Cannot handle action "${o.type}" without opening the modal`);switch(o.type){case`open-${n.ResourceModalsActionTypes.BrowseProducts}`:return{modalKey:e.modalKey,type:n.ResourceModalsActionTypes.BrowseProducts,steps:[n.ResourceModalsActionTypes.BrowseProducts,n.ResourceModalsActionTypes.CreateResource],active:!0};case`open-${n.ResourceModalsActionTypes.BrowseProudctsOrSelectResources}`:return{modalKey:e.modalKey,type:n.ResourceModalsActionTypes.BrowseProudctsOrSelectResources,steps:[n.ResourceModalsActionTypes.BrowseProudctsOrSelectResources,n.ResourceModalsActionTypes.CreateResource,n.ResourceModalsActionTypes.CreateEnvs],tab:o.tab,active:!0};case`go-to-step-${n.ResourceModalsActionTypes.CreateResource}`:case`open-${n.ResourceModalsActionTypes.CreateResource}`:{let r=e.steps,i="integration"===o.resourceWithProduct.type&&(0,c.showProjectConnectionAfterResourceCreation)(o.resourceWithProduct.product,s),a="integration"===o.resourceWithProduct.type&&(0,c.supportsAnyDrainProtocol)(o.resourceWithProduct.product)&&s;if("open-create-resource"===o.type&&(r=(t||i)&&!a?[n.ResourceModalsActionTypes.CreateResource,n.ResourceModalsActionTypes.CreateEnvs]:[n.ResourceModalsActionTypes.CreateResource]),"go-to-step-create-resource"!==o.type||!i||r.includes(n.ResourceModalsActionTypes.CreateEnvs)||a||r.push(n.ResourceModalsActionTypes.CreateEnvs),0===r.length||r[0]===n.ResourceModalsActionTypes.CreateEnvs||r[0]===n.ResourceModalsActionTypes.DeleteEnvs)throw Error(`Invalid steps "${r.join(",")}" for action "${o.type}"`);let{resourceWithProduct:l}=o;return{modalKey:e.modalKey,type:n.ResourceModalsActionTypes.CreateResource,resourceWithProduct:l,backOrCancelLabel:r[0]===n.ResourceModalsActionTypes.CreateResource?"Cancel":"Go Back",steps:r,active:!0}}case`go-to-step-${n.ResourceModalsActionTypes.CreateEnvs}`:case`open-${n.ResourceModalsActionTypes.CreateEnvs}`:{let t=e.steps,r="Cancel";if("open-create-envs"===o.type?t=[n.ResourceModalsActionTypes.CreateEnvs]:e.type===n.ResourceModalsActionTypes.BrowseProudctsOrSelectResources&&(r="Go Back"),0===t.length||t[0]===n.ResourceModalsActionTypes.CreateResource&&t[1]!==n.ResourceModalsActionTypes.CreateEnvs||t[0]===n.ResourceModalsActionTypes.BrowseProducts&&!(0,c.showProjectConnectionAfterResourceCreation)(e.resource,s)||t[0]===n.ResourceModalsActionTypes.DeleteEnvs)throw Error(`Invalid steps "${t.join(",")}" for action "${o.type}"`);return{backOrCancelLabel:r,modalKey:e.modalKey,type:n.ResourceModalsActionTypes.CreateEnvs,resource:o.resource,connection:"connection"in o?o.connection:void 0,steps:t,active:!0}}case"browse-products-or-select-resources-switch-tabs":if(e.type!==n.ResourceModalsActionTypes.BrowseProudctsOrSelectResources)throw Error('Cannot switch tabs outside of the "browse-stores-or-select-existing" step');return{modalKey:e.modalKey,steps:e.steps,type:e.type,tab:o.tab,active:!0};case"back":if(e.type===n.ResourceModalsActionTypes.CreateEnvs&&"Go Back"===e.backOrCancelLabel&&e.steps[0]===n.ResourceModalsActionTypes.BrowseProudctsOrSelectResources)return{modalKey:e.modalKey,steps:e.steps,type:n.ResourceModalsActionTypes.BrowseProudctsOrSelectResources,tab:"browse-existing",active:!0};if("create-resource"===e.type)switch(e.steps[0]){case n.ResourceModalsActionTypes.BrowseProudctsOrSelectResources:return{modalKey:e.modalKey,steps:e.steps,type:n.ResourceModalsActionTypes.BrowseProudctsOrSelectResources,tab:"browse-new",active:!0};case n.ResourceModalsActionTypes.BrowseProducts:return{modalKey:e.modalKey,steps:e.steps,type:n.ResourceModalsActionTypes.BrowseProducts,active:!0}}return r(),{...e,active:!1};case"close":return r(),{...e,active:!1};case"animation-done":return{...l,modalKey:e.modalKey+1};case"resource-updated":return{...e,resource:o.resource,isConnected:o.isConnected};case"open-delete-envs":return{...e,active:!0,resource:o.resource,resourceId:o.resourceId,connections:o.connections,type:n.ResourceModalsActionTypes.DeleteEnvs,steps:[n.ResourceModalsActionTypes.DeleteEnvs]}}}})({hasProject:g,onClose:y,enableMarketplaceDrains:x})(e,t),[g,y,x]),[R,b]=(0,r.useReducer)(j,l);(0,r.useEffect)(()=>{h&&(g?b({type:"open-browse-products-or-select-resources",tab:"browse-new"}):b({type:"open-browse-products"}))},[h,b,g]);let f=(0,r.useMemo)(()=>({state:R,dispatch:b,protocolType:p}),[R,p]),C=(0,i.getResourceModalsContext)();return(0,t.jsxs)(C.Provider,{value:f,children:[d,u]})}e.s(["ResourceModalsProviderBase",()=>u])}]);

//# sourceMappingURL=257b750cc3358179.js.map
//# debugId=e654f57c-090b-52a9-8e1e-b2489f8a5217
