
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e0a35ae8-7106-5f16-88a9-bef9da56c27f")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2400041,e=>{e.v({container:"entities-module__AKr3mW__container",list:"entities-module__AKr3mW__list"})},7137701,e=>{e.v({container:"entity-content-module__Sb84Kq__container",textContent:"entity-content-module__Sb84Kq__textContent"})},200487,e=>{e.v({button:"entity-module___Tgnpa__button",left:"entity-module___Tgnpa__left",right:"entity-module___Tgnpa__right"})},8232741,e=>{"use strict";var t=e.i(6468255),i=e.i(9722978),n=e.i(9508212),r=e.i(2400041),a=e.i(1344973),s=e.i(7137701);let o={truncate:!0,weight:600},l={truncate:!0,color:"gray-900"};function c(e){let{title:i,description:r,avatar:c,width:d,fill:u=!1,...m}=e,f="string"==typeof i?(0,t.jsx)(a.Text,{...o,children:i}):i,y="string"==typeof r?(0,t.jsx)(a.Text,{...l,children:r}):r;return(0,t.jsxs)(n.Stack,{align:"center",className:s.default.container,direction:"row",flex:u?1:void 0,gap:2,style:{"--width":d},...m,children:[f||y?(0,t.jsxs)(n.Stack,{className:s.default.textContent,flex:1,children:[i?f:null,r?y:null]}):null,c||null]})}c.TitleTextProps=o,c.DescriptionTextProps=l,c.SkeletonProps={boxHeight:20,height:14,width:"40%",show:!0};var d=e.i(200487);let u=e=>{let{as:r,children:a,className:s,left:o,right:l,rightProps:c,footer:u,onClick:m,padding:f=4,...y}=e,p=r??(m?"button":"li");return(0,t.jsxs)(n.Stack,{as:p,className:(0,i.clsx)(s,"button"===p&&d.default.button),onClick:m,padding:f,...y,children:[(0,t.jsxs)(n.Stack,{align:"center",as:"section",direction:"row",gap:4,children:[o||a?(0,t.jsxs)(n.Stack,{align:"center",className:(0,i.clsx)("left",d.default.left),direction:"row",flex:1,gap:4,children:[o,a]}):null,l?(0,t.jsx)(n.Stack,{align:"center",className:(0,i.clsx)("right",d.default.right),direction:"row",gap:4,...c,children:l}):null]}),u||null]})};u.Content=c,u.List=function(e){let{children:a,className:s,header:o,style:l,ref:c}=e;return o?(0,t.jsxs)(n.Stack,{gap:3,children:[o,(0,t.jsx)("ul",{className:(0,i.clsx)(r.default.container,r.default.list,s),ref:c,style:l,children:a})]}):(0,t.jsx)("ul",{className:(0,i.clsx)(r.default.container,r.default.list,s),ref:c,style:l,children:a})},e.s(["Entity",0,u],8232741)},9358876,e=>{"use strict";e.s(["pluralize",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=1!==t?`${e}s`:e;return i&&(n=`${t} ${n}`),n}])},4496450,e=>{"use strict";function t(e){return!i(e?.billing?.planIteration)}function i(e){return!e||"legacy"===e}e.s(["isLegacyPlanIteration",()=>i,"isOnUnbundledPricingPlan",()=>t])},613694,e=>{"use strict";var t=e.i(4905664),i=e.i(3738416);function n(e,n,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(!n||!r)return e;let s=(0,t.differenceInDays)(r.end,r.start);return Math.round(e*Math.min(1,(0,t.differenceInDays)(r.end,function(e,t){let n=(0,i.startOfDay)(t),[r,a]=n.toLocaleDateString("en-US",{timeZone:e,timeZoneName:"longOffset",day:"2-digit",month:"2-digit",year:"numeric"}).split(", "),[s,o,l]=[(n.getMonth()+1).toString().padStart(2,"0"),n.getDate().toString().padStart(2,"0"),n.getFullYear()],c=a.replace("GMT","");return new Date(`${l}-${s}-${o}T00:00:00.00${c}`)}("America/Los_Angeles",a))/s))}e.s(["prorateAmount",()=>n])},3343142,e=>{"use strict";var t=e.i(8042625),i=e.i(277234),n=e.i(4244280),r=e.i(8248823);let a=async e=>{let a,{data:s}=e,o=(a=new Map,s.fields.forEach(e=>{switch(e.type){case"text":if(!e.value)return;a.set(e.id,e.value);break;case"select":{let t=[];e.options.forEach(e=>{if(e.selected){if(e.reveals)return void t.push(`${e.id}: ${e.reveals.value??""}`);t.push(e.id)}}),a.set(e.id,t.join("; "));break}default:(0,r.exhaustivenessCheck)(e)}}),{name:s.surveyName,person:{email:s.user?.email,id:s.user?.uid},...s.team?.id&&{team:{id:s.team.id}},form:Object.fromEntries(a)});try{return await (0,i.fetchAPI)(`${n.API_SURVEYS}${(0,t.encode)({teamId:o.team?.id})}`,{method:"POST",body:JSON.stringify(o)})}catch(e){console.error(e)}};e.s(["createSurveyEntry",0,a])},2151290,e=>{e.v({container:"index-module__L77N5G__container",icon:"index-module__L77N5G__icon"})},9736132,e=>{"use strict";var t=e.i(6468255),i=e.i(5255926),n=e.i(4585051),r=e.i(1138941),a=e.i(2151290),s=e.i(9722978);function o(e){let{project:i,size:o=24,isDisabled:c=!1}=e,d=(0,r.useFramework)(i);return d?(0,t.jsx)(n.Avatar,{className:(0,s.clsx)(a.default.icon,c&&"grayscale(100%) opacity-40"),size:o,src:d.logo,title:`${d.name}`}):(0,t.jsx)(l,{})}function l(e){let{size:n=24}=e;return(0,t.jsx)(i.Skeleton,{height:n,rounded:!0,style:{flexShrink:0},width:24})}e.s(["FrameworkAvatar",()=>o,"FrameworkAvatarSkeleton",()=>l])},6998974,e=>{"use strict";let t={"speedInsights.sampling":new Set([1]),"billing.proratedAddOns":new Set([2])};function i(e,i){let n;if(!e)return!1;if("plan"in e)n=e;else{if(!e.billing)return!1;n=e.billing}return t[i].has(n.billingVersion)}e.s(["billingFeatureSupported",()=>i])},7982125,e=>{e.v({fixedHeight:"index-module__aVxx7q__fixedHeight"})},4883159,e=>{e.v({description:"index-module__HZL5qG__description",item:"index-module__HZL5qG__item"})},8548383,3515598,9773598,7719396,e=>{"use strict";var t=e.i(6468255),i=e.i(7557283);function n(e,t){let i=r[e];return"string"==typeof i?i:t?i[t]??i.modal:i.fieldset}let r={passwordProtection:"Advanced Deployment Protection",concurrentBuilds:{fieldset:"Additional Concurrent Builds",modal:"Concurrent Builds"},previewDeploymentSuffix:"Preview Deployment Suffix",analytics:"Speed Insights",monitoring:"Monitoring",observabilityBase:{postConfirmConfiguration:"Configure Observability Plus",fieldset:"Observability Plus",modal:"Observability Plus"},webAnalytics:"Web Analytics Plus",saml:"SAML SSO",hipaaAddon:"HIPAA BAA",onDemandConcurrentBuilds:"On-Demand Concurrent Builds",microfrontendsProject:"Microfrontends Projects",bulkRedirect:"Bulk Redirects"},a={passwordProtection:"Allows you to provide fine-grained control over who can access your deployments. Includes Password Protection, Deployment Protection Exceptions, and Private Production Deployments for all projects.",concurrentBuilds:"Determines how many builds you can run at the same time. By increasing the number ($50 per Slot, per month), you are increasing the level of concurrency (maximum 12).",previewDeploymentSuffix:(0,t.jsxs)(t.Fragment,{children:["Choose your own custom domain for Preview Deployments, in place of the default ",(0,t.jsx)("code",{children:".vercel.app"})," suffix."]}),analytics:"Detailed view of your website's performance metrics, facilitating informed decisions for its optimization.",monitoring:"Monitoring is a query editor that allows you to visualize errors, debug bandwidth issues, and monitor usage and web traffic for the past 30 days.",observabilityBase:"Gain comprehensive visibility into your application's health and performance.",webAnalytics:"Get more insights on your website's visitors with a longer reporting window, more custom event properties, and advanced UI features.",saml:"Enable SAML Single Sign-On (SSO) for your team to provide secure, centralized authentication through your identity provider.",hipaaAddon:"Enter into a Business Associate Agreement (BAA) with Vercel to enable storing, processing, or transmitting Protected Health Information (PHI) in compliance with HIPAA.",onDemandConcurrentBuilds:"On-Demand concurrent builds provides dynamic scaling of builds, allowing projects to temporarily increase their build capacity when needed.",microfrontendsProject:"Build and compose independent applications as a single experience for users.",bulkRedirect:"Increase the max number of redirects that can be added to your projects."},s={passwordProtection:i.Resource.PasswordProtection,concurrentBuilds:i.Resource.ConcurrentBuilds,previewDeploymentSuffix:i.Resource.PreviewDeploymentSuffix,analytics:i.Resource.SpeedInsights,monitoring:i.Resource.MonitoringSettings,observabilityBase:i.Resource.ObservabilityConfiguration,webAnalytics:i.Resource.WebAnalytics,saml:i.Resource.BillingInformation,hipaaAddon:i.Resource.BillingInformation,onDemandConcurrentBuilds:i.Resource.ConcurrentBuilds,microfrontendsProject:i.Resource.TeamMicrofrontends,bulkRedirect:i.Resource.BillingPlan};e.s(["ADD_ON_DESCRIPTIONS",0,a,"ADD_ON_DISPLAY_NAMES",0,r,"ADD_ON_IDS",0,{passwordProtection:"advanced-deployment-protection",concurrentBuilds:"concurrent-builds",previewDeploymentSuffix:"preview-deployment-suffix",analytics:"speed-insights",monitoring:"monitoring",observabilityBase:"observability",webAnalytics:"web-analytics",saml:"saml-sso",hipaaAddon:"hipaa-baa",onDemandConcurrentBuilds:"on-demand-concurrent-builds",microfrontendsProject:"microfrontends-project",bulkRedirect:"bulk-redirect"},"ADD_ON_LEARN_MORE_LINKS",0,{passwordProtection:"/docs/security/deployment-protection#advanced-deployment-protection",concurrentBuilds:"/docs/deployments/concurrent-builds",previewDeploymentSuffix:"/docs/deployments/generated-urls#preview-deployment-suffix",analytics:"/docs/speed-insights",monitoring:"/docs/observability/monitoring",observabilityBase:"/docs/observability",webAnalytics:"/docs/analytics",saml:"/docs/saml",hipaaAddon:"/docs/security/shared-responsibility",onDemandConcurrentBuilds:"/docs/builds/managing-builds#on-demand-concurrent-builds",microfrontendsProject:"/docs/microfrontends",bulkRedirect:"/docs/redirects#bulk-redirects"},"ADD_ON_PERMISSIONS",0,s,"getAddOnDisplayName",()=>n],8548383);var o=e.i(9508212),l=e.i(1344973),c=e.i(6891161),d=e.i(7982125);function u(e){let{name:i,disable:r,closeModal:a,loading:s,customCopy:u,overrideContent:m,invoiceItem:f,newQuantity:y,includedQuantity:p}=e,g=y===(p??0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.Modal.Body,{className:"analytics"===i?d.default.fixedHeight:void 0,children:[(0,t.jsx)(o.Stack,{paddingBottom:4,children:(0,t.jsxs)(c.Modal.Title,{children:[g?"Turn off":"Decrease"," ",n(i)]})}),m??(0,t.jsx)(c.Modal.Subtitle,{children:(0,t.jsxs)(o.Stack,{as:"span",className:"my-4",gap:4,paddingTop:2,style:{margin:0},children:[g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.Text,{children:["Your team is currently utilizing"," ",(0,t.jsx)("b",{children:n(i)}),"."]}),(0,t.jsx)(l.Text,{children:u??"Disabling it will prevent your team members from accessing it in the dashboard and turn off any related functionality immediately."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.Text,{children:["By clicking ",(0,t.jsx)("b",{children:"Confirm"}),", your team will update from having"," ",(0,t.jsxs)("b",{children:[f.quantity," ",n(i,"configure")]})," ","to having"," ",(0,t.jsxs)("b",{children:[y," ",n(i,"configure")]}),"."]}),(0,t.jsx)(l.Text,{children:"This is effective immediately upon confirmation."})]}),(0,t.jsx)(l.Text,{children:"Are you sure you want to proceed?"})]})})]}),(0,t.jsxs)(c.Modal.Actions,{children:[(0,t.jsx)(c.Modal.Action,{fullWidth:!!m,onClick:()=>a("disable"),type:"secondary",children:"Cancel"}),m?null:(0,t.jsx)(c.Modal.Action,{buttonType:"button",loading:s,onClick:r,children:"Confirm"})]})]})}e.s(["DisableModalBody",()=>u],3515598);var m=e.i(6696646),f=e.i(9358876),y=e.i(2466450),p=e.i(613694),g=e.i(4883159);function h(e){let{lineItems:i,currency:n,nonProratedCustomCopy:r,customCopy:a,invoiceItem:s,name:c,addOnValue:d,prorate:u,billingPeriod:h,unit:b,includedQuantity:x}=e,v=(0,m.useMemo)(()=>{if("analytics"===c)return d.map(e=>({name:e.name,price:s.price}));if(x){let e=Math.max(d-s.quantity,0);if(e>0)return[...i,{name:`${e} additional ${(0,f.pluralize)(b??"item",e)}`,price:s.price*e}]}return i},[d,x,s,i,c,b]),{subscriptionQuantityDelta:j,immediateQuantityDelta:C}=(0,m.useMemo)(()=>{if("analytics"===c){let e=d.filter(e=>{let t=e.speedInsights??e.analytics,i=t?.disabledAt;return!i||!h||i<=h.start});return{subscriptionQuantityDelta:d.length,immediateQuantityDelta:e.length}}let e=1;return"number"==typeof d&&(e=d),{subscriptionQuantityDelta:e-s.quantity,immediateQuantityDelta:e-(s.highestQuantity??s.quantity)}},[d,h,s.highestQuantity,s.quantity,c]),A=j*s.price,_=(0,p.prorateAmount)(C*s.price,u,h),S=(0,m.useMemo)(()=>{if(!u)return(0,t.jsxs)(t.Fragment,{children:["By clicking ",(0,t.jsx)("b",{children:"Confirm and Pay"}),", the amount of"," ",(0,t.jsx)("b",{children:(0,y.formatCurrency)(A,n)})," will be added to your invoice",r??".",a]});let e=(0,t.jsxs)(t.Fragment,{children:["By clicking ",(0,t.jsx)("b",{children:"Confirm and Pay"}),", the amount of"," ",(0,t.jsx)("b",{children:(0,y.formatCurrency)(A,n)})," will be added to your subscription."]});return _>0?(0,t.jsxs)(t.Fragment,{children:[e," and your credit card will be charged"," ",(0,t.jsxs)("b",{children:[(0,y.formatCurrency)(_,n)," immediately"]})," for the remaining days in your billing cycle.",a]}):(0,t.jsxs)(t.Fragment,{children:[e," and there will be no immediate charge because you have already enabled this within your current billing cycle.",a]})},[n,r,a,_,u,A]);return(0,t.jsxs)(o.Stack,{gap:2,children:[(0,t.jsx)(l.Text,{className:g.default.description,children:S}),(0,t.jsxs)(o.Stack,{children:[v.map(e=>{let{name:i,price:r,removal:a=!1,priceDescriptor:c="/ month",shortDescription:d}=e;return(0,t.jsxs)(o.Stack,{align:"center",className:g.default.item,direction:"row",justify:"space-between",paddingY:4,children:[(0,t.jsxs)(o.Stack,{children:[(0,t.jsx)(l.Text,{className:a?"line-through":"",color:"gray-800",weight:500,children:i}),d?(0,t.jsx)(l.Text,{color:"gray-800",children:d}):null]}),(0,t.jsxs)(l.Text,{align:"right",className:a?"line-through":"",color:"gray-800",children:[(0,y.formatCurrency)("from_invoice_item"===r?s.price:r,n)," ",c]})]},i)}),(0,t.jsxs)(o.Stack,{direction:"row",justify:"space-between",paddingY:4,children:[(0,t.jsx)(l.Text,{weight:500,children:"Total"}),(0,t.jsxs)(l.Text,{weight:500,children:[(0,y.formatCurrency)(A,n)," / month"]})]}),(0,t.jsx)(l.Text,{align:"right",size:12,color:"gray-900",children:"* Plus applicable tax and fees"})]})]})}e.s(["ConfirmationInvoice",()=>h],9773598);var b=e.i(119294),x=e.i(6352514);let v={toggle_on:x.AnalyticsEvent.ADD_ONS_TOGGLE_ENABLE_CLICKED,toggle_off:x.AnalyticsEvent.ADD_ONS_TOGGLE_DISABLE_CLICKED,open_update_modal:x.AnalyticsEvent.ADD_ONS_OPEN_UPDATE_MODAL,learn_more:x.AnalyticsEvent.ADD_ONS_LEARN_MORE_CLICKED,exit_modal:x.AnalyticsEvent.ADD_ONS_MODAL_EXITED,change_step:x.AnalyticsEvent.ADD_ONS_MODAL_STEP_CHANGED,enable:x.AnalyticsEvent.ADD_ONS_ENABLED,update:x.AnalyticsEvent.ADD_ONS_UPDATED,disable:x.AnalyticsEvent.ADD_ONS_DISABLED,more_details:x.AnalyticsEvent.ADD_ONS_MORE_DETAILS_EXPANDED,project_list_cta:x.AnalyticsEvent.ADD_ONS_PROJECT_LIST_CTA_CLICKED};e.s(["trackAddOnEvent",0,e=>{let{eventName:t,addOn:i,source:n,step:a,value:s}=e,o=v[t],l=r[i];b.analytics.track(o,{addOn:"string"==typeof l?l:l.modal,source:n,step:a,value:s})}],7719396)},364898,9477971,e=>{"use strict";var t=e.i(6468255),i=e.i(6696646),n=e.i(9508212),r=e.i(6891161),a=e.i(455575),s=e.i(7917902),o=e.i(1412448),l=e.i(2466450);e.i(1585898);var c=e.i(2066827),d=e.i(3343142),u=e.i(6998974),m=e.i(8548383),f=e.i(3515598),y=e.i(9773598),p=e.i(8232741),g=e.i(1344973),h=e.i(57106),b=e.i(4450694),x=e.i(7719396),v=e.i(9736132),j=e.i(2151290);function C(e){let{addOn:i,description:r,ctaCopy:a,ctaHrefBase:s,team:o}=e,{data:l,isLoading:c}=(0,b.useSpeedInsightsEnabledProjects)(),d=l?.projects||[],u=o?.slug;return(0,t.jsxs)(n.Stack,{className:j.default.stack,gap:6,children:[(0,t.jsx)(g.Text,{children:r}),c||!u?(0,t.jsx)(A,{ctaCopy:a}):(0,t.jsx)(t.Fragment,{children:d.length>0?(0,t.jsx)(p.Entity.List,{className:j.default.container,children:d.map(e=>(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsxs)(n.Stack,{direction:"row",gap:2,paddingLeft:1,children:[(0,t.jsx)(v.FrameworkAvatar,{project:e}),(0,t.jsx)(g.Text,{weight:500,children:e.name})]})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(h.ButtonLink,{href:`/${u}/${e.name}${s||""}`,onClick:()=>(0,x.trackAddOnEvent)({eventName:"project_list_cta",source:"billing-settings-add-ons",value:`/${u}/${e.name}${s||""}`,addOn:i}),type:"secondary",children:a})})]},e.id))}):null})]})}function A(e){let{ctaCopy:i}=e;return(0,t.jsxs)(n.Stack,{gap:6,children:[(0,t.jsxs)(p.Entity.List,{children:[(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)(n.Stack,{direction:"row",gap:2,paddingLeft:1,children:(0,t.jsx)(v.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(h.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]}),(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)(n.Stack,{direction:"row",gap:2,paddingLeft:1,children:(0,t.jsx)(v.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(h.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]}),(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)(n.Stack,{direction:"row",gap:2,paddingLeft:1,children:(0,t.jsx)(v.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(h.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]})]}),(0,t.jsx)(h.ButtonLink,{disabled:!0,href:"/",type:"secondary",width:"100%"})]})}function _(e){let{instructions:i,children:r}=e;return(0,t.jsxs)(n.Stack,{gap:6,children:[i?(0,t.jsx)(g.Text,{children:i}):null,r]})}e.s(["ProjectList",()=>C],9477971);var S=e.i(7982125);function w(e){let{name:n,price:r,enable:c,disable:d,isEnabled:m,enableSteps:f,disableSteps:y,analyticsEventSource:p,update:g,currentAddOnValue:h,includedQuantity:b,unit:x,onStart:v,onSuccess:j,onClose:C}=e,A=(0,a.useToasts)(),{team:_,user:S,isLoading:w,mutate:k}=(0,s.useAccount)(),E=(0,u.billingFeatureSupported)(_,"billing.proratedAddOns"),O=(0,i.useMemo)(()=>{let e=_?.billing?.invoiceItems?.[n],t=e&&"highestQuantity"in e?e.highestQuantity:null;return"webAnalytics"!==n&&e?e:{price:r,quantity:e?.quantity??b??0,highestQuantity:t??b??0}},[b,n,r,_?.billing?.invoiceItems]),[P,N]=(0,i.useState)(null),{mutate:T}=(0,o.useUpcomingUsage)({enabled:!!P}),B=(0,i.useCallback)(()=>Promise.race([k(),T()]),[k,T]),L=m?.(_)??(O.quantity>(b??0)||!!_?.enabledInvoiceItems?.[n]?.enabled),M=_?.billing?.currency,I=(0,i.useMemo)(()=>(0,l.formatCurrency)(O.price,M),[O,M]),[R,$]=(0,i.useState)(h),F=(0,i.useCallback)(e=>{e&&$(e),N("enableOrUpdate")},[$,N]),q=(0,i.useCallback)(()=>{"analytics"!==n&&$(b??0),N("disable")},[$,N,b,n]),H=(0,i.useMemo)(()=>null!==P?(0,t.jsx)(D,{addOnValue:R,analyticsSource:p,currency:M,disable:d,disableSteps:y,enable:c,enableSteps:f,includedQuantity:b,invoiceItem:O,isEnabled:L,modalType:P,mutate:B,name:n,onClose:C,onStart:v,onSuccess:j,prorate:E,setAddOnValue:$,setModalType:N,team:_,toasts:A,unit:x,update:g}):null,[P,R,p,M,d,y,c,f,b,O,L,B,n,C,v,j,E,_,A,x,g]);return!w&&S&&_?{isEnabled:L,AddOnModal:H,openEnableOrUpdateModal:F,openDisableModal:q,formattedPrice:I}:{isEnabled:!1,formattedPrice:I}}function D(e){let{prorate:a,addOnValue:s,analyticsSource:o,currency:l,disable:u,enable:p,isEnabled:g,mutate:h,name:b,invoiceItem:v,setAddOnValue:j,modalType:A,setModalType:w,enableSteps:D,disableSteps:k,team:E,toasts:O,update:P,unit:N,includedQuantity:T,onStart:B,onSuccess:L,onClose:M}=e,I=(0,i.useMemo)(()=>"number"==typeof s?s:Array.isArray(s)?s.length:0,[s]),[R,$]=(0,i.useState)(!1),[F,q]=(0,i.useState)(function(e,t,i){if("enableOrUpdate"===t){if("postConfirmConfiguration"in e&&i)return"postConfirmConfiguration";if("configure"in e)return"configure"}else if("disable"===t)return"disable";return"confirm"}(D,A,g)),[H,U]=(0,i.useState)(null),Q=(0,i.useCallback)(e=>{q(e),(0,x.trackAddOnEvent)({eventName:"change_step",addOn:b,source:o,step:e,value:s})},[s,o,b]),G=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(s&&!g||"disable"===e)&&j(void 0),(0,x.trackAddOnEvent)({eventName:"exit_modal",addOn:b,source:o,step:e,value:s}),w(null),M?.(t)},[s,o,g,b,j,w,M]),K=(0,i.useCallback)(async()=>{if(E&&u){B?.();try{$(!0),await u({team:E,addOnValue:s}),await h(),L?.(),O.success(`Disabled ${(0,m.getAddOnDisplayName)(b,F)}.`),(0,x.trackAddOnEvent)({eventName:"disable",addOn:b,source:o})}catch(e){G(F),e instanceof Error?O.error(e.message):O.error(`We ran into an unexpected issue disabling ${(0,m.getAddOnDisplayName)(b,F)}. Please try again later.`)}finally{$(!1)}}},[E,G,u,s,h,O,b,o,F,L,B]),V=(0,i.useCallback)(async()=>{if(E){B?.();try{return g&&P?(U(null),await P({team:E,addOnValue:s})):await p({team:E,addOnValue:s}),await h(),L?.(),O.success(`${g?"Updated":"Enabled"} ${(0,m.getAddOnDisplayName)(b,F)}.`),(0,x.trackAddOnEvent)({eventName:g&&P?"update":"enable",addOn:b,source:o,value:s}),!0}catch(e){g&&"previewDeploymentSuffix"===b?U(e instanceof Error?e.message:"Unexpected error updating Preview Deployment Suffix"):(G(F),e instanceof Error?O.error(e.message):O.error(`We ran into an unexpected issue enabling ${(0,m.getAddOnDisplayName)(b,F)}. Please try again later.`))}}},[E,g,P,s,p,h,O,b,o,G,F,L,B]),z=(0,i.useCallback)(()=>{switch(F){case"configure":G("configure",!0);break;case"confirm":"configure"in D?Q("configure"):G("confirm",!0);break;case"postConfirmProjectList":G("postConfirmProjectList",!0);break;case"postConfirmConfiguration":G("postConfirmConfiguration",!0);break;default:w(null)}},[F,G,D,w,Q]),W=(0,i.useMemo)(()=>{switch(F){case"postConfirmConfiguration":case"configure":return"Cancel";case"confirm":if("configure"in D)return"Back";return"Cancel"}},[F,D]),Y=(0,i.useCallback)(async()=>{switch(F){case"configure":a&&"number"==typeof s&&s<v.quantity?Q("disable"):Q("confirm");break;case"confirm":$(!0),await V(),$(!1),"postConfirmProjectList"in D?Q("postConfirmProjectList"):"postConfirmConfiguration"in D?Q("postConfirmConfiguration"):G("confirm");break;case"postConfirmProjectList":G("postConfirmProjectList");break;case"postConfirmConfiguration":{if(!P){G("postConfirmConfiguration");break}$(!0);let e=await V();$(!1),e&&G("postConfirmConfiguration");break}case"disable":await K(),"exitSurvey"in k?Q("exitSurvey"):G("disable");break;case"exitSurvey":G("exitSurvey");break;default:w(null)}},[F,a,s,v.quantity,V,D,G,w,Q,P,K,k]),Z=(0,i.useMemo)(()=>{switch(F){case"configure":return"Next";case"confirm":return"Confirm and Pay";case"postConfirmProjectList":return"Close";case"postConfirmConfiguration":if(!P)return"Close";return"Save"}},[F,P]),J=(0,i.useMemo)(()=>{switch(F){case"postConfirmConfiguration":case"configure":{let e=D[F]?.content;if(!e){Q("confirm");break}let i=D[F]?.instructions||"";return(0,t.jsx)(_,{instructions:i,children:"function"==typeof e?(0,t.jsx)(e,{addOnValue:s,configureError:H,setAddOnValue:j}):e})}case"confirm":{let e=D[F];return(0,t.jsx)(y.ConfirmationInvoice,{addOnValue:s,billingPeriod:E?.billing?.period??null,currency:l,customCopy:e.customCopy,includedQuantity:T,invoiceItem:v,lineItems:e.lineItems,name:b,nonProratedCustomCopy:e.nonProratedCustomCopy,prorate:a,unit:N})}case"postConfirmProjectList":return(0,t.jsx)(C,{addOn:b,ctaCopy:D[F]?.ctaCopy,ctaHrefBase:D[F]?.ctaHrefBase,description:D[F]?.description,team:E})}},[F,b,D,E,s,H,j,Q,l,T,v,a,N]),X=(0,i.useMemo)(()=>"configure"===F&&(!!("number"==typeof s&&s===v.quantity||Array.isArray(s)&&0===s.length)||!s),[s,v.quantity,F]),ee="postConfirmProjectList"===F||"postConfirmConfiguration"===F&&!P;return"exitSurvey"===F?(0,t.jsx)(c.SurveyModal,{active:!0,enableSkip:!0,onDismiss:()=>{G(F)},onSubmit:async e=>{await Y(),e.hasResponses&&await (0,d.createSurveyEntry)({data:e})},setActive:()=>{},showThankYouToast:!1,submitOnSkip:!0,surveyInfo:k[F]}):(0,t.jsx)(r.Modal.Modal,{active:!0,allowOverflow:!0,onClickOutside:()=>G(F),style:{maxHeight:"540px"},width:"540px",children:"disable"===F?(0,t.jsx)(f.DisableModalBody,{closeModal:G,customCopy:k[F].customDisableCopy,disable:Y,includedQuantity:T,invoiceItem:v,loading:R,name:b,newQuantity:I,overrideContent:k[F].customDisableModal}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Modal.Body,{className:"analytics"===b?S.default.fixedHeight:void 0,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Stack,{paddingBottom:4,children:(0,t.jsxs)(r.Modal.Title,{children:[(0,m.getAddOnDisplayName)(b,F),"postConfirmProjectList"===F?" Added":""]})}),J]})}),(0,t.jsxs)(r.Modal.Actions,{children:[ee?null:(0,t.jsx)(r.Modal.Action,{onClick:z,type:"secondary",children:W}),(0,t.jsx)(r.Modal.Action,{disabled:X,fullWidth:ee,loading:R,onClick:Y,children:Z})]})]})})}e.s(["useTogglePaidAddOn",()=>w],364898)}]);

//# sourceMappingURL=fdff39f68d0a4ed2.js.map
//# debugId=e0a35ae8-7106-5f16-88a9-bef9da56c27f
