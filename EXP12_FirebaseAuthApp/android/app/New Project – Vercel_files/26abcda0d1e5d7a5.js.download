
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a277c1af-edec-5632-950c-130bbf958f7e")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1116271,e=>{"use strict";var t=e.i(3911483),r=e.i(8042625),i=e.i(277234),n=e.i(5338940);function a(e){let{deploymentId:a}=e,{isReady:o,team:s}=(0,n.useTeam)();return(0,t.default)(()=>o&&a?`/api/v1/microfrontends/${a}/config${(0,r.encode)({teamId:s?.id})}`:null,async e=>{let t=await (0,i.fetchAPI)(e);return"error"in t?null:t})}e.s(["useMicrofrontendsConfig",()=>a])},9584456,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M4.3934 0.292893C4.58094 0.105357 4.83529 0 5.10051 0H10.8995C11.1647 0 11.4191 0.105357 11.6066 0.292893L15.7071 4.3934C15.8946 4.58093 16 4.83529 16 5.10051V10.8995C16 11.1647 15.8946 11.4191 15.7071 11.6066L11.6066 15.7071C11.4191 15.8946 11.1647 16 10.8995 16H5.10051C4.83529 16 4.58094 15.8946 4.3934 15.7071L0.292894 11.6066C0.105357 11.4191 0 11.1647 0 10.8995V5.10051C0 4.83529 0.105357 4.58094 0.292893 4.3934L4.3934 0.292893ZM8.75 3.75V4.5V8L8.75 8.75H7.25V8V4.5V3.75H8.75ZM8 12C8.55229 12 9 11.5523 9 11C9 10.4477 8.55229 10 8 10C7.44772 10 7 10.4477 7 11C7 11.5523 7.44772 12 8 12Z" fill="currentColor"/>');e.s(["StopFill",0,t])},2627304,e=>{"use strict";var t=e.i(6468255),r=e.i(4585051),i=e.i(9508212),n=e.i(5468328),a=e.i(9584456),o=e.i(6696646);function s(e){let{Component:s=r.Avatar,tooltipProps:l,...c}=e,[d,u]=(0,o.useState)(!1),m=(0,o.useMemo)(()=>({"--size":`${c.size}px`}),[c.size]);return d?(0,t.jsx)(n.Tooltip,{...l,children:(0,t.jsx)(i.Stack,{align:"center",className:"size-[--size] rounded-full bg-gray-300 text-gray-900 shadow-border-inset",justify:"center",style:m,children:(0,t.jsx)(a.StopFill,{size:.5*c.size})})}):(0,t.jsx)(s,{...c,onError:()=>{c.onError?.(),u(!0)}})}e.s(["AvatarWithError",()=>s])},2689512,e=>{"use strict";var t=e.i(6468255),r=e.i(4585051),i=e.i(6696646),n=e.i(8971984),a=e.i(2627304),o=e.i(9722978);function s(e){let{project:r,size:s=32,skipSkeleton:c}=e,d=(0,n.getProjectAvatar)(r),[u,m]=(0,i.useState)(!c);return(0,t.jsxs)("div",{className:"relative inline-flex",style:{height:s,width:s},children:[(0,t.jsx)(a.AvatarWithError,{className:(0,o.clsx)("cursor-pointer",{"content-visibility-hidden":u}),mask:!1,size:s,src:d?.src,style:{flexBasis:s},tooltipProps:{className:"relative z-[2]",text:"There was an issue rendering your favicon"},onLoadingComplete:()=>{m(!1)},onError:()=>{m(!1)}}),u?(0,t.jsx)(l,{className:"absolute inset-0",size:s}):null]})}function l(e){let{className:i="",size:n=32}=e;return(0,t.jsx)(r.Avatar,{className:i,placeholder:!0,size:n})}e.s(["ProjectAvatar",()=>s,"ProjectAvatarSkeleton",()=>l])},1583207,e=>{"use strict";var t=e.i(6468255),r=e.i(6161994),i=e.i(2504781),n=e.i(8522580),a=e.i(6696646);e.i(6483798);var o=e.i(8287059),s=e.i(5338940);function l(e){let{children:r,action:i}=e;return(0,t.jsx)(n.Note,{type:"alert",fill:!0,icon:!1,action:i,children:r})}function c(e){let n=e&&"groupId"in e?e.groupId:void 0,c=e&&"selectedProjectsCount"in e?e.selectedProjectsCount:void 0,{data:d}=(0,r.useMicrofrontendsGroups)(),m=(d?.groups.find(e=>e.group.id===n)?.projects.length??c??0)>=(d?.maxMicrofrontendsPerGroup??1/0),p=(d?.groups.length??0)>=(d?.maxMicrofrontendsGroupsPerTeam??1/0),h=Array.from(new Set(d?.groups?.flatMap(e=>e.projects.map(e=>e.id)))).length,{team:f}=(0,s.useTeam)(),g=f?.billing,j=(0,o.useOpenUpgradeModal)(),x=function(e){switch(u(e)){case"hobby":return e=>({description:`You've reached your ${"add-project"===e?"project":"microfrontends group"} limit for Hobby`,actionText:"Upgrade"});case"pro-trial":return e=>({description:`You've reached your ${"add-project"===e?"project":"microfrontends group"} limit for Pro Trial`,actionText:"End Trial & Start Pro"});case"legacy-pro":return e=>({switchToNewPro:!0,description:`You must switch to the new Pro plan to ${"add-project"===e?"add more projects":"create a new microfrontends group"}`,actionText:"Review & Switch"});default:return()=>{}}}(g),y=(0,a.useCallback)(e=>{let{action:r,source:n,closeMfeModal:a}=e;if(!g||"add-project"===r&&!m||"create-group"===r&&!p)return null;let o=x(r);return o?(0,t.jsx)(l,{action:(0,t.jsx)(i.Button,{size:"small",typeName:"button",onClick:()=>{a?.(),j({source:n,teamHint:f?.id,forceImmediateUpgrade:!0,switchToNewPro:o.switchToNewPro})},children:o.actionText}),children:o.description}):(0,t.jsx)(l,{children:"add-project"===r?"This group has reached the maximum number of projects.":"Your team has reached the maximum number of microfrontends groups."})},[j,p,g,x,m,f]);return{groupHasExceededMaxProjects:m,teamHasExceededMaxGroups:p,verifyMicrofrontendsAction:y,totalExistingMfeProjects:h,teamHasUsedAllFreeProjects:h+(c??0)>=2,totalRemainingFreeProjects:Math.max(2-h,0)}}function d(e){let{calculateTotal:r,...i}=e,{team:n}=(0,s.useTeam)(),a=u(n?.billing),{teamHasUsedAllFreeProjects:o,totalRemainingFreeProjects:l}=c(i);if(!n?.billing)return null;let d=((i&&"selectedProjectsCount"in i?i.selectedProjectsCount:void 0)??0)-l;return(0,t.jsxs)("div",{className:"flex flex-col w-full gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-900",children:["Project Monthly Fee","hobby"===a?" (2 Max)":""]}),(0,t.jsx)("span",{className:"text-sm",children:"hobby"===a?"Free":o?r?d>0?(0,t.jsxs)(t.Fragment,{children:[d," x $",250]}):(0,t.jsxs)(t.Fragment,{children:["Free"," ",(0,t.jsxs)("span",{className:"text-gray-900",children:["(First ",2,")"]})]}):(0,t.jsxs)(t.Fragment,{children:["$",250]}):(0,t.jsxs)(t.Fragment,{children:["Free"," ",(0,t.jsxs)("span",{className:"text-gray-900",children:["(First ",2,")"]})]})})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-900",children:"hobby"===a?"Request Fee (50K Max)":"Fee/Million Requests"}),(0,t.jsx)("span",{className:"text-sm",children:"hobby"===a?"Free":(0,t.jsxs)(t.Fragment,{children:["$",2]})})]})]})}function u(e){if(e){if("pro"===e.plan&&"trialing"===e.status)return"pro-trial";if("pro"===e.plan&&"plus"!==e.planIteration)return"legacy-pro";if("hobby"===e.plan)return"hobby"}}e.s(["MicrofrontendsBilling",()=>d,"useMicrofrontendsBilling",()=>c])},8866953,e=>{"use strict";var t=e.i(8042625),r=e.i(277234),i=e.i(4244280);async function n(e){let{projectId:n,microfrontendsGroupId:a,defaultRoute:o,teamSlug:s}=e;await (0,r.fetchAPI)(`${(0,i.API_PROJECTS_MICROFRONTENDS)(n)}${(0,t.encode)({teamId:s})}`,{method:"PATCH",body:{microfrontendsGroupId:a,isDefaultApp:!1,defaultRoute:o,enabled:!0},throwOnHTTPError:!0})}e.s(["addProjectToMicrofrontendsGroup",()=>n])},9762045,e=>{"use strict";var t=e.i(8042625),r=e.i(277234);function i(e){let{groupName:i,defaultApp:n,nonDefaultProjects:a,teamId:o}=e;return(0,r.fetchAPI)(`/api/v1/microfrontends/group${(0,t.encode)({teamId:o})}`,{method:"POST",body:{groupName:i,defaultApp:{projectId:n.projectId,defaultRoute:n.defaultRoute||"/"},otherApplications:a.map(e=>({projectId:e.projectId,defaultRoute:e.defaultRoute}))},throwOnHTTPError:!0})}e.s(["createMicrofrontendsGroup",()=>i])},3930829,e=>{"use strict";var t=e.i(6696646),r=e.i(8815282),i=e.i(2919890),n=e.i(7316497),a=e.i(5260505),o=e.i(8765922),s=e.i(1194788);function l(e,l,c){let{isServer:d,config:u,fetcher:m,fallbackSource:p}=(0,i.useIsomorphicSwrContext)(!0),h=(0,t.useMemo)(()=>"function"==typeof l?(e,t)=>l(e,t):(e,t)=>t(e),[l]),f=(0,t.useMemo)(()=>e=>{if(d)throw Error("useSWR: swrFetcher is not available on server");return h(e,m)},[d,h,m]),g="object"==typeof l?l:c,{ssr:j,...x}=g??{},y=(0,n.mergeConfig)(u,g),v=e(0,null),b=p(v??null,h,y,!1),{data:w,isLoading:A,error:$}=(0,a.useAsyncValue)(d,b),S=(0,r.default)((t,r)=>{let i=e(t,r);return A&&!d?null:i},f,{...x,suspense:!1,fallback:{[(0,r.unstable_serialize)(e)]:w?[w]:void 0},revalidateOnMount:!d&&(x.revalidateOnMount??(!w&&!A))}),{mutate:I,data:N,isLoading:P}=S,C=(0,t.useMemo)(()=>(0,o.withThrottle)(v,()=>{(0,s.debug)(`Client fallback data fetch for ${v}`),I()},2e3),[v,I]);return(0,t.useEffect)(()=>{!$||P||N||C()},[$,C,N,P]),{...S,isLoading:S.isLoading&&void 0===S.data||A||d}}e.s(["useIsomorphicSWRInfinite",()=>l])},5771992,e=>{"use strict";var t=e.i(6696646),r=e.i(3911483),i=e.i(8042625),n=e.i(277234),a=e.i(4244280),o=e.i(5338940),s=e.i(1360174),l=e.i(5140444),c=e.i(9100551),d=e.i(3930829),u=e.i(588428),m=e.i(4670733),p=e.i(2259673),h=e.i(7783521);function f(e){var r;let n,{limit:f,project:g,projectId:j,requireProject:x,users:y,target:v,readyStateFilter:b,meta:w,rollbackCandidate:A,since:$,until:S,subscribeToUpdates:I,branch:N,sha:P,ignoreProjectSlug:C,projectIds:T}=e,{refreshInterval:k,...L}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:M,team:_}=(0,o.useTeam)(),{user:z}=(0,l.useUser)(),[R,E]=(0,t.useState)(()=>k),F=y&&y.length>0?y.map(e=>e.uid).join(","):null,W=g?.id||j,{value:O}=(0,m.useInstantRollbackHobbyRestrictionFlag)(),{value:H}=(0,u.useInstantRollbackHobbyRestrictionTeamFlag)(),{teamSlug:B,project:q}=(0,c.useParams)()??{},G={projectId:W,limit:f,teamId:_?.id,target:v||null,users:F,state:b,meta:w,rollbackCandidate:A,since:$,until:S,branch:N,sha:P,projectIds:T},V=x||(O||H)&&void 0!==A&&(!_||_.billing?.plan==="hobby"),U=(0,d.useIsomorphicSWRInfinite)((e,t)=>{if(B&&q&&!C){if(!e)return`${(0,a.API_DEPLOYMENTS)(D)}${(0,i.encode)({...G,teamId:B,projectId:q})}`;let r=t&&t.deployments.length>=f?t.deployments[t.deployments.length-1].created-1:null;return r?`${(0,a.API_DEPLOYMENTS)(D)}${(0,i.encode)({...G,teamId:B,projectId:q,from:r})}`:null}if(V&&!W)return null;if(!e)return M?`${(0,a.API_DEPLOYMENTS)(D)}${(0,i.encode)(G)}`:null;let r=t&&t.deployments.length>=f?t.deployments[t.deployments.length-1].created-1:null;return r&&M?`${(0,a.API_DEPLOYMENTS)(D)}${(0,i.encode)({...G,from:r})}`:null},{...L,refreshInterval:R,ssr:{timeout:1e3}}),{mutate:Y}=U,Z=(0,t.useMemo)(()=>(0,s.default)(()=>{Y()},100),[Y]),{isListening:K}=(n=(r=I?g:void 0)?`${r.accountId}-${r.id}`:void 0,(0,p.usePusherEvent)("deployments",n,"deployment-created",Z));K||k===R?K&&3e4!==R&&E(3e4):E(k);let X=(0,t.useMemo)(()=>U.data?U.data.flatMap(e=>e.deployments):[],[U.data]),J=_?_.id:z?.uid,Q=(0,t.useMemo)(()=>I&&J?X.map(e=>({id:e.uid,readyState:e.readyState,aliasAssigned:!!e.aliasAssigned,ownerId:J})):[],[X,I,J]);(0,h.useDeploymentsStatusPing)(Q,Z);let ee=!!U.data,et=ee&&0===X.length,er=ee&&U.data&&U.size>U.data.length,ei=ee&&U.data&&U.data[U.data.length-1]?.deployments.length<f;return[U,{deployments:X,initialDataLoaded:ee,isEmpty:et,loadMore:()=>U.setSize(e=>e+1),isLoadingMore:er,isReachingEnd:ei,mutate:U.mutate}]}function g(e){let{limit:t,projectId:s,project:l,from:c,target:d,users:u=[],...m}=e,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:f,team:g}=(0,o.useTeam)(),j=u.length>0?u.map(e=>e.uid).join(","):null,x=!!s||!!l?.id;return(0,r.default)(f&&x&&t>0?`${(0,a.API_DEPLOYMENTS)(h)}${(0,i.encode)({projectId:s||l?.id,limit:t,from:c||null,teamId:g?.id,target:d,users:j,...m})}`:null,e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0}),p)}e.s(["default",()=>g,"useDeploymentsInfinite",()=>f],5771992)},415061,e=>{"use strict";var t=e.i(6468255);function r(e){let{width:r=24,height:i=24,style:n}=e;return(0,t.jsxs)("svg",{fill:"none",height:i,style:{border:"1px solid var(--accents-2)",borderRadius:"100%",boxSizing:"border-box",...n},viewBox:"0 0 24 24",width:r,children:[(0,t.jsx)("path",{clipRule:"evenodd",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z",fill:"#000",fillRule:"evenodd"}),(0,t.jsx)("path",{clipRule:"evenodd",d:"M12.24 6.24L18 16.378H6.48L12.24 6.24z",fill:"#fff",fillRule:"evenodd"})]})}e.s(["default",()=>r])},8651268,e=>{"use strict";var t=e.i(6468255),r=e.i(415061),i=e.i(4585051),n=e.i(76079),a=e.i(3025777),o=e.i(3896588),s=e.i(6683690);let l={12:-6},c={12:-5};function d(e){var u,m,p,h,f,g,j;let x,y,v,b,w,{title:A,principalId:$,principal:S,viaIds:I,via:N,size:P=32,style:C,entities:T,deploymentMeta:k,viewerId:L,iconBackground:D,...M}=e,_=!1,z=M.iconSize??(0==(x=(u=P/2.2)%2)?u:u+2-x);T?.forEach(e=>{"system"===e.type?_=!0:"github_login"===e.type?y=e:"gitlab_login"===e.type?v=e:"bitbucket_login"===e.type&&(b=e)}),k&&(k.githubCommitAuthorLogin?y={login:k.githubCommitAuthorLogin}:k.gitlabCommitAuthorLogin?v={login:k.gitlabCommitAuthorLogin,avatar:k.gitlabCommitAuthorAvatar}:k.bitbucketCommitAuthorName&&(b={login:k.bitbucketCommitAuthorName,avatar:k.bitbucketCommitAuthorAvatar}));let R="object"==typeof M.showProviderIcon?M.showProviderIcon:{github:M.showProviderIcon,gitlab:M.showProviderIcon,bitbucket:M.showProviderIcon};if(m=$,p=S,p?.type==="app"||m.startsWith("cl_")||(h=$,f=S,f?.type==="integration"||h.startsWith("oac_"))){let e=S&&"name"in S?S.name:void 0;return(0,t.jsx)(i.Avatar,{hash:S?.avatar,size:P,style:C,title:A??(e?`${e} Avatar`:void 0),uid:$})}if(_||(g=$,j=S,j?.type==="system"||"system"===g))return(0,t.jsx)(r.default,{height:P,style:{marginTop:"2px",...C??{}},width:P});let E=A;$===L?(w="You",E??="Your Avatar"):S&&"username"in S&&(w=S.username,E??=`${w} Avatar`);let F=function(e,t){let r=e?.[0],i=t?.[0];if(!r){if(!i)return;switch(i.type){case"app":r=i.clientId;break;case"integration":r=i.id;break;case"system":r="system";break;default:r=i.uid}}return[r,i]}(I,N);return F?(0,t.jsx)(n.AvatarWithIcon,{hash:S?.avatar,size:P,style:C,title:E,uid:$,iconBackground:D,left:c[z],icon:(0,t.jsx)(d,{principalId:F[0],principal:F[1],size:z+4})}):y?.login?(0,t.jsx)(a.GitHubAvatar,{iconBackground:D,size:P,iconSize:z,left:l[z],bottom:l[z],style:C,title:A??`github/${y.login}`,username:y.login,showIcon:R.github}):v?.login?(0,t.jsx)(o.GitLabAvatar,{hash:v.avatar?void 0:S?.avatar,iconBackground:D,size:P,iconSize:z,style:C,title:A,url:v.avatar,showIcon:R.gitlab}):b?.login?(0,t.jsx)(s.BitbucketAvatar,{hash:b.avatar?void 0:S?.avatar,iconBackground:D,size:P,iconSize:z,style:C,title:A,url:b.avatar,showIcon:R.bitbucket}):(0,t.jsx)(i.Avatar,{hash:S?.avatar,size:P,style:C,title:E,uid:$})}function u(e){let t,{principalId:r,principal:i,viaIds:n,via:a,viewerId:o,includeVia:s}=e;if(i)switch(i.type){case"app":case"integration":t=i.name;break;case"system":t="System";break;default:if(i.uid===o){t="You";break}t=i.username}if(r&&r===o&&(t="You"),t&&s){let e=m({viaIds:n,via:a,viewerId:o});e&&(t+=`via ${e}`)}return t}function m(e){let{viaIds:t,via:r,viewerId:i}=e;if(t&&t.length>0)return u({principalId:t[0],principal:r?.[0],viewerId:i})}e.s(["PrincipalAvatar",()=>d,"getPrincipalName",()=>u,"getViaName",()=>m])},2982888,e=>{"use strict";var t=e.i(6468255),r=e.i(4585051),i=e.i(415061),n=e.i(8651268);function a(e){let{deployment:r,size:i=24,showIcon:n=!0,iconBackground:a=!0}=e;return(0,t.jsx)("span",{style:{display:"inline-block"},children:(0,t.jsx)(s,{deployment:r,iconBackground:a,showIcon:n,size:i})})}function o(e){let{deployment:t}=e;if(!t)return null;if(!t.meta?.originalDeploymentId){if(t.meta?.githubDeployment&&"string"==typeof t.meta.githubCommitAuthorLogin)return t.meta.githubCommitAuthorLogin;if(t.meta?.gitlabDeployment&&"string"==typeof t.meta.gitlabCommitAuthorLogin)return t.meta.gitlabCommitAuthorLogin;if(t.meta?.bitbucketDeployment){if("string"==typeof t.meta.bitbucketCommitAuthorLogin)return t.meta.bitbucketCommitAuthorLogin;if("string"==typeof t.meta.bitbucketCommitAuthorName)return t.meta.bitbucketCommitAuthorName}}return t.creator?.username||null}function s(e){let{deployment:i,showIcon:a,iconBackground:o,size:s}=e;return i?(0,t.jsx)(n.PrincipalAvatar,{size:s,principalId:i.creator.uid,principal:{type:"user",uid:i.creator.uid,username:i.creator.username},deploymentMeta:i.meta?.originalDeploymentId?void 0:i.meta,showProviderIcon:a,iconBackground:o}):(0,t.jsx)(r.Avatar,{placeholder:!0,size:s})}function l(e){let{height:r,width:n}=e;return(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(i.default,{height:r,width:n})})}e.s(["DeployHookAvatar",()=>l,"DeploymentCreatorAvatar",()=>a,"getDeploymentCreatorUsername",()=>o])},5307161,e=>{"use strict";var t=e.i(7917902);e.s(["useBillingPlan",0,()=>{let{user:e,team:r}=(0,t.useAccount)();return(r||e)?.billing?.plan||"hobby"}])},513116,e=>{"use strict";var t=e.i(6468255),r=e.i(5468328),i=e.i(4004502),n=e.i(7218483),a=e.i(2940029),o=e.i(2982888);function s(e){let{deployment:n,...s}=e,{createdAt:c,createdAgo:d}=l(n);return(0,t.jsxs)(a.Attribute.Item,{"data-testid":(0,i.tid)("deployment","creator"),...s,children:[(0,t.jsx)("span",{className:"flex-none",children:(0,t.jsx)(o.DeploymentCreatorAvatar,{deployment:n,iconBackground:!1,showIcon:!1,size:18})}),(0,t.jsx)("span",{className:"text-label-14 -ml-px shrink truncate",children:(0,o.getDeploymentCreatorUsername)({deployment:n})}),(0,t.jsx)(r.Tooltip,{className:"flex-none",text:c,children:(0,t.jsx)("span",{className:"text-gray-900 tabular-nums",children:d})})]})}function l(e){let t=e?.undeleted||e?.deleted||e?.createdAt||e?.created;return{createdAt:t?new Date(t).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",createdAgo:(0,n.useAgo)(t)}}e.s(["DeploymentCreator",()=>s,"useDeploymentCreatedAt",()=>l])},7132425,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),i=e.i(9100551),n=e.i(9722978),a=e.i(5797774),o=e.i(1344973),s=e.i(2504781),l=e.i(8216525),c=e.i(3487134),d=e.i(762945),u=e.i(3162826),m=e.i(2988836),p=e.i(57106),h=e.i(6161994),f=e.i(1116271),g=e.i(8822420),j=e.i(6625227),x=e.i(6060673),y=e.i(7643270),v=e.i(7837522),b=e.i(7780974),w=e.i(9358876),A=e.i(5136192),$=e.i(5338940),S=e.i(4896636),I=e.i(5771992),N=e.i(4396019),P=e.i(5071474),C=e.i(7206786),T=e.i(2695633),k=e.i(513116);function L(e){let{className:r,hasWarning:i,children:a}=e;return(0,t.jsx)(g.IconInCircleWrapper,{className:(0,n.clsx)({"bg-blue-300 text-blue-900 hover:bg-blue-400":!i,"bg-amber-300 text-amber-900 hover:bg-amber-400":i},r),children:a})}function D(e){let{project:t,viewingDeployment:r}=e,{data:i}=(0,N.useProjectProductionDeployment)(t?.id,{config:{revalidateOnFocus:!1}}),n=(0,T.getGitMeta)(r?.meta),a=n?.branchName,{deployments:o}=(0,I.useDeploymentsInfinite)({limit:1,project:t,branch:a,requireProject:!0,ignoreProjectSlug:!0,readyStateFilter:"BUILDING,ERROR,INITIALIZING,QUEUED,READY",target:r?.customEnvironment?.slug||r?.target||void 0})[1];if(r){let e=a?o[0]:void 0;if(r?.customEnvironment&&r.customEnvironment.slug!==e?.customEnvironment?.slug)return;return e}return i?.deployment}function M(e){let{project:r,viewingDeployment:i}=e,n=D({project:r,viewingDeployment:i});if(!n)return null;let a=+("READY"!==n.readyState);return(0,t.jsx)(l.DeploymentStatus,{deployment:n,className:`absolute z-${a}`})}function _(e){let{viewingProject:i,viewingDeployment:n,hideOtherChildren:a,applications:o,pathParams:s,projects:l}=e,[c,d]=(0,r.useState)(!1),u=()=>d(!c),{sortedProjects:m}=(0,y.partitionMicrofrontendsProjects)(l,{viewingProjectName:i?.name,applications:o}),p=m[0],h=i?.name===p.name,f=!i||h,g=f?a?1:4:2,j=c?m.length:g,x=a&&!f?[]:[...m.length>j?[{onClick:u,name:(0,w.pluralize)(1===g?"child project":"other child project",m.length-j,!0),hideArrow:!1,statusDots:(0,t.jsx)("div",{className:"relative flex items-center justify-center size-3",children:m.slice(j).map(e=>(0,t.jsx)(M,{project:e,viewingDeployment:n},e.id))})}]:[],...1===m.length?[{onClick:u,name:"0 child projects",hideArrow:!1}]:[]],v=[...m.slice(0,j),...x];return(0,t.jsx)(t.Fragment,{children:v.map(e=>(0,t.jsx)(z,{viewingDeployment:n,pathParams:s,projectLink:e,viewingProject:i},e.name))})}function z(e){let{viewingProject:r,viewingDeployment:n,pathParams:a,projectLink:s}=e,{name:c}=s,d="hideArrow"in s&&s.hideArrow,{isDefaultApp:m}="microfrontends"in s&&s.microfrontends||{},h=r?.name===c,{team:f}=(0,$.useTeam)(),{href:g,statusDot:j,statusDotHref:x}=function(e){let{team:r,project:i,viewingDeployment:n,viewingProject:a,pathParams:o,pathname:s,searchParams:c}=e,d=D({project:i,viewingDeployment:n}),{createdAgo:u}=(0,k.useDeploymentCreatedAt)(d);if(!i||!r)return{href:void 0};let m=d&&"id"in d?d.id:d?.uid;if(n){if(d){let e=`/${r.slug}/${i.name}/${m?.replace("dpl_","")}`;return{href:e,statusDotHref:e,statusDot:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,t.jsx)(l.DeploymentStatus,{deployment:d})," ",(0,t.jsx)("span",{className:"text-gray-900 tabular-nums text-sm",children:u})]})}}let e=n.gitSource?.ref;return{href:`/${r.slug}/${i.name}/deployments${e?`?filterBranch=${e}`:""}`}}return{href:s&&a?(0,A.getScopeHref)({pathname:s,pathParams:o,searchParams:c,team:r,project:i}):`/${r.slug}/${i.name}/settings/microfrontends`,statusDotHref:`/${r.slug}/${i.name}/${m?.replace("dpl_","")}`,statusDot:d?(0,t.jsx)(l.DeploymentStatus,{deployment:d}):void 0}}({team:f,project:"id"in s?s:void 0,viewingDeployment:n,viewingProject:r,pathParams:a,pathname:(0,i.usePathname)(),searchParams:(0,i.useSearchParams)()??new URLSearchParams("")}),y="onClick"in s?s.onClick:void 0,v=j||("statusDots"in s?s.statusDots:void 0);return(0,t.jsxs)("div",{className:"group flex flex-row items-center gap-1",children:[m?null:(0,t.jsx)(t.Fragment,{children:d?(0,t.jsx)("div",{className:"size-3"}):(0,t.jsx)(u.CornerDownRight,{size:12})}),(0,t.jsx)(p.Link,{href:g,type:"secondary",variant:"underline",onClick:y,children:(0,t.jsx)(o.Text,{weight:h?500:400,size:14,children:c})}),v?(0,t.jsx)(p.Link,{href:x||g,onClick:y,children:(0,t.jsx)("div",{className:"ml-0.5",children:v})}):null,(0,t.jsx)(p.Link,{href:g,onClick:y,children:(0,t.jsx)(u.CornerDownRight,{style:{clipPath:"inset(0 0 0 5px)"},className:"opacity-0 group-hover:opacity-100",size:12})})]},c)}function R(e){let{pageContext:n,className:u="",groupId:g,side:w="bottom",project:A}=e,[$,I]=(0,r.useState)(!1),{track:N,isReady:T}=(0,v.useTrackActivity)(),k=function(e){let{pageContext:r,groupId:n,project:a}=e,u=(0,i.useParams)()||{},{teamSlug:g,project:v,id:b}=u,w=b?`dpl_${b}`:void 0,{data:A}=(0,j.default)(w),{data:$}=(0,x.useProject)(void 0===a?v:void 0),I=a||$,{data:N,isLoading:T}=(0,f.useMicrofrontendsConfig)({deploymentId:A?.microfrontends?A?.id:void 0}),k=A?.alias.find(e=>e.includes("-git-")),{data:L}=(0,S.default)({domain:k}),D=function(e){let t,{deployment:r,deploymentConfig:i,alias:n,project:a,groupId:o}=e,{data:s}=(0,h.useMicrofrontendsGroups)(),l="the production deployment of the default app";n?.microfrontends?.applications&&Array.isArray(n.microfrontends.applications)?(l="this alias",t=n.microfrontends.applications.reduce((e,t)=>(e[t.projectId]={deploymentId:t.deploymentId},e),{})):r?.microfrontends?.applications&&(l="this deployment",t=r.microfrontends.applications);let{data:c}=(0,x.useProjects)(Object.keys(t??{})),d=s?.groups.find(e=>e.group.id===a?.microfrontends?.groupIds[0]||e.group.id===o);if(!d)return null;let u=t?i?.config:d.config,m=t?c||[]:d.projects;return{...d,config:u,projects:m,target:l,applications:t}}({groupId:n,deployment:A,alias:L,deploymentConfig:N,project:I}),{data:M}=(0,j.default)(D?.configDeploymentId),{toggleHelpModal:z,isShowingHelpModal:R,manageMicrofrontendsModals:E}=(0,C.useMicrofrontendsGroupActions)({microfrontendsGroup:D});if(!g||w&&(!A||T)||v&&!I||!D)return null;let{projects:F,config:W,group:O,target:H,applications:B}=D,{defaultProject:q}=(0,y.partitionMicrofrontendsProjects)(F);if(!q)return null;let G=!I;if(G&&!z)return null;let V=`/${g}/${q.name}/settings/microfrontends`,U=!!z&&(!A||!W||"READY"!==A.readyState)&&!r,Y=U?(0,t.jsxs)(o.Text,{color:"gray-900",children:["The"," ",(0,t.jsx)(p.Link,{href:V,type:"primary",children:O.name})," ",(0,t.jsx)(p.Link,{href:`/${g}/~/settings/microfrontends`,children:"microfrontends group"})," ",W?"has invalid configuration":"is missing a configuration file","."]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(o.Text,{color:"gray-900",children:["This ",A?"deployment":"project"," is part of the"," ",(0,t.jsx)(p.Link,{href:V,type:"primary",children:O.name})," ",(0,t.jsx)(p.Link,{href:`/${g}/~/settings/microfrontends`,children:"microfrontends group"}),"."]})});return{content:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[Y,r?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.InformationFillSmall,{}),(0,t.jsx)(o.Text,{color:"gray-900",children:r})]}):null,(0,t.jsx)("div",{className:"flex flex-col items-start gap-2",children:(0,t.jsx)(_,{viewingProject:I,viewingDeployment:A,hideOtherChildren:!!(r||U),applications:B,projects:F,pathParams:u})}),"this deployment"===H?(0,t.jsx)(o.Text,{color:"gray-900",children:"Projects listed are from when this deployment was created."}):null,"this alias"===H?(0,t.jsx)(o.Text,{color:"gray-900",children:"Projects listed are from when this branch was last updated."}):null,U?(0,t.jsxs)(t.Fragment,{children:[W?(0,t.jsxs)(o.Text,{color:"amber-900",children:["The"," ",(0,t.jsx)(o.Text,{className:"inline",monospace:!0,color:"amber-900",children:"microfrontends.json"})," ","file for ",H,M?(0,t.jsxs)(p.Link,{className:"inline-flex items-center gap-1",href:`/${g}/${q.name}/${M.id}`,variant:"underline",children:[(0,t.jsx)(l.DeploymentStatus,{deployment:M}),(0,t.jsx)(o.Text,{as:"span",monospace:!0,children:(0,P.default)(M).hash})]}):""," ","is out of sync with the projects in the group."]}):(0,t.jsxs)(o.Text,{color:"amber-900",children:["A ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," file was not uploaded in the production deployment for the default app"," ",M?(0,t.jsxs)(p.Link,{className:"inline-flex items-center gap-1",href:`/${g}/${q.name}/${M.id}`,variant:"underline",children:[(0,t.jsx)(l.DeploymentStatus,{deployment:M}),(0,t.jsx)(o.Text,{as:"span",monospace:!0,children:(0,P.default)(M).hash})]}):"",". A configuration file is required to enable Microfrontends routing."]}),(0,t.jsx)(s.Button,{onClick:z,size:"small",type:"warning",children:"See Details"})]}):null]})}),hasWarning:U,icon:G&&U?(0,t.jsx)(d.Warning,{}):(0,t.jsx)(c.Microfrontends,{}),isShowingHelpModal:R,manageMicrofrontendsModals:E}}({pageContext:n,groupId:g,project:A}),D=(0,r.useCallback)(e=>{e.target instanceof HTMLElement&&e.target.closest("a[href]")&&(T&&N(b.VercelActivityAction.MicrofrontendsBadgeLinkClicked,{}),I(!0))},[T,N]);if(!k)return null;let{content:M,hasWarning:z,icon:R,manageMicrofrontendsModals:E,isShowingHelpModal:F}=k,W=(0,t.jsx)("div",{className:"max-w-[274px] p-1",onClick:D,children:(0,t.jsx)("div",{className:"flex flex-col gap-2",children:M})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.ContextCard.Trigger,{content:W,side:w,hide:F||$,children:(0,t.jsx)("div",{onMouseEnter:()=>I(!1),children:(0,t.jsx)(L,{className:u,hasWarning:!!z,children:R})})}),E]})}function E(e){let{project:r}=e,{project:n,id:a}=(0,i.useParams)()||{},o=a?`dpl_${a}`:void 0,{data:s}=(0,j.default)(o),{data:l}=(0,x.useProject)(void 0===r?n:void 0);return(r||l)?.microfrontends||s?.microfrontends?(0,t.jsx)(R,{...e}):null}e.s(["MicrofrontendsBadge",()=>E])},3162826,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 3V2.25H1V3V9.25C1 10.2165 1.7835 11 2.75 11H12.4393L10.4697 12.9697L9.93934 13.5L11 14.5607L11.5303 14.0303L14.7803 10.7803C15.0732 10.4874 15.0732 10.0126 14.7803 9.71967L11.5303 6.46967L11 5.93934L9.93934 7L10.4697 7.53033L12.4393 9.5H2.75C2.61193 9.5 2.5 9.38807 2.5 9.25V3Z" fill="currentColor"/>');e.s(["CornerDownRight",0,t])},5136192,e=>{"use strict";var t=e.i(402380),r=e.i(6228447);let i=(e,t)=>{let{pathname:r,page:i,teamSlug:o}=e,s=function(e){let{pathname:t,page:r,fromSettings:i}=e;return i&&r&&"settings"!==r?n.exec(t)?"/invoices":a.exec(t)?"/connectivity":t.endsWith("/microfrontends/new")?"/microfrontends/new":`/${r}`:""}({pathname:r,page:i,fromSettings:t});return`/${String(o)}/~/settings${s}`},n=/\/settings\/invoices\//,a=/\/settings\/connectivity\//;function o(e){return(0,t.format)(e)}e.s(["getScopeHref",0,e=>{let{pathname:t,pathParams:n,searchParams:a,team:s,user:l,project:c}=e,d=s?.slug||l?.username,u=function(e){let{pathname:t,pathParams:r,searchParams:n,team:a,user:s,project:l}=e;if(!t)return"/";if(s&&!a){let e;return e="/account",t.endsWith("/~/domains")?`${e}/domains`:t.endsWith("/~/activity")?`${e}/activity`:t.endsWith("/~/settings")?`${e}/settings`:e}let c=a?.slug,d=a?.slug||s?.username,u=l?.name,m=r?.teamSlug??n.get("teamSlug"),p=r?.project??n.get("project"),h=function(e){let t={};for(let[r,i]of e)t[r]=i;return t}(n),f=t.split("/").filter(Boolean),g=f.filter(e=>!/\[.*\]/.test(e)),j=g[0],x=g[g.length-1],y=g[2],v={pathname:t,page:x,query:h,teamSlug:a?.slug};if(m&&p&&u&&d&&t.includes(p))return t.replace(m,d).replace(p,u);if("/dashboard"===t||"/"===t)return`/${d}`;if("help"===j)return c?`/help?teamSlug=${c}`:"/help/";if("new"===j){if("import"===x)return(delete h["create-team-collapsed"],c)?o({pathname:`/new/${c&&c!==s?.username?`${c}/`:""}import`,query:{...h}}):(delete h.teamSlug,o({pathname:"/new/import",query:{...h}}));if("repo"===x)return c?o({pathname:`/new/${c&&c!==s?.username?`${c}/`:""}import/repo`,query:{...h}}):(delete h.teamSlug,o({pathname:"/new/import/repo",query:{...h}}));if("clone"===x)return(d!==h["create-team-collapsed"]&&delete h["create-team-collapsed"],c)?o({pathname:`/new/${d}/clone`,query:{...h}}):(delete h.teamSlug,o({pathname:"/new/clone",query:{...h}}));else if("third-party"===x)return o({pathname:`/new/${d}/git/third-party`});else if(f.includes("templates")){let e=[...f];return e.splice(1,+!!(m&&t.includes(m)),d||""),o({pathname:`/${e.join("/")}`})}return o({pathname:`/new/${d}`})}if(d&&/\/settings\/apps\/([^/]+)/.test(t))return`/${d}/~/settings/apps`;if(f.includes("account"))return c?i(v):"/account";if(f.includes("settings"))return c?c!==m&&!u&&p?`/${c}`:i(v,!0):"/account";if("dashboard"===j||t.includes("/~"))return d&&"integrations"===y?`/${d}/~/integrations`:d&&"domains"===x?`/${d}/~/domains`:d&&m&&t.startsWith(`/${m}/~/repos`)?`/${d}`:d&&m&&t.startsWith(`/${m}/~/ai`)?`/${d}/~/ai`:m&&t.startsWith(`/${m}/~/stores`)||t.startsWith("/dashboard/stores")?c?`/${c}/~/stores`:"/dashboard/stores":t.endsWith("/domains/[domain]")||h.domain||m&&t.startsWith(`/${m}/~/domains`)||t.startsWith("/dashboard/domains")?c?`/${c}/~/domains`:"/dashboard/domains":t.endsWith("/monitoring/[chart]")||h.chart||m&&t.startsWith(`/${m}/~/monitoring`)||t.startsWith("/dashboard/monitoring")?c?`/${c}/~/monitoring`:"/dashboard/monitoring":m&&t.startsWith(`/${m}/~/support/cases`)?c?`/${c}/~/support/cases`:"/dashboard/support/cases":m&&d&&t.includes(`/${m}`)?t.replace(`/${m}`,`/${d}`):t.replace(x,d?`${d}/${x}`:x);if(m&&t.startsWith(`/${m}/~/support/cases`)||t.startsWith("/support/cases")){let e=t.split("/support/cases")[1]||"";return(e.startsWith("/[case-id]")&&(e=""),a)?`/${a.slug}/~/support/cases${e}`:`/support/cases${e}`}return m&&p&&t.startsWith(`/${m}/${p}`)?`/${d}`:"domains"===x?c?(e=>{let{query:t,teamSlug:r}=e;return o({pathname:"/domains",query:{...t,teamSlug:r}})})(v):(e=>{let{query:t}=e;return o({pathname:"/domains",query:{...t,teamSlug:void 0}})})(v):`/${d}`}({pathname:t,pathParams:n,searchParams:a,team:s,user:l,project:c});if((0,r.isAuthenticationRequired)(s)){let e=(0,r.getTeamLimitedBy)(s);return 1===e.length&&e.includes("mfa")?o({pathname:"/two-factor-required",query:{teamSlug:s?.slug}}):o({pathname:`/login/scope/${d}`,query:{missingScope:"1",next:u}})}return u}])},4896636,e=>{"use strict";var t=e.i(3911483),r=e.i(8042625),i=e.i(277234),n=e.i(4244280),a=e.i(5338940);e.s(["default",0,(e,o)=>{let{domain:s,filterDeleted:l=!0}=e,{isReady:c,team:d}=(0,a.useTeam)();return(0,t.default)(()=>s&&c?`${n.API_ALIASES}/${encodeURIComponent(s)}${(0,r.encode)({filterDeleted:l,teamId:d?.id})}`:null,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),o)}])},3052383,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),i=e.i(4030453),n=e.i(3500331),a=e.i(6891161),o=e.i(8522580),s=e.i(9508212),l=e.i(1344973),c=e.i(4004502),d=e.i(5486173),u=e.i(4844919);function m(e){let{errorNoteMessage:m="This action is not reversible. Please be certain.",...p}=e,h=(0,r.useRef)(null),f=(0,d.useForm)({defaultValues:{resourceName:"",verificationText:""}}),g=(0,r.useCallback)(()=>{f.reset(),p.onAnimationDone?.()},[p.onAnimationDone,f]);function j(){p.onCancel()}async function x(){return p.onConfirm()}let y=`delete my ${p.resourceType.toLowerCase()}`;return(0,r.useEffect)(()=>{p.active&&requestAnimationFrame(()=>{let e=Array.from(h.current?.elements??[]);e.find(e=>"INPUT"===e.tagName)?.focus()})},[p.active]),(0,t.jsx)(a.Modal.Modal,{active:p.active,onAnimationDone:g,onClickOutside:j,width:500,children:(0,t.jsxs)("form",{"data-test-valid":f.formState.isValid,"data-testid":(0,c.tid)("resource-deletion-modal","form"),onSubmit:f.handleSubmit(x),ref:h,children:[(0,t.jsx)(a.Modal.Body,{children:(0,t.jsxs)(s.Stack,{gap:6,children:[(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Modal.Title,{"data-testid":"resource-deletion-modal-title",children:["Delete"," ",p.title?p.title:(0,u.default)(p.resourceType)]}),(0,t.jsx)(s.Stack,{gap:4,children:(0,t.jsx)(a.Modal.Subtitle,{"data-testid":"resource-deletion-modal-subtitle",children:p.subtitle})})]}),(0,t.jsx)(a.Modal.Inset,{children:(0,t.jsxs)(s.Stack,{gap:6,children:[(0,t.jsx)("label",{children:(0,t.jsxs)(s.Stack,{gap:2,children:[(0,t.jsxs)(l.Text,{color:"gray-1000",size:14,weight:400,children:["To confirm, type “",(0,t.jsx)("b",{style:{overflowWrap:"anywhere"},className:"font-semibold",children:p.resourceName}),"”"]}),(0,t.jsx)(n.Input,{"aria-label":"Resource Name","data-testid":(0,c.tid)("resource-deletion-modal","name-input"),disabled:p.loading||p.disabled,...f.register("resourceName",{required:`Typing “${p.resourceName}” is required`,validate:{matchesProductName:e=>e===p.resourceName||`The value does not match “${p.resourceName}”`}}),error:f.formState.errors.resourceName?(0,t.jsx)("span",{children:f.formState.errors.resourceName.message}):null})]})}),(0,t.jsx)("label",{children:(0,t.jsxs)(s.Stack,{gap:2,children:[(0,t.jsxs)(l.Text,{color:"gray-1000",size:14,weight:400,children:["To confirm, type “",(0,t.jsx)("b",{className:"font-semibold",children:y}),"”"]}),(0,t.jsx)(n.Input,{"aria-label":"Verification Code","data-testid":(0,c.tid)("resource-deletion-modal","verification-input"),disabled:p.loading||p.disabled,...f.register("verificationText",{required:`Typing “${y}” is required`,validate:{matchesVerificationText:e=>e===y||`The value does not match “${y}”`}}),error:f.formState.errors.verificationText?(0,t.jsx)("span",{children:f.formState.errors.verificationText.message}):null})]})}),p.error?(0,t.jsx)(i.Error,{error:p.error}):null]})}),"team"===p.resourceType?(0,t.jsxs)(o.Note,{fill:!0,type:"warning",children:["The"," ",(0,t.jsx)(l.Text,{as:"span",color:"amber-900",weight:500,children:p.resourceName})," ","team will be deleted, along with all of its deployments, domains, SSL certificates, activity, and all other resources belonging to your team. All related payments will stop."," ",p.refundNote?(0,t.jsx)(l.Text,{as:"span",color:"amber-900",weight:500,children:p.refundNote}):null]}):(0,t.jsxs)(o.Note,{fill:!0,type:"error",variant:"contrast",children:[m,p.microfrontendsWarning?` ${p.microfrontendsWarning}`:null]})]})}),(0,t.jsxs)(a.Modal.Actions,{children:[(0,t.jsx)(a.Modal.Action,{"data-testid":(0,c.tid)("resource-deletion-modal","cancel-button"),disabled:p.loading,onClick:j,type:"secondary",children:"Cancel"}),(0,t.jsx)(a.Modal.Action,{buttonType:"submit","data-testid":(0,c.tid)("resource-deletion-modal","confirm-button"),disabled:p.loading||p.disabled,loading:p.loading,type:p.submitButtonType,children:p.submitButtonText??"Continue"})]})]})})}e.s(["default",()=>m])},634185,e=>{e.v({projectAvatar:"project-avatar-module__-Kyy1W__projectAvatar"})},9068678,e=>{"use strict";var t=e.i(6468255),r=e.i(9722978),i=e.i(4833050),n=e.i(4585051),a=e.i(8042625),o=e.i(5338940),s=e.i(7710663),l=e.i(634185);function c(e){let{project:i,size:n=20,className:a,title:o,isLoading:s}=e,c=i?.latestDeployments?.[0];return(0,t.jsx)(d,{className:(0,r.clsx)(l.default.projectAvatar,a),deploymentId:c?.id,framework:i?.framework,isLoading:s,size:n,title:o})}function d(e){let{deploymentId:r,framework:i,size:a=20,className:o,title:l,isLoading:c}=e,{data:d,isLoading:m}=u(r),{data:p}=(0,s.useFrameworks)(),h=p?p.find(e=>e.slug===(i||null)):null,f=d?.src||h?.logo;return c||m||!f?(0,t.jsx)(n.Avatar,{className:o,placeholder:!0,size:a,title:l}):(0,t.jsx)(n.Avatar,{className:o,size:a,src:f,title:l})}let u=e=>{let{isReady:t,team:r}=(0,o.useTeam)();return(0,i.default)(e&&t?[e,"favicon"]:null,async e=>{let[t]=e;if(!t)return null;let i=await fetch(`/api/favicon${(0,a.encode)({deploymentId:t,teamId:r?.id})}`);if(!i.ok||204===i.status)return null;let n=await i.blob(),o=URL.createObjectURL(n);try{return{src:o,isSquare:await m(o)}}catch{return null}})},m=async e=>new Promise((t,r)=>{let i=document.createElement("canvas"),n=new Image;n.onload=()=>{let{width:e,height:r}=n;i.width=e,i.height=r;let a=i.getContext("2d");a?.drawImage(n,0,0,e,r);let o=(e,t)=>(a?.getImageData(e,t,1,1).data[3]??0)<255;for(let i=0;i<e;i++)if(o(i,0)||o(i,r-1))return t(!1);for(let i=0;i<r;i++)if(o(0,i)||o(e-1,i))return t(!1);t(!0)},n.onerror=()=>{r(Error("failed to load image"))},n.src=e});e.s(["DeploymentOrFrameworkAvatar",()=>d,"ProjectWithDeploymentAvatar",()=>c])},5056988,e=>{e.v({placeholder:"project-avatar-group-module__grezCa__placeholder",placeholderIcon:"project-avatar-group-module__grezCa__placeholderIcon",projectAvatar:"project-avatar-group-module__grezCa__projectAvatar"})},8248414,e=>{"use strict";var t=e.i(6468255),r=e.i(9508212),i=e.i(1344973),n=e.i(5468328),a=e.i(6696646),o=e.i(6060673),s=e.i(9068678),l=e.i(5056988);function c(e){let{projectIds:c,totalProjectsCount:d}=e,u=c?.length??0,m=u>3?3:u,p=u?c?.slice(0,m)??[]:[],{data:h,isLoading:f}=(0,o.useProjects)(m?p:null);if(!m)return null;let g=(d??u)-m;return!h||f?(0,t.jsx)(n.Tooltip,{text:(0,t.jsx)(r.Stack,{style:{maxHeight:195,overflow:"auto"},children:"...Loading"}),children:(0,t.jsxs)(r.Stack,{align:"center",direction:"row",justify:"center",children:[p.map(e=>(0,t.jsx)(s.ProjectWithDeploymentAvatar,{className:l.default.projectAvatar,isLoading:!0,size:20},e)),g?(0,t.jsxs)("div",{className:l.default.placeholder,children:["+",g]}):null]})}):(0,t.jsx)(n.Tooltip,{text:(0,t.jsxs)(r.Stack,{style:{maxHeight:195,overflow:"auto"},children:[h.map(e=>(0,t.jsx)(a.Fragment,{children:(0,t.jsxs)(r.Stack,{align:"center",direction:"row",gap:2,children:[(0,t.jsx)(s.ProjectWithDeploymentAvatar,{className:l.default.projectAvatar,project:e,size:20}),(0,t.jsx)(i.Text,{className:"geist-ellipsis",title:e.name,children:e.name})]})},e.id)),g>0?(0,t.jsx)(a.Fragment,{children:(0,t.jsx)(r.Stack,{align:"center",direction:"row",gap:2,children:(0,t.jsxs)(i.Text,{className:"geist-ellipsis",children:["+",g," projects"]})})},`last-${g}`):null]}),children:(0,t.jsxs)(r.Stack,{align:"center",direction:"row",justify:"center",children:[h.map(e=>(0,t.jsx)(s.ProjectWithDeploymentAvatar,{className:l.default.projectAvatar,project:e,size:20,title:e.name},e.id)),g?(0,t.jsxs)("div",{className:l.default.placeholder,children:["+",g]}):null]})})}e.s(["ProjectAvatarGroup",()=>c])},1357569,e=>{e.v({infoIcon:"project-selector-module__8LnsRG__infoIcon",optionSuffix:"project-selector-module__8LnsRG__optionSuffix",projectSelectorOption:"project-selector-module__8LnsRG__projectSelectorOption",projectSelectorSelect:"project-selector-module__8LnsRG__projectSelectorSelect",projectSelectorSelectedProject:"project-selector-module__8LnsRG__projectSelectorSelectedProject",projectSelectorSelectedXIcon:"project-selector-module__8LnsRG__projectSelectorSelectedXIcon"})},8433839,e=>{"use strict";var t=e.i(6468255),r=e.i(6696646),i=e.i(1360174),n=e.i(6881349),a=e.i(2107254),o=e.i(6048771),s=e.i(1357569),l=e.i(9722978);function c(e){let{selectedProject:c,onProjectSelected:d,errored:u,disabled:m,placeholder:p,variant:h="default"}=e,[f,g]=(0,r.useState)(""),j=(0,r.useMemo)(()=>(0,i.default)(g,500),[]),{data:x}=(0,a.default)({limit:8,search:f,latestDeployments:null},{}),y=!!x;return(0,t.jsxs)(n.Combobox,{disabled:m,filter:e=>e,onChange:e=>{d(x?.projects.find(t=>t.id===e)??null),g("")},onClear:()=>g(""),placeholder:p||"Select Project…",prefixIcon:c?.latestDeployments&&c.latestDeployments.length>0?(0,t.jsx)(o.ProjectLogo,{forceFaviconRound:!0,deploymentId:c.latestDeployments[0]?.id??"",framework:c.framework,project:c,size:20}):null,value:c?.name??null,errored:u,children:[(0,t.jsx)(n.Combobox.Input,{onChange:e=>j(e.target.value)}),(0,t.jsx)(n.Combobox.List,{maxVisibleOptions:8,emptyMessage:y?f?`No project found with the name "${f}".`:"No project under this account.":"Loading…",children:x?.projects.map(e=>(0,t.jsx)(n.Combobox.Option,{className:(0,l.clsx)(s.default.projectSelectorOption,"!h-fit","condensed"===h?"py-2":"py-[10px] px-2"),value:e.id,ignoreDefaultHeight:!0,children:(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)("div",{className:"translate-y-0",children:(0,t.jsx)(o.ProjectLogo,{forceFaviconRound:!0,deploymentId:e.latestDeployments?.[e.latestDeployments.length-1]?.id,framework:e.framework,project:e,size:"condensed"===h?20:24})}),(0,t.jsx)("p",{className:`self-center ${"condensed"===h?"text-copy-13":"font-medium"}`,children:e.name})]})},e.id))})]})}e.s(["ProjectSelector",()=>c])}]);

//# sourceMappingURL=409a9b7d11358886.js.map
//# debugId=a277c1af-edec-5632-950c-130bbf958f7e
