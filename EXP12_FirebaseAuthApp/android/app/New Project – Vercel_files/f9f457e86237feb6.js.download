
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a8a04511-fb12-5c3f-a966-014b992952de")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8250954,e=>{"use strict";var t=e.i(9487122);function n(e){return(0,t.constructFrom)(e,Date.now())}e.s(["constructNow",()=>n])},2812875,e=>{"use strict";var t=e.i(4495794);function n(e,n,r){return(0,t.addMonths)(e,-n,r)}e.s(["subMonths",()=>n])},8355955,e=>{e.v({previous:"Previous",next:"Next",selectedDateDescription:"Selected Date: {date, date, full}",selectedRangeDescription:"Selected Range: {start, date, long} to {end, date, long}",todayDate:"Today, {date, date, full}",todayDateSelected:"Today, {date, date, full} selected",dateSelected:"{date, date, full} selected",startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range"})},6995468,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 0.5V1.25V2H10.5V1.25V0.5H12V1.25V2H14H15.5V3.5V13.5C15.5 14.8807 14.3807 16 13 16H3C1.61929 16 0.5 14.8807 0.5 13.5V3.5V2H2H4V1.25V0.5H5.5ZM2 3.5H14V6H2V3.5ZM2 7.5V13.5C2 14.0523 2.44772 14.5 3 14.5H13C13.5523 14.5 14 14.0523 14 13.5V7.5H2Z" fill="currentColor"/>');e.s(["Calendar",0,t])},1019550,(e,t,n)=>{var r=e.r(9225935),l=e.r(1716110),i=e.r(5697125),a=Math.ceil,s=Math.max;t.exports=function(e,t,n){t=(n?l(e,t,n):void 0===t)?1:s(i(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var u=0,d=0,c=Array(a(o/t));u<o;)c[d++]=r(e,u,u+=t);return c}},4498440,e=>{"use strict";var t,n=e.i(6696646);function r(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var l=e.i(7430406),i=e.i(7079014),a=e.i(1315599),s=e.i(4393136),o=e.i(3222420),u=e.i(4938657),d=e.i(237982),c=e.i(6468255),p="dismissableLayer.update",m=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),f=n.forwardRef((e,i)=>{let{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:y,onDismiss:x,...b}=e,C=n.useContext(m),[w,N]=n.useState(null),j=w?.ownerDocument??globalThis?.document,[,E]=n.useState({}),O=(0,l.useComposedRefs)(i,e=>N(e)),S=Array.from(C.layers),[D]=[...C.layersWithOutsidePointerEventsDisabled].slice(-1),R=S.indexOf(D),V=w?S.indexOf(w):-1,I=C.layersWithOutsidePointerEventsDisabled.size>0,P=V>=R,k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document,r=(0,u.useCallbackRef)(e),l=n.useRef(!1),i=n.useRef(()=>{});return n.useEffect(()=>{let e=e=>{if(e.target&&!l.current){let n=function(){v("dismissableLayer.pointerDownOutside",r,l,{discrete:!0})},l={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);l.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>l.current=!0}}(e=>{let t=e.target,n=[...C.branches].some(e=>e.contains(t));P&&!n&&(f?.(e),y?.(e),e.defaultPrevented||x?.())},j),T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document,r=(0,u.useCallbackRef)(e),l=n.useRef(!1);return n.useEffect(()=>{let e=e=>{e.target&&!l.current&&v("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}(e=>{let t=e.target;![...C.branches].some(e=>e.contains(t))&&(h?.(e),y?.(e),e.defaultPrevented||x?.())},j);return(0,d.useEscapeKeydown)(e=>{V===C.layers.size-1&&(s?.(e),!e.defaultPrevented&&x&&(e.preventDefault(),x()))},j),n.useEffect(()=>{if(w)return a&&(0===C.layersWithOutsidePointerEventsDisabled.size&&(t=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),C.layersWithOutsidePointerEventsDisabled.add(w)),C.layers.add(w),g(),()=>{a&&1===C.layersWithOutsidePointerEventsDisabled.size&&(j.body.style.pointerEvents=t)}},[w,j,a,C]),n.useEffect(()=>()=>{w&&(C.layers.delete(w),C.layersWithOutsidePointerEventsDisabled.delete(w),g())},[w,C]),n.useEffect(()=>{let e=()=>E({});return document.addEventListener(p,e),()=>document.removeEventListener(p,e)},[]),(0,c.jsx)(o.Primitive.div,{...b,ref:O,style:{pointerEvents:I?P?"auto":"none":void 0,...e.style},onFocusCapture:r(e.onFocusCapture,T.onFocusCapture),onBlurCapture:r(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:r(e.onPointerDownCapture,k.onPointerDownCapture)})});function g(){let e=new CustomEvent(p);document.dispatchEvent(e)}function v(e,t,n,r){let{discrete:l}=r,i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),l?(0,o.dispatchDiscreteCustomEvent)(i,a):i.dispatchEvent(a)}f.displayName="DismissableLayer",n.forwardRef((e,t)=>{let r=n.useContext(m),i=n.useRef(null),a=(0,l.useComposedRefs)(t,i);return n.useEffect(()=>{let e=i.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,c.jsx)(o.Primitive.div,{...e,ref:a})}).displayName="DismissableLayerBranch";var h=e.i(1004168),y=e.i(9771370),x=e.i(943988),b=e=>{var t;let r,i,{present:a,children:s}=e,o=function(e){var t,r;let[l,i]=n.useState(),a=n.useRef(null),s=n.useRef(e),o=n.useRef("none"),[u,d]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>r[e][t]??e,t));return n.useEffect(()=>{let e=C(a.current);o.current="mounted"===u?e:"none"},[u]),(0,x.useLayoutEffect)(()=>{let t=a.current,n=s.current;if(n!==e){let r=o.current,l=C(t);e?d("MOUNT"):"none"===l||t?.display==="none"?d("UNMOUNT"):n&&r!==l?d("ANIMATION_OUT"):d("UNMOUNT"),s.current=e}},[e,d]),(0,x.useLayoutEffect)(()=>{if(l){let e,t=l.ownerDocument.defaultView??window,n=n=>{let r=C(a.current).includes(CSS.escape(n.animationName));if(n.target===l&&r&&(d("ANIMATION_END"),!s.current)){let n=l.style.animationFillMode;l.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===l.style.animationFillMode&&(l.style.animationFillMode=n)})}},r=e=>{e.target===l&&(o.current=C(a.current))};return l.addEventListener("animationstart",r),l.addEventListener("animationcancel",n),l.addEventListener("animationend",n),()=>{t.clearTimeout(e),l.removeEventListener("animationstart",r),l.removeEventListener("animationcancel",n),l.removeEventListener("animationend",n)}}d("ANIMATION_END")},[l,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:n.useCallback(e=>{a.current=e?getComputedStyle(e):null,i(e)},[])}}(a),u="function"==typeof s?s({present:o.isPresent}):n.Children.only(s),d=(0,l.useComposedRefs)(o.ref,(t=u,(i=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(i=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof s||o.isPresent?n.cloneElement(u,{ref:d}):null};function C(e){return e?.animationName||"none"}b.displayName="Presence";var w=0;function N(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var j=e.i(5097496),E=e.i(73772),O=e.i(8665489),S="Dialog",[D,R]=(0,i.createContextScope)(S),[V,I]=D(S),P=e=>{let{__scopeDialog:t,children:r,open:l,defaultOpen:i,onOpenChange:o,modal:u=!0}=e,d=n.useRef(null),p=n.useRef(null),[m,f]=(0,s.useControllableState)({prop:l,defaultProp:i??!1,onChange:o,caller:S});return(0,c.jsx)(V,{scope:t,triggerRef:d,contentRef:p,contentId:(0,a.useId)(),titleId:(0,a.useId)(),descriptionId:(0,a.useId)(),open:m,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(e=>!e),[f]),modal:u,children:r})};P.displayName=S;var k="DialogTrigger",T=n.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,a=I(k,n),s=(0,l.useComposedRefs)(t,a.triggerRef);return(0,c.jsx)(o.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ee(a.open),...i,ref:s,onClick:r(e.onClick,a.onOpenToggle)})});T.displayName=k;var A="DialogPortal",[M,L]=D(A,{forceMount:void 0}),F=e=>{let{__scopeDialog:t,forceMount:r,children:l,container:i}=e,a=I(A,t);return(0,c.jsx)(M,{scope:t,forceMount:r,children:n.Children.map(l,e=>(0,c.jsx)(b,{present:r||a.open,children:(0,c.jsx)(y.Portal,{asChild:!0,container:i,children:e})}))})};F.displayName=A;var H="DialogOverlay",B=n.forwardRef((e,t)=>{let n=L(H,e.__scopeDialog),{forceMount:r=n.forceMount,...l}=e,i=I(H,e.__scopeDialog);return i.modal?(0,c.jsx)(b,{present:r||i.open,children:(0,c.jsx)($,{...l,ref:t})}):null});B.displayName=H;var _=(0,O.createSlot)("DialogOverlay.RemoveScroll"),$=n.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,l=I(H,n);return(0,c.jsx)(j.RemoveScroll,{as:_,allowPinchZoom:!0,shards:[l.contentRef],children:(0,c.jsx)(o.Primitive.div,{"data-state":ee(l.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),W="DialogContent",z=n.forwardRef((e,t)=>{let n=L(W,e.__scopeDialog),{forceMount:r=n.forceMount,...l}=e,i=I(W,e.__scopeDialog);return(0,c.jsx)(b,{present:r||i.open,children:i.modal?(0,c.jsx)(U,{...l,ref:t}):(0,c.jsx)(Z,{...l,ref:t})})});z.displayName=W;var U=n.forwardRef((e,t)=>{let i=I(W,e.__scopeDialog),a=n.useRef(null),s=(0,l.useComposedRefs)(t,i.contentRef,a);return n.useEffect(()=>{let e=a.current;if(e)return(0,E.hideOthers)(e)},[]),(0,c.jsx)(K,{...e,ref:s,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:r(e.onCloseAutoFocus,e=>{e.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:r(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:r(e.onFocusOutside,e=>e.preventDefault())})}),Z=n.forwardRef((e,t)=>{let r=I(W,e.__scopeDialog),l=n.useRef(!1),i=n.useRef(!1);return(0,c.jsx)(K,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(l.current||r.triggerRef.current?.focus(),t.preventDefault()),l.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(l.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),K=n.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,u=I(W,r),d=n.useRef(null),p=(0,l.useComposedRefs)(t,d);return n.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??N()),document.body.insertAdjacentElement("beforeend",e[1]??N()),w++,()=>{1===w&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),w--}},[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h.FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:s,children:(0,c.jsx)(f,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":ee(u.open),...o,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(el,{titleId:u.titleId}),(0,c.jsx)(ei,{contentRef:d,descriptionId:u.descriptionId})]})]})}),q="DialogTitle",G=n.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,l=I(q,n);return(0,c.jsx)(o.Primitive.h2,{id:l.titleId,...r,ref:t})});G.displayName=q;var J="DialogDescription",Q=n.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,l=I(J,n);return(0,c.jsx)(o.Primitive.p,{id:l.descriptionId,...r,ref:t})});Q.displayName=J;var Y="DialogClose",X=n.forwardRef((e,t)=>{let{__scopeDialog:n,...l}=e,i=I(Y,n);return(0,c.jsx)(o.Primitive.button,{type:"button",...l,ref:t,onClick:r(e.onClick,()=>i.onOpenChange(!1))})});function ee(e){return e?"open":"closed"}X.displayName=Y;var et="DialogTitleWarning",[en,er]=(0,i.createContext)(et,{contentName:W,titleName:q,docsSlug:"dialog"}),el=e=>{let{titleId:t}=e,r=er(et),l=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return n.useEffect(()=>{t&&(document.getElementById(t)||console.error(l))},[l,t]),null},ei=e=>{let{contentRef:t,descriptionId:r}=e,l=er("DialogDescriptionWarning"),i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${l.contentName}}.`;return n.useEffect(()=>{let e=t.current?.getAttribute("aria-describedby");r&&e&&(document.getElementById(r)||console.warn(i))},[i,t,r]),null};e.s(["Close",()=>X,"Content",()=>z,"Description",()=>Q,"Overlay",()=>B,"Portal",()=>F,"Root",()=>P,"Title",()=>G,"Trigger",()=>T],4498440)},3675495,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M11.4749 1.33217L11.1964 2.02853L6.19636 14.5285L5.91781 15.2249L4.5251 14.6678L4.80364 13.9714L9.80364 1.47144L10.0822 0.775085L11.4749 1.33217ZM4 5.49999C4.82843 5.49999 5.5 4.82841 5.5 3.99999C5.5 3.17156 4.82843 2.49999 4 2.49999C3.17157 2.49999 2.5 3.17156 2.5 3.99999C2.5 4.82841 3.17157 5.49999 4 5.49999ZM7 3.99999C7 5.65684 5.65685 6.99999 4 6.99999C2.34315 6.99999 1 5.65684 1 3.99999C1 2.34313 2.34315 0.999986 4 0.999986C5.65685 0.999986 7 2.34313 7 3.99999ZM13.5 12C13.5 12.8284 12.8284 13.5 12 13.5C11.1716 13.5 10.5 12.8284 10.5 12C10.5 11.1716 11.1716 10.5 12 10.5C12.8284 10.5 13.5 11.1716 13.5 12ZM12 15C13.6569 15 15 13.6568 15 12C15 10.3431 13.6569 8.99999 12 8.99999C10.3431 8.99999 9 10.3431 9 12C9 13.6568 10.3431 15 12 15Z" fill="currentColor"/>');e.s(["Percentage",0,t])},4998750,e=>{"use strict";var t=e.i(2749380);function n(e){return null==e?"Please retry later":`${e.message??e}`}let r="$time";function l(e){let{variables:n,widgets:r,...l}=e;return{...l,variables:function(e){if(e)return{...e,time:e.time?(0,t.parseTime)(e.time):void 0}}(n),widgets:r?.map(e=>{let{query:{time:n,...r},...l}=e;return{type:"query-visualization",...l,query:{...r,time:(0,t.parseTime)(n)}}})}}function i(e){if(!e)return;let{time:t,...n}=e;return{...n,time:t?"string"==typeof t?t:{from:t.from.toISOString(),to:t.to.toISOString()}:void 0}}function a(e,t){return t?{...e,time:e.time===r&&t.time?t.time:e.time}:e}e.s(["DEFAULT_TIME_VALUE",0,"12h","TIME_VARIABLE",0,r,"extractError",()=>n,"parseNotebook",()=>l,"replaceVariables",()=>a,"serializeVariables",()=>i])},8673480,e=>{"use strict";function t(e,t){let{id:n,teamSlug:r}=t;return`${e.replace("{id}",n??"")}?${new URLSearchParams({slug:r}).toString()}`}function n(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return n=>{let r=n??{hasAccess:!0,notebooks:[]},l=r.notebooks.findIndex(t=>{let{id:n}=t;return n===e.id});return -1!==l?t?r.notebooks[l]=e:r.notebooks.splice(l,1):t&&r.notebooks.push(e),r}}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return r=>{if(!r)return{...e,widgets:t?[t]:void 0};let l={...r,...e};if(n&&(l.widgets=l.widgets?.filter(e=>{let{id:t}=e;return t!==n})),t){l.widgets||(l.widgets=[]);let e=l.widgets.findIndex(e=>{let{id:n}=e;return n===t.id});l.widgets=[...l.widgets.slice(0,e),t,...l.widgets.slice(e+1)]}return l}}e.s(["buildSWRKey",()=>t,"updateCachedList",()=>n,"updateCachedNotebook",()=>r])},5086286,e=>{"use strict";var t=e.i(4998750),n=e.i(2749380),r=e.i(4244280),l=e.i(9668517),i=e.i(5338940),a=e.i(9979783),s=e.i(119294),o=e.i(6352514),u=e.i(4614946),d=e.i(6636464),c=e.i(8673480);function p(){let e=(0,l.useTeamSlug)()??"",{team:p}=(0,i.useTeam)(),{mutate:m}=(0,u.useSWRConfig)(),f=(0,c.buildSWRKey)(r.API_NOTEBOOKS,{teamSlug:e}),{trigger:g,isMutating:v}=(0,d.default)(f,async(l,i)=>{let{arg:{title:s,widget:o}}=i,u=(0,t.parseNotebook)(await (0,a.typedFetchData)(r.API_NOTEBOOKS,"post",{slug:e},{title:s,variables:{time:t.DEFAULT_TIME_VALUE},widgets:o?[{query:(0,n.serializeQuery)(o.query),title:o.title}]:void 0},{throwOnHTTPError:!0}));return m((0,c.buildSWRKey)(r.API_NOTEBOOK,{id:u.id,teamSlug:e}),(0,c.updateCachedNotebook)(u,u.widgets?.[0])),setTimeout(()=>void m(f,(0,c.updateCachedList)(u)),1e3),u},{revalidate:!1});return{createNotebook:async(e,t)=>{let n=await g(e);return s.analytics.track(o.AnalyticsEvent.OBSERVABILITY_NOTEBOOK_CREATED,{teamId:p?.id,plan:p?.billing?.plan??"hobby",hasInitialWidget:!!e.widget,source:t??"notebook-list-page"}),n},isSaving:v}}e.s(["useCreateNotebook",()=>p])},7371622,e=>{"use strict";var t=e.i(4244280),n=e.i(9668517),r=e.i(215852),l=e.i(8673480);function i(){let e=(0,n.useTeamSlug)()??"";return(0,r.useIsomorphicSuspenseSWR)((0,l.buildSWRKey)(t.API_NOTEBOOKS,{teamSlug:e})).data}e.s(["useNotebooks",()=>i])},7867910,e=>{"use strict";var t=e.i(6696646);function n(e,n){(0,t.useEffect)(()=>{let t=t=>{let r=document.activeElement,l=r&&["input","select","textarea"].includes(r.tagName.toLowerCase());t.key.toLowerCase()!==n||l||t.ctrlKey||t.metaKey||(t.preventDefault(),e())};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,n])}e.s(["useHotkey",()=>n])},2006677,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM9 11C9 11.5523 8.55229 12 8 12C7.44772 12 7 11.5523 7 11C7 10.4477 7.44772 10 8 10C8.55229 10 9 10.4477 9 11ZM7.09584 5.82182C7.25716 5.48223 7.6022 5.25 7.99999 5.25C8.55227 5.25 8.99999 5.69772 8.99999 6.25C8.99999 6.75329 8.62748 7.17086 8.14337 7.23989C7.70367 7.3026 7.24999 7.67511 7.24999 8.25V8.5V9.25H8.74999V8.63535C9.76443 8.31661 10.5 7.36971 10.5 6.25C10.5 4.86929 9.3807 3.75 7.99999 3.75C7.00158 3.75 6.14136 4.3353 5.74095 5.17818L5.41913 5.85563L6.77402 6.49926L7.09584 5.82182Z" fill="currentColor"/>');e.s(["Question",0,t])},244424,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill="currentColor" fill-rule="evenodd" d="M1 1v11.75A2.25 2.25 0 0 0 3.25 15H15v-1.5H3.25a.75.75 0 0 1-.75-.75V1H1Zm8.5 2.75V3H8v9h1.5V3.75ZM6 8v4H4.5V8H6Zm7-1.25V6h-1.5v6H13V6.75Z" clip-rule="evenodd"/>');e.s(["BarChart",0,t])},4047087,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1 2H1.75H14.25H15V3.5H14.25H1.75H1V2ZM1 12.5H1.75H14.25H15V14H14.25H1.75H1V12.5ZM1.75 7.25H1V8.75H1.75H14.25H15V7.25H14.25H1.75Z" fill="currentColor"/>');e.s(["MenuAlt",0,t])},9192216,e=>{"use strict";var t=e.i(6468255),n=e.i(4004502),r=e.i(5768355),l=e.i(9689002),i=e.i(5255926),a=e.i(1344973),s=e.i(8735244),o=e.i(5883567),u=e.i(6143247),d=e.i(6696646);function c(e){let{label:a,options:o,isLoading:c,isSelected:f,onChange:g,onSearch:v,parseNewValue:h,getId:y,getValue:x,value:b,open:C,reverse:w,allowEmptyAdd:N=!1,addLabel:j="Add",...E}=e,[O,S]=(0,d.useState)(""),[D,R]=(0,d.useState)(!1),[V,I]=(0,d.useState)(!1),P=(0,d.useRef)(null),k=(0,d.useRef)(null),T=(0,d.useRef)(0);(0,d.useEffect)(()=>{b&&C&&setTimeout(()=>{let e=k.current?.querySelector(`[data-value="${x(b)}"]`);e?.scrollIntoView({block:"start"})},50)},[C]);let A=(0,d.useMemo)(()=>o?.length?`Find ${a}...`:`Enter ${a}`,[o,a]),{selected:M,groups:L}=(0,d.useMemo)(()=>{let e={selected:[],groups:{}};for(let t of o??[])if(f?.(t))e.selected.push(t);else{let n=t.group??"";n in e.groups||(e.groups[n]=[]),e.groups[n].push(t)}return e},[o,f]),F=(0,d.useMemo)(()=>h&&(O.length>0?(o??[]).every(e=>y(e)!==O):N),[O,o,y,h,N]),H=(0,d.useCallback)(e=>{if(h){let t=h(e);null===t?R(!0):(g(t),S(""),P.current?.focus())}},[g,h]),B=(0,d.useCallback)(e=>{S(e),R(!1),clearTimeout(T.current),v&&(T.current=setTimeout(()=>{I(!0),v(e).finally(()=>I(!1))},250))},[v]),_=(0,d.useCallback)(e=>{if("Tab"===e.key)e.key=e.shiftKey?"ArrowUp":"ArrowDown";else if(" "===e.key&&0===O.trim().length){e.preventDefault();let t=k.current?.querySelector('[aria-selected="true"] input[type="checkbox"]');t?.click()}},[O]);return(0,t.jsxs)(r.Command,{className:(0,u.cn)("w-100 rounded-lg border-gray-alpha-400 bg-background-100 shadow-menu flex",w?"flex-col-reverse":"flex-col"),loop:!0,onKeyDown:_,children:[(0,t.jsxs)("div",{className:(0,u.cn)("flex w-full items-center justify-between px-4 py-3",o?.length!==0&&"border-b"),children:[(0,t.jsx)(r.Command.Input,{className:(0,u.cn)("w-full border-none bg-transparent text-sm outline-none",D&&"text-[--geist-error]"),onValueChange:B,placeholder:A,ref:P,value:O}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-[14px] flex justify-center",children:V&&(0,t.jsx)(s.Spinner,{size:14})}),(0,t.jsx)(l.Kbd,{small:!0,children:"Esc"})]})]}),(0,t.jsxs)(r.Command.List,{className:"flex max-h-[288px] w-full flex-col overflow-y-auto",ref:k,children:[o&&!c?(0,t.jsxs)(t.Fragment,{children:[M.length?(0,t.jsx)(p,{addBorder:!0,getId:y,getValue:x,items:M,onChange:g,setSearch:S,...E}):null,Object.entries(L).map(e=>{let[n,r]=e;return(0,t.jsx)(p,{getId:y,getValue:x,heading:n,items:r,onChange:g,setSearch:S,...E},n)})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 p-2","data-testid":(0,n.tid)("command-menu","loading"),children:[(0,t.jsx)(i.Skeleton,{className:"h-4",width:"100%"}),(0,t.jsx)(i.Skeleton,{className:"h-4",width:"100%"}),(0,t.jsx)(i.Skeleton,{className:"h-4",width:"100%"})]}),!c&&!V&&o&&(0,t.jsxs)(r.Command.Empty,{className:"px-4 py-3 text-center text-sm text-gray-900",children:["No matching ",a.toLowerCase()]}),F?(0,t.jsx)(m,{onAddNew:H,search:O,addLabel:j,allowEmptyAdd:N,label:a}):null]})]})}function p(e){let{heading:n,items:l,setSearch:i,renderItem:a,getId:s,getValue:o,onChange:d,addBorder:c}=e;return l.length?(0,t.jsx)(r.Command.Group,{className:(0,u.cn)("h-full p-1.5  [&>[cmdk-group-heading]]:px-2 [&>[cmdk-group-heading]]:pb-1 [&>[cmdk-group-heading]]:pt-0.5 [&>[cmdk-group-heading]]:text-xs [&>[cmdk-group-heading]]:text-gray-800",c&&"border-b"),heading:n,children:l.map(e=>(0,t.jsx)(r.Command.Item,{className:"w-full cursor-pointer rounded-md text-sm *:aria-selected:rounded  *:aria-selected:bg-gray-100 focus-visible:bg-gray-100 active:bg-gray-100",onSelect:()=>{d(e),i("")},value:o(e),children:a(e)},s(e)))}):null}function m(e){let{search:n,onAddNew:l,addLabel:i,allowEmptyAdd:s,label:u}=e,d=n.length>0?`${i} "${n}"`:s?`${i} new ${u}`:"",c=n.length>0?n:"new-item";return(0,t.jsx)(r.Command.Group,{className:"sticky bottom-0 z-10 rounded-b-lg border-t outline-none -mt-px",children:(0,t.jsx)(r.Command.Item,{"aria-label":d,className:"flex w-full cursor-pointer bg-white items-center p-1 text-gray-900 *:aria-selected:rounded *:aria-selected:bg-gray-100 focus-visible:bg-gray-100 active:bg-gray-100",onSelect:()=>l(n||""),value:c,children:(0,t.jsxs)("div",{className:"flex w-full items-center gap-2 p-1.5",children:[(0,t.jsx)(o.PlusCircle,{size:14}),(0,t.jsx)(a.Text,{className:"text-gray-900",size:14,children:d})]})})})}e.s(["CommandMenu",()=>c])},5376857,8569407,e=>{"use strict";let t=(0,e.i(6696646).createContext)(null);t.displayName="FilterBarContext",e.s(["FilterBarContext",0,t],5376857);var n=e.i(6468255),r=e.i(2504781),l=e.i(1971436),i=e.i(6143247);function a(e){let{iconOnly:t,...a}=e;return(0,n.jsx)(r.Button,{"aria-label":"Add filter",prefix:t?void 0:(0,n.jsx)(l.FilterSmall,{}),shape:t?"square":void 0,size:"small",...a,className:(0,i.cn)("!text-gray-900 hover:!text-gray-1000 data-[state='open']:!bg-gray-100",!t&&"!pl-2",a.className),type:"tertiary",typeName:"button",children:t?(0,n.jsx)(l.FilterSmall,{}):"Add filter"})}e.s(["AddFilter",()=>a],8569407)},1482596,8815885,e=>{"use strict";var t=e.i(6468255),n=e.i(6696646),r=e.i(5376857),l=e.i(8569407),i=e.i(2504781),a=e.i(9096446),s=e.i(6143247),o=e.i(4004502),u=e.i(9992248),d=e.i(9722978),c=e.i(3869281),p=e.i(5468328),m=e.i(3306538),f=e.i(9192216),g=e.i(5778089);let v=e=>{let{label:t,id:n}=e;return`${n}${t?`
${t}`:""}`};function h(e){let{values:r,options:l,label:a,rounded:s=!1,size:o="small",onOpenChange:p,onChange:h,onSearch:x,open:b,className:C,parseNewValue:w,children:N,disabled:j,availableOperators:E}=e,O=(0,n.useCallback)(e=>r.some(t=>{let{id:n}=t;return n===e.id}),[r]),S=(0,n.useCallback)(e=>{let n="string"==typeof e.label&&e.label.length>0,r=n?e.label:e.id;return(0,t.jsx)(y,{text:e.tooltip,children:(0,t.jsxs)("div",{className:(0,d.clsx)("flex w-full items-center gap-2 px-2 py-1.5",e.disabled&&"cursor-not-allowed opacity-75"),onClick:t=>{let n=document.getSelection();if(n?.isCollapsed===!1){t.preventDefault(),t.stopPropagation();return}t.target.closest("label")&&(t.preventDefault(),t.stopPropagation(),h(e,!0))},children:[!E||E.some(e=>"multiple"===e.type||"array"===e.type)?(0,t.jsx)(c.Checkbox,{checked:O(e),disabled:e.disabled,onChange:()=>void 0,tabIndex:-1}):null,(0,t.jsx)("div",{className:"flex min-w-0 flex-1 max-w-[min(32rem,75vw)] flex-col items-start",children:n&&e.label!==e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-full truncate font-medium leading-tight",title:e.label,children:e.label}),(0,t.jsx)("span",{className:"w-full truncate text-sm text-gray-800 leading-tight",title:e.id,children:e.id})]}):""===r?(0,t.jsx)("span",{className:"text-sm text-gray-800",children:g.emptyStringReplacement}):(0,t.jsx)("span",{className:"w-full truncate",title:r,children:r})}),e.badge?(0,t.jsx)("div",{className:"ml-2 shrink-0",children:(0,t.jsx)(y,{text:e.badge.tooltip,children:(0,t.jsx)(m.Badge,{size:"sm",...e.badge})})}):null]})})},[h,O,E]);return(0,t.jsxs)(u.Root,{modal:!0,onOpenChange:p,open:b,children:[(0,t.jsx)(u.Anchor,{className:"flex",children:(0,t.jsx)(u.Trigger,{asChild:!0,children:N||(0,t.jsx)(i.Button,{className:(0,d.clsx)("!ring-1 ring-gray-400 focus:z-10 focus:ring-gray-500",!s&&"rounded-[0!important]","left"===s&&"rounded-r-[0!important]","right"===s&&"rounded-l-[0!important]",j&&"bg-[var(--themed-bg)!important]",C),disabled:j,size:o,type:"secondary",typeName:"button",children:(0,g.getValueLabel)(r,a)})})}),(0,t.jsx)(u.Portal,{children:(0,t.jsx)(u.Content,{align:"start",className:"tailwind-preflight",onCloseAutoFocus:()=>p(!1),sideOffset:8,children:(0,t.jsx)(f.CommandMenu,{getId:g.getValueId,getValue:v,isSelected:O,label:a,onChange:h,onSearch:x,options:l,parseNewValue:w,renderItem:S})})})]})}function y(e){let{text:n,children:r}=e;return n?(0,t.jsx)(p.Tooltip,{className:"w-full",text:n,children:r}):r}var x=e.i(6198010);let b=e=>{let{id:t}=e;return t},C=e=>{let{label:t,group:n}=e;return`${t}${n?` ${n}`:""}`},w=e=>(0,t.jsxs)("div",{className:"flex w-full items-center gap-2 rounded px-2 py-1.5",children:["icon"in e&&e.icon?(0,t.jsx)(e.icon,{className:"size-4"}):null,e.label]});function N(e){let{label:n,value:r,options:l,onOpenChange:a,open:s,onChange:o,isLoading:c,rounded:p=!1,size:m="small",className:g,children:v,disabled:h,prefix:y,suffix:N,id:j}=e;return(0,t.jsxs)(u.Root,{modal:!0,onOpenChange:a,open:s,children:[(0,t.jsx)(u.Anchor,{className:"flex",children:(0,t.jsx)(u.Trigger,{asChild:!0,children:v||(0,t.jsx)(i.Button,{id:j,"aria-label":`Select ${n}`,className:(0,d.clsx)("!px-1",!p&&"rounded-[0!important]","left"===p&&"rounded-r-[0!important]","right"===p&&"rounded-l-[0!important]",h&&"bg-[var(--themed-bg)!important]",g),disabled:h,prefix:r&&"icon"in r&&r.icon?(0,t.jsx)(r.icon,{className:"size-4"}):y,size:m,suffix:N,type:"secondary",typeName:"button",children:r?r.label:(0,t.jsx)(x.Plus,{"aria-label":`Select ${n}`})})})}),(0,t.jsx)(u.Portal,{children:(0,t.jsx)(u.Content,{align:"start",className:"tailwind-preflight",sideOffset:8,children:(0,t.jsx)(f.CommandMenu,{getId:b,getValue:C,isLoading:c,label:n,onChange:o,open:s,options:l,renderItem:w,value:r})})})]})}e.s(["SingleFilterPopoverBox",()=>N],8815885);var j=e.i(2692457);function E(e){let t=(0,n.useContext)(r.FilterBarContext);if(!t)throw Error("Missing FilterBarContext.Provider in the React tree");return(0,j.useStore)(t,e)}function O(e){let{value:{value:r}={id:"",value:""},onChange:l,onToggle:i,disabled:a,ref:s}=e,[o,u]=(0,n.useState)(r);return(0,t.jsx)("div",{className:"focus:border-rounded -my-px flex items-center border bg-background-100 px-2",children:(0,t.jsx)("input",{"aria-label":"input value",className:(0,d.clsx)("block w-full bg-background-100 focus:outline-none focus:ring-transparent sm:text-sm",a&&"bg-[--themed-bg] text-gray-700"),disabled:a,onBlur:()=>{o!==r&&l((0,g.toValueObj)(o)),i(!1)},onChange:e=>u(e.target.value),onFocus:()=>i(!0),ref:s,type:"text",value:o.toString()})})}function S(e){let{index:r}=e,l=E(e=>e.filters),u=E(e=>e.removeFilter),d=E(e=>e.chooseValue),c=E(e=>e.chooseOperator),p=E(e=>e.searchValues),m=E(e=>e.toggleFilter),f=E(e=>e.edited),v=E(e=>e.config.dimensions),y=E(e=>e.disabled),x=(0,n.useRef)(null),{open:b,dimension:C,values:w,operator:j,availableValues:S,availableOperators:D,parseValue:R}=(0,n.useMemo)(()=>({open:null,availableValues:void 0,availableOperators:void 0,parseValue:void 0,values:l[r]?.values??[],operator:l[r]?.operator,...f?.index===r?f:{},dimension:v.find(e=>{let{id:t}=e;return t===l[r]?.dimension})??v[0]}),[f,l,r,v]),V=(0,n.useCallback)(e=>{e&&"value"===b||m(e?"value":null,r)},[r,m,b]),I=(0,n.useCallback)(e=>void m(e?"operator":null,r),[r,m]);return(0,n.useEffect)(()=>{"match"===j.type&&"value"===b&&setTimeout(()=>x.current?.focus(),100)},[b,j.type]),(0,t.jsxs)("div",{className:"flex h-8 items-stretch","data-testid":(0,o.tid)("filter-bar","cascading-filter"),children:[(0,t.jsx)("div",{className:"rounded-l-md bg-background-100 px-2 py-1.5 text-sm font-normal shadow-border",children:(0,g.renderItem)(C,!0)}),(0,t.jsx)(N,{className:"!font-normal !ring-1 ring-gray-400 focus:ring-gray-500",disabled:y,label:"operator",onChange:c,onOpenChange:I,open:"operator"===b,options:D,value:j}),"match"===j.type&&(0,t.jsx)(O,{disabled:y,onChange:d,onToggle:V,ref:x,value:w[0]}),"match"!==j.type&&"valueless"!==j.type&&(0,t.jsx)(h,{disabled:y,label:C.label,onChange:d,onOpenChange:V,onSearch:p,open:"value"===b,options:S,parseNewValue:R,values:w,availableOperators:D}),(0,t.jsx)(i.Button,{"aria-label":"Remove filter",className:(0,s.cn)("!px-0.5 !ring-1 ring-gray-400 hover:!text-gray-1000 focus:ring-gray-500",y?"bg-[var(--themed-bg)!important]":"!text-gray-900"),disabled:y,onClick:()=>u(r),size:"small",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},svgOnly:!0,type:"secondary",typeName:"button",children:(0,t.jsx)(a.CrossSmall,{size:"small"})})]})}function D(e){let{renderFilter:r}=e,i=E(e=>e.filters),{dimension:a,operator:s,availableValues:o,availableOperators:u,values:d,parseValue:c}=E(e=>e.edited??{dimension:null,operator:null,availableValues:[],availableOperators:[],values:[],parseValue:void 0}),p=E(e=>e.config.dimensions),m=E(e=>e.edited?.index===null?e.edited.open:null),f=E(e=>e.startNewFilter),g=E(e=>e.chooseDimension),v=E(e=>e.chooseOperator),y=E(e=>e.chooseValue),x=E(e=>e.searchValues),b=E(e=>e.disabled);return(0,t.jsxs)("div",{className:"items-top tailwind-preflight flex flex-wrap gap-2",children:[i.map((e,l)=>(0,t.jsx)(n.Fragment,{children:(r||(e=>e))((0,t.jsx)(S,{index:l}),e,l)},l)),a?s?(0,t.jsx)(h,{label:a.label,onChange:y,onOpenChange:f,onSearch:x,open:"value"===m,options:o,parseNewValue:c,values:d,availableOperators:u,children:(0,t.jsx)(l.AddFilter,{disabled:b})}):(0,t.jsx)(N,{label:"operator",onChange:v,onOpenChange:f,open:"value"===m,options:u,children:(0,t.jsx)(l.AddFilter,{disabled:b})}):(0,t.jsx)(N,{label:"dimension",onChange:e=>void g(e),onOpenChange:f,open:"operator"===m,options:p,children:(0,t.jsx)(l.AddFilter,{disabled:b})})]})}var R=e.i(4218604);function V(e,t,n){let{edited:r}=n();t({edited:r?.index===e?null:r})}function I(e,t,n,r){let{filters:l,edited:i,onChange:a}=r(),s=t?.operator?.type==="valueless",o=void 0===t||s||t.values?.length?[...l.slice(0,e),t?{...l[e],...t}:void 0,...l.slice(e+1)].filter(e=>void 0!==e):l;n({filters:o,edited:t&&i?{...i,operator:t.operator??i.operator,values:t.values??i.values}:null}),a(o)}function P(e,t){let{dimensions:n}=t;return n.find(t=>{let{id:n}=t;return e?.dimension===n})}function k(e,t,n,r){let{valuesByDimension:l,edited:i}=r(),a=[...l[e.id]??[]],s=new Set(a.map(e=>{let{id:t}=e;return t})),o=!(e.id in l);for(let e of t)s.has(e.id)||(s.add(e.id),a.push(e),o=!0);o&&(i?.dimension?.id===e.id&&n({edited:{...i,availableValues:a}}),n({valuesByDimension:{...l,[e.id]:a}}))}function T(e){return"stringArray"===e.type?e=>{let{type:t}=e;return"array"===t||"valueless"===t}:"boolean"===e.type?e=>{let{type:t}=e;return"single"===t||"valueless"===t}:"number"===e.type?e=>{let{type:t}=e;return"multiple"===t||"single"===t||"numerical"===t||"valueless"===t}:e=>{let{type:t}=e;return"multiple"===t||"single"===t||"match"===t||"valueless"===t}}async function A(e,t){let{filters:n,config:r}=t(),l=new Set;for(let e of n){let n=P(e,r);!n||n.id in t().valuesByDimension||l.add(n)}for(let i of(await Promise.allSettled([...l].map(async n=>{k(n,await M({dimension:n},r.resolveValues),e,t)})),n)){let n=P(i,r);"match"!==i.operator.type&&n&&k(n,i.values,e,t)}e({filters:n.map(e=>({...e,values:e.values.map(n=>t().valuesByDimension[e.dimension]?.find(e=>e.id===n.id)??n)}))})}async function M(e,t){let n=t?.(e);return n instanceof Object&&"then"in n?await n??[]:n??[]}function L(e,t){return JSON.stringify(e)===JSON.stringify(t)}function F(e){let{renderFilter:l,...i}=e,a=(0,n.useRef)((0,R.createStore)()((e,t)=>({config:{dimensions:[],operators:[]},filters:[],onChange:()=>void 0,disabled:!1,edited:null,valuesByDimension:{},setProps:async n=>{let{onChange:r,disabled:l,config:i,filters:a}=n,s=t();if(l!==s.disabled&&e({disabled:l}),r!==s.onChange&&e({onChange:r}),L(s.config,i))L(s.filters,a)||(e({filters:a}),await A(e,t));else{e({config:i,filters:a,edited:null});let n=a.filter(e=>{let{dimension:t}=e;return i.dimensions.some(e=>{let{id:n}=e;return n===t})});L(a,n)||(e({filters:n}),r(n)),await A(e,t)}},toggleFilter:async(n,r)=>{let{config:l,disabled:i,edited:a,filters:s,valuesByDimension:o}=t(),u=s[r],d=P(u,l);!i&&u&&d&&(n||a?.index===null||a?.values.length!==0||I(a.index,void 0,e,t),e({edited:n?{index:r,operator:u.operator,values:u.values,open:n,dimension:d,availableOperators:l.operators.filter(T(d)),availableValues:o[d.id],parseValue:(0,g.makeParseValue)(d)}:null}),k(d,await M({dimension:d},l.resolveValues),e,t))},startNewFilter:n=>{let{config:r,disabled:l,edited:i,filters:a,operatorUponCreation:s}=t();if(!l&&(e({edited:n?{index:null,open:"operator",operator:s?void 0:r.defaultSingleOperator,values:[],availableOperators:r.operators}:null}),i?.dimension&&(i.operator?.type==="multiple"||i.operator?.type==="array"))){let{values:n,operator:r,dimension:{id:l}}=i;n.length&&I(a.length,{values:n,operator:r,dimension:l},e,t)}},chooseDimension:async n=>{let{config:r,edited:l,valuesByDimension:i,operatorUponCreation:a}=t();if(!l)return;let s="stringArray"===n.type?r.defaultArrayOperator:r.defaultSingleOperator;e({edited:{...l,open:"value",dimension:n,operator:a?void 0:s,parseValue:(0,g.makeParseValue)(n),availableValues:i[n.id],availableOperators:r.operators.filter(T(n))}}),k(n,await M({dimension:n},r.resolveValues),e,t)},chooseOperator:async n=>{let{edited:r,filters:l}=t();if(!r)return;if(null===r.index)return void("valueless"===n.type&&r.dimension?(e({edited:null}),I(l.length,{dimension:r.dimension.id,operator:n,values:[]},e,t)):e({edited:{...r,open:"value",operator:n}}));if(r.operator?.type==="valueless"&&"valueless"!==n.type){let t={...r,operator:n,open:null};return e({edited:t}),await new Promise(e=>{setTimeout(e,50)}),e({edited:{...t,open:"value"}})}let i=r.values;"multiple"!==n.type&&r.values.length>1&&(i=r.values.slice(0,1)),"valueless"===n.type&&(i=[]),I(r.index,{...l[r.index],operator:n,values:i},e,t),V(r.index,e,t)},chooseValue:(n,r)=>{let{config:l,filters:i,edited:a}=t();if(!a||!a.dimension||!a.operator)return;let{dimension:s,operator:o,values:u}=a;if(function(e,t){let{value:n}=e;return"number"===t.type&&("number"!=typeof n||Number.isNaN(n))||"boolean"===t.type&&!0!==n&&!1!==n}(n,s))return;let d={values:u,operator:o},c=!1;"match"===o.type?d.values=[n]:(u.every(e=>{let{id:t}=e;return t!==n.id})?(k(s,[n],e,t),"multiple"===o.type||"array"===o.type?d.values=[...u,n]:r?(d.values=[...u,n],d.operator=l.defaultMultiOperator):d.values=[n]):(d.values=u.filter(e=>{let{id:t}=e;return t!==n.id}),r&&"multiple"===o.type&&d.values.length<2&&(d.operator=l.defaultSingleOperator)),c=!r),null===a.index?r?e({edited:{...a,...d}}):(d.values.length&&I(i.length,{dimension:a.dimension.id,...d},e,t),e({edited:null})):(0===d.values.length&&c?I(a.index,void 0,e,t):I(a.index,d,e,t),c&&V(a.index,e,t))},searchValues:async n=>{let{config:r,edited:l}=t();if(!l?.dimension)return;let{dimension:i}=l,a=await M({dimension:i,text:n},r.resolveValues);k(i,a,e,t)},removeFilter:n=>{let{disabled:r,filters:l}=t();!r&&l[n]&&I(n,void 0,e,t)}}))),s=(0,n.useMemo)(()=>i,[i]);return(0,n.useEffect)(()=>{a.current.getState().setProps(s)},[s]),(0,t.jsx)(r.FilterBarContext.Provider,{value:a.current,children:(0,t.jsx)(D,{renderFilter:l})})}e.s(["FilterBar",()=>F],1482596)}]);

//# sourceMappingURL=c10d8bdabd49fbbf.js.map
//# debugId=a8a04511-fb12-5c3f-a966-014b992952de
