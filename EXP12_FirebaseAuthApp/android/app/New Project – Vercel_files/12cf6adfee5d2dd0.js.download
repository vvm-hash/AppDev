
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="351f604d-96b4-598f-a7e2-8e3a3a1abc9e")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7348630,e=>{"use strict";var t=e.i(516467);function n(e,n){return+(0,t.toDate)(e)>+(0,t.toDate)(n)}e.s(["isAfter",()=>n])},7622186,e=>{"use strict";var t=e.i(7432042),n=e.i(1509029);function r(e){let r,i,{team:s,hasObservabilityPlusAccess:a,observabilityMaximumLookbackFlag:o}=e;if(r=a?n.PlusRetention:s.billing?.plan==="pro"?n.FreeProRetention:s.billing?.plan==="enterprise"?n.FreeEntRetention:n.FreeHobbyRetention,"inherit"===o)return r;try{i=(0,t.default)(o)}catch(e){console.error("Failed to parse observability-maximum-lookback flag. Defaulting to plan settings"),i=r}return i>(0,t.default)("90d")&&(i=(0,t.default)("90d")),i}e.s(["getMaximumLookback",()=>r])},2731997,e=>{"use strict";var t=e.i(6468255),n=e.i(9100551),r=e.i(4313344),i=e.i(8151845);function s(e){let{allowAll:s=!0}=e,[a,o]=(0,i.useSonarQueryState)();if("/notebooks"!==((0,n.usePathname)()?.split("observability").pop()||""))return(0,t.jsx)(r.EnvironmentSelector,{allowAll:s,environment:a.environment,onChange:e=>{o({environment:e})}})}e.s(["EnvironmentSelect",()=>s])},3470411,e=>{"use strict";var t=e.i(6468255),n=e.i(8412040),r=e.i(9100551),i=e.i(4597921),s=e.i(5338940),a=e.i(5033426),o=e.i(7348630),l=e.i(1794286),u=e.i(7432042),d=e.i(6696646),c=e.i(8151845),p=e.i(2126130),m=e.i(7622186),f=e.i(2749380);e.i(6728635);var g=e.i(2630141),v=e.i(1509029);e.i(6483798);var h=e.i(8287059);function x(){let e=(0,h.useOpenUpgradeModal)(),[n,x]=(0,c.useSonarQueryState)(),{start:b,end:y}=(0,c.useRangeFromQueryState)(),{team:j}=(0,s.useTeam)(),{hasObservabilityPlusAccessOnCurrentProject:w,ready:P}=(0,p.useHasObservabilityPlus)(),C=(0,g.useOpenEnableModal)(),E=(0,i.useServerFlag)("observability-maximum-lookback","inherit"),R=(0,d.useMemo)(()=>{if(!j)return new Date;let e=(0,m.getMaximumLookback)({team:j,hasObservabilityPlusAccess:w,observabilityMaximumLookbackFlag:E});return new Date(Date.now()-e)},[j,w,E]);if((0,d.useEffect)(()=>{if(P&&j&&b<R&&!w){let e=Object.keys((0,f.getTimeRangePresets)())[0];(0,a.track)("Observability Changed Date Range Period",{period:e}),x({period:e})}},[R,x,b,j,w,P]),"/notebooks"===((0,r.usePathname)()?.split("observability").pop()||""))return;let N=Object.entries((0,f.getTimeRangePresets)()).filter(e=>{let[t,n]=e;return!w||(0,o.isAfter)(n.start,R)}).map(e=>{let[t,n]=e;return{key:t,...n,needsUpgrade:n.start.getTime()<R.getTime()}}),D=(()=>{if(j?.billing?.plan==="hobby"){let t=Date.now()-v.FreeProRetention;return[{presets:N.filter(e=>!e.needsUpgrade)},{title:"Upgrade to Pro",divider:!0,presets:N.filter(e=>e.needsUpgrade&&e.start.getTime()>=t).map(t=>({...t,onClick:()=>{e({teamHint:j.id,source:"observability-period-filter",onConversionSuccess:()=>{x({period:t.key})}})}}))},{title:"Observability Plus",presets:N.filter(e=>e.needsUpgrade&&e.start.getTime()<t).map(e=>({...e,onClick:()=>{C({via:"date-range-select",upgradeUseCase:"retention"})}}))}]}let t=N.filter(e=>e.needsUpgrade);return t.length?[{presets:N.filter(e=>!e.needsUpgrade)},{title:"Observability Plus",divider:!0,presets:t.map(e=>({...e,onClick:()=>{C({via:"date-range-select",upgradeUseCase:"retention"})}}))}]:[{presets:N}]})(),O=n.period?N.find(e=>e.key===n.period)?.key:void 0;return(0,t.jsx)(l.Calendar,{allowClear:!1,compact:!0,minValue:R,onChange:(e,t)=>{let n=new Date(e.start),r=new Date(e.end);t?((0,a.track)("Observability Changed Date Range Period",{period:t}),x({period:t})):((0,a.track)("Observability Changed Date Range Period",{period:(0,u.default)(r.getTime()-n.getTime())}),x({from:n,to:r}))},popoverAlignment:"center",presetKey:O,presets:D,value:{start:b,end:y},width:"190px"},"date-range-select-o11y")}var b=e.i(2731997),y=e.i(2807115);function j(e){let{children:i,hideEnvironmentSelect:s,hideOptionsMenu:a}=e,o=(0,r.usePathname)()?.split("observability").pop()||"",l=!s&&!o.startsWith("/alerts")&&!o.startsWith("/query"),u=!o.startsWith("/alerts")&&!o.startsWith("/query");return(0,t.jsx)("div",{className:"w-full md:w-auto",children:(0,t.jsx)(n.MobileScrollWrapper,{className:"-mx-5 -my-2 md:mx-0",contentClassName:"md:!overflow-visible py-3  px-5 md:px-0",style:{"--overlay-color":"var(--ds-background-200-value)"},children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[i,l?(0,t.jsx)(b.EnvironmentSelect,{}):null,u?(0,t.jsx)(x,{}):null,a?null:(0,t.jsx)(y.OptionsMenu,{})]})})})}e.s(["HeaderControls",()=>j],3470411)},2807115,e=>{"use strict";var t=e.i(6468255),n=e.i(8674454),r=e.i(6694387),i=e.i(4991687),s=e.i(8459493),a=e.i(5468328),o=e.i(8876434),l=e.i(6143247),u=e.i(6696646),d=e.i(2126130),c=e.i(9100551);e.i(6728635);var p=e.i(2630141);e.i(3182268);var m=e.i(7849855),f=e.i(7114658),g=e.i(1717203),v=e.i(7557283),h=e.i(6891161),x=e.i(8522580);let b=e=>{let{active:n,projectName:r,onClose:i,onConfirm:s}=e,[a,o]=(0,u.useState)(!1),l=async()=>{o(!0);try{await s(),i()}finally{o(!1)}};return(0,t.jsxs)(h.Modal.Modal,{active:n,onClickOutside:i,width:"500px",children:[(0,t.jsx)(h.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(h.Modal.Title,{children:"Exclude Project from Observability Plus?"}),(0,t.jsxs)("p",{children:["Excluding ",(0,t.jsx)("strong",{children:r})," from Observability Plus will disable the following features for this project:"]}),(0,t.jsxs)(x.Note,{type:"warning",children:[(0,t.jsx)("strong",{children:"Anomaly Alerts"})," will stop being sent"]}),(0,t.jsx)(x.Note,{type:"warning",children:"Logs retention will decrease from 14 days to 3 days"}),(0,t.jsx)(x.Note,{type:"warning",children:"Data will no longer appear in the Query Builder"}),(0,t.jsx)("p",{children:"You can re-enable Observability Plus for this project at any time."})]})}),(0,t.jsxs)(h.Modal.Actions,{children:[(0,t.jsx)(h.Modal.Action,{disabled:a,onClick:i,type:"secondary",children:"Cancel"}),(0,t.jsx)(h.Modal.Action,{disabled:a,loading:a,onClick:l,type:"error",children:"Exclude Project"})]})]})};function y(e){let{children:a,className:m}=e,f=(0,c.useParams)(),{hasObservabilityPlusAccess:g,impersonating:v,hasObservabilityPlusSubscribed:h}=(0,d.useHasObservabilityPlus)(),x=(0,p.useOpenEnableModal)(),[b,y]=(0,u.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.MenuContainer,{position:"bottom-end",children:[(0,t.jsx)(r.MenuButton,{"aria-label":"More Actions",className:(0,l.cn)("shrink-0",m),shape:"square",svgOnly:!0,type:"secondary",children:(0,t.jsx)(o.MoreHorizontal,{})}),(0,t.jsxs)(n.Menu,{width:230,children:[a,g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.MenuItem,{isLink:!0,href:`/${f?.teamSlug}/~/settings/billing#observability`,children:"Configure Observability Plus"}),(0,t.jsx)(j,{onOpenExcludeModal:()=>y(!0)})]}):null,g&&(!v||h)?null:(0,t.jsx)(s.MenuItem,{onClick:()=>x({via:"header-menu"}),children:"Upgrade to Observability Plus"})]})]}),(0,t.jsx)(w,{active:b,onClose:()=>y(!1)})]})}function j(e){let{onOpenExcludeModal:n}=e,{can:r,isLoading:i}=(0,g.default)(),{isObservabilityPlusForProjectsFlagEnabled:a,toggleObservabilityPlusForProject:o,isCurrentProjectExcluded:l,isValidating:u}=(0,f.useObservabilityPlusForProjects)(),{projectSlug:d}=(0,m.useProjectSlug)();if(!a||!d)return null;let c=!i&&r(v.Action.Update,v.Resource.ObservabilityConfiguration);return l?(0,t.jsx)(s.MenuItem,{disabled:!c||u||i,onClick:()=>{d&&o({projectName:d,disabled:!1})},children:(0,t.jsx)(P,{text:c?void 0:"Please ask your team owners",children:"Include Project in Plus"})}):(0,t.jsx)(s.MenuItem,{disabled:!c||u||i,onClick:n,type:"error",children:(0,t.jsx)(P,{text:c?void 0:"Please ask your team owners",children:"Exclude Project from Plus"})})}function w(e){let{active:n,onClose:r}=e,{toggleObservabilityPlusForProject:i}=(0,f.useObservabilityPlusForProjects)(),{projectSlug:s}=(0,m.useProjectSlug)();return s?(0,t.jsx)(b,{active:n,projectName:s,onClose:r,onConfirm:async()=>{s&&await i({projectName:s,disabled:!0})}}):null}function P(e){let{text:n,children:r}=e;return n?(0,t.jsx)(a.Tooltip,{text:n,children:r}):r}e.s(["OptionsMenu",()=>y],2807115)},4313344,e=>{"use strict";var t=e.i(6468255),n=e.i(6881349);let r={production:"Production",preview:"Preview",all:"All environments"};function i(e){var i;let{environment:s,onChange:a,allowAll:o=!0}=e;return(0,t.jsxs)(n.Combobox,{clearable:!1,value:s,noInputPrefix:!0,width:"preview"===(i=s)?"101px":"production"===i?"120px":"160px",onChange:e=>{e&&Object.keys(r).includes(e)&&a(e)},noRawSelectedValue:!0,children:[(0,t.jsx)(n.Combobox.Input,{}),(0,t.jsx)(n.Combobox.List,{maxWidth:300,children:Object.entries(r).filter(e=>{let[t]=e;return o||"all"!==t}).map(e=>{let[r,i]=e;return(0,t.jsx)(n.Combobox.Option,{value:r,children:i},r)})})]})}e.s(["EnvironmentSelector",()=>i])},8250954,e=>{"use strict";var t=e.i(9487122);function n(e){return(0,t.constructFrom)(e,Date.now())}e.s(["constructNow",()=>n])},2812875,e=>{"use strict";var t=e.i(4495794);function n(e,n,r){return(0,t.addMonths)(e,-n,r)}e.s(["subMonths",()=>n])},8355955,e=>{e.v({previous:"Previous",next:"Next",selectedDateDescription:"Selected Date: {date, date, full}",selectedRangeDescription:"Selected Range: {start, date, long} to {end, date, long}",todayDate:"Today, {date, date, full}",todayDateSelected:"Today, {date, date, full} selected",dateSelected:"{date, date, full} selected",startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range"})},6995468,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 0.5V1.25V2H10.5V1.25V0.5H12V1.25V2H14H15.5V3.5V13.5C15.5 14.8807 14.3807 16 13 16H3C1.61929 16 0.5 14.8807 0.5 13.5V3.5V2H2H4V1.25V0.5H5.5ZM2 3.5H14V6H2V3.5ZM2 7.5V13.5C2 14.0523 2.44772 14.5 3 14.5H13C13.5523 14.5 14 14.0523 14 13.5V7.5H2Z" fill="currentColor"/>');e.s(["Calendar",0,t])},1019550,(e,t,n)=>{var r=e.r(9225935),i=e.r(1716110),s=e.r(5697125),a=Math.ceil,o=Math.max;t.exports=function(e,t,n){t=(n?i(e,t,n):void 0===t)?1:o(s(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var u=0,d=0,c=Array(a(l/t));u<l;)c[d++]=r(e,u,u+=t);return c}},4498440,e=>{"use strict";var t,n=e.i(6696646);function r(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var i=e.i(7430406),s=e.i(7079014),a=e.i(1315599),o=e.i(4393136),l=e.i(3222420),u=e.i(4938657),d=e.i(237982),c=e.i(6468255),p="dismissableLayer.update",m=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),f=n.forwardRef((e,s)=>{let{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:x,onDismiss:b,...y}=e,j=n.useContext(m),[w,P]=n.useState(null),C=w?.ownerDocument??globalThis?.document,[,E]=n.useState({}),R=(0,i.useComposedRefs)(s,e=>P(e)),N=Array.from(j.layers),[D]=[...j.layersWithOutsidePointerEventsDisabled].slice(-1),O=N.indexOf(D),S=w?N.indexOf(w):-1,M=j.layersWithOutsidePointerEventsDisabled.size>0,A=S>=O,T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document,r=(0,u.useCallbackRef)(e),i=n.useRef(!1),s=n.useRef(()=>{});return n.useEffect(()=>{let e=e=>{if(e.target&&!i.current){let n=function(){v("dismissableLayer.pointerDownOutside",r,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=n,t.addEventListener("click",s.current,{once:!0})):n()}else t.removeEventListener("click",s.current);i.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}(e=>{let t=e.target,n=[...j.branches].some(e=>e.contains(t));A&&!n&&(f?.(e),x?.(e),e.defaultPrevented||b?.())},C),L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document,r=(0,u.useCallbackRef)(e),i=n.useRef(!1);return n.useEffect(()=>{let e=e=>{e.target&&!i.current&&v("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{let t=e.target;![...j.branches].some(e=>e.contains(t))&&(h?.(e),x?.(e),e.defaultPrevented||b?.())},C);return(0,d.useEscapeKeydown)(e=>{S===j.layers.size-1&&(o?.(e),!e.defaultPrevented&&b&&(e.preventDefault(),b()))},C),n.useEffect(()=>{if(w)return a&&(0===j.layersWithOutsidePointerEventsDisabled.size&&(t=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),j.layersWithOutsidePointerEventsDisabled.add(w)),j.layers.add(w),g(),()=>{a&&1===j.layersWithOutsidePointerEventsDisabled.size&&(C.body.style.pointerEvents=t)}},[w,C,a,j]),n.useEffect(()=>()=>{w&&(j.layers.delete(w),j.layersWithOutsidePointerEventsDisabled.delete(w),g())},[w,j]),n.useEffect(()=>{let e=()=>E({});return document.addEventListener(p,e),()=>document.removeEventListener(p,e)},[]),(0,c.jsx)(l.Primitive.div,{...y,ref:R,style:{pointerEvents:M?A?"auto":"none":void 0,...e.style},onFocusCapture:r(e.onFocusCapture,L.onFocusCapture),onBlurCapture:r(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:r(e.onPointerDownCapture,T.onPointerDownCapture)})});function g(){let e=new CustomEvent(p);document.dispatchEvent(e)}function v(e,t,n,r){let{discrete:i}=r,s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?(0,l.dispatchDiscreteCustomEvent)(s,a):s.dispatchEvent(a)}f.displayName="DismissableLayer",n.forwardRef((e,t)=>{let r=n.useContext(m),s=n.useRef(null),a=(0,i.useComposedRefs)(t,s);return n.useEffect(()=>{let e=s.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,c.jsx)(l.Primitive.div,{...e,ref:a})}).displayName="DismissableLayerBranch";var h=e.i(1004168),x=e.i(9771370),b=e.i(943988),y=e=>{var t;let r,s,{present:a,children:o}=e,l=function(e){var t,r;let[i,s]=n.useState(),a=n.useRef(null),o=n.useRef(e),l=n.useRef("none"),[u,d]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>r[e][t]??e,t));return n.useEffect(()=>{let e=j(a.current);l.current="mounted"===u?e:"none"},[u]),(0,b.useLayoutEffect)(()=>{let t=a.current,n=o.current;if(n!==e){let r=l.current,i=j(t);e?d("MOUNT"):"none"===i||t?.display==="none"?d("UNMOUNT"):n&&r!==i?d("ANIMATION_OUT"):d("UNMOUNT"),o.current=e}},[e,d]),(0,b.useLayoutEffect)(()=>{if(i){let e,t=i.ownerDocument.defaultView??window,n=n=>{let r=j(a.current).includes(CSS.escape(n.animationName));if(n.target===i&&r&&(d("ANIMATION_END"),!o.current)){let n=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=n)})}},r=e=>{e.target===i&&(l.current=j(a.current))};return i.addEventListener("animationstart",r),i.addEventListener("animationcancel",n),i.addEventListener("animationend",n),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",r),i.removeEventListener("animationcancel",n),i.removeEventListener("animationend",n)}}d("ANIMATION_END")},[i,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:n.useCallback(e=>{a.current=e?getComputedStyle(e):null,s(e)},[])}}(a),u="function"==typeof o?o({present:l.isPresent}):n.Children.only(o),d=(0,i.useComposedRefs)(l.ref,(t=u,(s=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(s=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof o||l.isPresent?n.cloneElement(u,{ref:d}):null};function j(e){return e?.animationName||"none"}y.displayName="Presence";var w=0;function P(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var C=e.i(5097496),E=e.i(73772),R=e.i(8665489),N="Dialog",[D,O]=(0,s.createContextScope)(N),[S,M]=D(N),A=e=>{let{__scopeDialog:t,children:r,open:i,defaultOpen:s,onOpenChange:l,modal:u=!0}=e,d=n.useRef(null),p=n.useRef(null),[m,f]=(0,o.useControllableState)({prop:i,defaultProp:s??!1,onChange:l,caller:N});return(0,c.jsx)(S,{scope:t,triggerRef:d,contentRef:p,contentId:(0,a.useId)(),titleId:(0,a.useId)(),descriptionId:(0,a.useId)(),open:m,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(e=>!e),[f]),modal:u,children:r})};A.displayName=N;var T="DialogTrigger",L=n.forwardRef((e,t)=>{let{__scopeDialog:n,...s}=e,a=M(T,n),o=(0,i.useComposedRefs)(t,a.triggerRef);return(0,c.jsx)(l.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ee(a.open),...s,ref:o,onClick:r(e.onClick,a.onOpenToggle)})});L.displayName=T;var k="DialogPortal",[F,I]=D(k,{forceMount:void 0}),_=e=>{let{__scopeDialog:t,forceMount:r,children:i,container:s}=e,a=M(k,t);return(0,c.jsx)(F,{scope:t,forceMount:r,children:n.Children.map(i,e=>(0,c.jsx)(y,{present:r||a.open,children:(0,c.jsx)(x.Portal,{asChild:!0,container:s,children:e})}))})};_.displayName=k;var U="DialogOverlay",z=n.forwardRef((e,t)=>{let n=I(U,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=M(U,e.__scopeDialog);return s.modal?(0,c.jsx)(y,{present:r||s.open,children:(0,c.jsx)(B,{...i,ref:t})}):null});z.displayName=U;var W=(0,R.createSlot)("DialogOverlay.RemoveScroll"),B=n.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=M(U,n);return(0,c.jsx)(C.RemoveScroll,{as:W,allowPinchZoom:!0,shards:[i.contentRef],children:(0,c.jsx)(l.Primitive.div,{"data-state":ee(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),H="DialogContent",V=n.forwardRef((e,t)=>{let n=I(H,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=M(H,e.__scopeDialog);return(0,c.jsx)(y,{present:r||s.open,children:s.modal?(0,c.jsx)($,{...i,ref:t}):(0,c.jsx)(q,{...i,ref:t})})});V.displayName=H;var $=n.forwardRef((e,t)=>{let s=M(H,e.__scopeDialog),a=n.useRef(null),o=(0,i.useComposedRefs)(t,s.contentRef,a);return n.useEffect(()=>{let e=a.current;if(e)return(0,E.hideOthers)(e)},[]),(0,c.jsx)(J,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:r(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:r(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:r(e.onFocusOutside,e=>e.preventDefault())})}),q=n.forwardRef((e,t)=>{let r=M(H,e.__scopeDialog),i=n.useRef(!1),s=n.useRef(!1);return(0,c.jsx)(J,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||r.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),J=n.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...l}=e,u=M(H,r),d=n.useRef(null),p=(0,i.useComposedRefs)(t,d);return n.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??P()),document.body.insertAdjacentElement("beforeend",e[1]??P()),w++,()=>{1===w&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),w--}},[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h.FocusScope,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:(0,c.jsx)(f,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":ee(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ei,{titleId:u.titleId}),(0,c.jsx)(es,{contentRef:d,descriptionId:u.descriptionId})]})]})}),K="DialogTitle",Q=n.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=M(K,n);return(0,c.jsx)(l.Primitive.h2,{id:i.titleId,...r,ref:t})});Q.displayName=K;var Z="DialogDescription",Y=n.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=M(Z,n);return(0,c.jsx)(l.Primitive.p,{id:i.descriptionId,...r,ref:t})});Y.displayName=Z;var G="DialogClose",X=n.forwardRef((e,t)=>{let{__scopeDialog:n,...i}=e,s=M(G,n);return(0,c.jsx)(l.Primitive.button,{type:"button",...i,ref:t,onClick:r(e.onClick,()=>s.onOpenChange(!1))})});function ee(e){return e?"open":"closed"}X.displayName=G;var et="DialogTitleWarning",[en,er]=(0,s.createContext)(et,{contentName:H,titleName:K,docsSlug:"dialog"}),ei=e=>{let{titleId:t}=e,r=er(et),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return n.useEffect(()=>{t&&(document.getElementById(t)||console.error(i))},[i,t]),null},es=e=>{let{contentRef:t,descriptionId:r}=e,i=er("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i.contentName}}.`;return n.useEffect(()=>{let e=t.current?.getAttribute("aria-describedby");r&&e&&(document.getElementById(r)||console.warn(s))},[s,t,r]),null};e.s(["Close",()=>X,"Content",()=>V,"Description",()=>Y,"Overlay",()=>z,"Portal",()=>_,"Root",()=>A,"Title",()=>Q,"Trigger",()=>L],4498440)},7458020,e=>{"use strict";var t=e.i(6696646);e.s(["useScrollEnd",0,function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let t=e.current;if(!t)return;let r=()=>{i(t.scrollLeft+t.clientWidth+n>=t.scrollWidth),a(t.scrollLeft<=n)};return r(),t.addEventListener("scroll",r),window.addEventListener("resize",r),()=>{t.removeEventListener("scroll",r),window.removeEventListener("resize",r)}},[e,n]),{start:s,end:r}}])},806506,e=>{e.v({"scroll-content":"mobile-scroll-wrapper-module__7291Ja__scroll-content","tab-shadow-wrapper":"mobile-scroll-wrapper-module__7291Ja__tab-shadow-wrapper","tabs-shadow":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow","tabs-shadow--hidden":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow--hidden","tabs-shadow--left":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow--left",wrapper:"mobile-scroll-wrapper-module__7291Ja__wrapper"})},8412040,e=>{"use strict";var t=e.i(6468255),n=e.i(9722978),r=e.i(6696646),i=e.i(7458020),s=e.i(806506);function a(e){let{children:a,contentStyle:o,contentClassName:l,...u}=e,d=(0,r.useRef)(null),{start:c,end:p}=(0,i.useScrollEnd)(d,20);return(0,t.jsxs)("div",{className:(0,n.clsx)(s.default.wrapper,u.className),style:u.style,children:[(0,t.jsx)("div",{className:(0,n.clsx)(s.default["scroll-content"],l),ref:d,style:o,children:a}),(0,t.jsxs)("div",{className:s.default["tab-shadow-wrapper"],children:[(0,t.jsx)("div",{className:(0,n.clsx)(s.default["tabs-shadow"],s.default["tabs-shadow--left"],{[s.default["tabs-shadow--hidden"]]:c||!p})}),(0,t.jsx)("div",{className:(0,n.clsx)(s.default["tabs-shadow"],{[s.default["tabs-shadow--hidden"]]:p})})]})]})}e.s(["MobileScrollWrapper",()=>a])},2923857,e=>{"use strict";var t=e.i(6468255),n=e.i(57106),r=e.i(1344973),i=e.i(6362863),s=e.i(9100551);function a(e){let{href:a}=e,o=(0,s.useRouter)();return(0,t.jsxs)(n.Link,{className:"mb-3 flex w-min items-center",onClick:()=>{o.push(a)},type:"secondary",variant:"highlight",children:[(0,t.jsx)(i.ArrowLeft,{className:"mr-2",size:12}),(0,t.jsx)(r.Text,{color:"inherit",children:"Back"})]})}e.s(["PageHeaderBacklink",()=>a])},58194,e=>{"use strict";var t=e.i(6696646),n=e.i(3911483),r=e.i(277234),i=e.i(4244280),s=e.i(7917902),a=e.i(6625227);function o(e,t){let{data:n,mutate:r,error:i}=(0,a.default)(e,t);return Object.assign(l(n,t),{deployment:n,deploymentError:i,revalidateDeployment:r})}function l(e,a){let{isLoading:o,team:l}=(0,s.useAccount)(),u=(0,t.useMemo)(()=>{if(!e?.id||o)return"";let t=(0,i.API_DEPLOYMENTS)("v10"),n=l?`teamId=${l.id}`:"";return`${t}/${e.id}/builds?${n}`},[e,o,l]);return(0,n.default)(u,e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),a)}e.s(["default",()=>o,"useBuilds",()=>l])},9886547,e=>{"use strict";var t=e.i(6696646),n=e.i(58194);function r(e){var t,n;let r=e;return"index"===r||"/index"===r?r="/":r.endsWith("/index")&&(r=r.replace(/\/index$/,"")),r="/"===(n=r="/"===(t=r)||t.startsWith("/")?t:`/${t}`)?n:n.endsWith("/")?n.slice(0,-1):n}function i(e){let{data:i,isLoading:s}=(0,n.default)(e);return{getFunctionMetadata:(0,t.useCallback)(e=>{let t=i?.builds[0]?.output;if(t)return function(e){let{buildOutput:t,functionName:n}=e;return t.find(e=>"lambda"===e.type&&r(n)===r(e.path))}({buildOutput:t,functionName:e})},[i]),isLoading:s}}e.s(["normalizeFunctionPath",()=>r,"useFunctionMetadata",()=>i])},7009342,e=>{"use strict";var t=e.i(6468255),n=e.i(6696646),r=e.i(9100551),i=e.i(1727580),s=e.i(6060673),a=e.i(4396019),o=e.i(9886547),l=e.i(3001456);let u=(0,n.createContext)(null);function d(e){let{children:n}=e,d=(0,r.useParams)(),c=function(e,t){let{data:n}=(0,s.useProject)(t),r=(0,a.useProjectProductionDeployment)(n?.id),{data:u,isLoading:d}=(0,l.useDeployLogs)({deployment:r.deployment}),{getFunctionMetadata:c,isLoading:p}=(0,o.useFunctionMetadata)(r.deployment?.id);if(d||p||!u)return{isLoading:!0,data:void 0};let m=c(e);if(u[i.ArtefactTypes.ServerlessFunctions]){let t=u[i.ArtefactTypes.ServerlessFunctions].find(t=>"path"in t&&(0,o.normalizeFunctionPath)(t.path)===(0,o.normalizeFunctionPath)(e));if(t)return{isLoading:!1,data:{resource:"serverless",type:t.type,runtime:t.runtime,regions:Array.isArray(t.regions)?t.regions:[t.regions],...t.passiveRegions&&{passiveRegions:Array.isArray(t.passiveRegions)?t.passiveRegions:[t.passiveRegions]},size:t.size,memorySize:m?.lambda?.memorySize,timeout:m?.lambda?.timeout}}}if(u[i.ArtefactTypes.EdgeFunctions]){let t=u[i.ArtefactTypes.EdgeFunctions].find(t=>"path"in t&&(0,o.normalizeFunctionPath)(t.path)===(0,o.normalizeFunctionPath)(e));if(t)return{isLoading:!1,data:{resource:"edge",type:t.type,size:t.size,regions:t.regions?Array.isArray(t.regions)?t.regions:[t.regions]:[]}}}if(u[i.ArtefactTypes.StaticAssets]){let t=u[i.ArtefactTypes.StaticAssets].find(t=>(0,o.normalizeFunctionPath)(t.path)===(0,o.normalizeFunctionPath)(e));if(t)return{isLoading:!1,data:{resource:"static",type:t.type,size:t.size}}}return{isLoading:!1,data:void 0}}(decodeURIComponent(d?.resource),d?.project);return(0,t.jsx)(u.Provider,{value:c,children:n})}function c(){return(0,n.useContext)(u)}u.displayName="RouteMetadataContext",e.s(["RouteMetadataContext",0,u,"RouteMetadataProvider",()=>d,"useRouteMetadata",()=>c])},8256925,e=>{"use strict";var t=e.i(6468255),n=e.i(4796642),r=e.i(9645681),i=e.i(9568268),s=e.i(2988836),a=e.i(1344973),o=e.i(3306538),l=e.i(5468328),u=e.i(57106),d=e.i(9100551),c=e.i(1502273),p=e.i(6307178),m=e.i(9655125),f=e.i(559696),g=e.i(4006531),v=e.i(9459801),h=e.i(8151845),x=e.i(1542949),b=e.i(5255926),y=e.i(4201247),j=e.i(9815345);function w(e){let{attributes:n,isLoading:r}=e;return(0,t.jsx)(j.MotionConfig,{reducedMotion:"user",children:(0,t.jsx)("div",{className:"grid grid-cols-3 gap-1 p-2",children:n.map(e=>{let{label:n,value:i,width:s}=e;return(0,t.jsxs)(y.motion.div,{className:"flex flex-col items-start",layout:"position",style:{minWidth:s?`${s}px`:"auto"},children:[(0,t.jsx)("span",{className:"mb-1 text-sm font-medium text-gray-600",children:n}),r||!i?(0,t.jsx)(b.Skeleton,{className:"w-20",height:20}):(0,t.jsx)("span",{className:"text-sm text-black",children:i})]},n)})})})}var P=e.i(3470411),C=e.i(7009342),E=e.i(2923857);function R(e){let{type:n,title:r,isSearchableInLogs:i=!1}=e,o=(0,d.useParams)(),c=decodeURIComponent(o?.resource),p=o?.project,m=o?.teamSlug,f=(0,C.useRouteMetadata)(),g=(0,d.useSearchParams)(),b=(0,x.useO11yNavigation)(),{start:y,end:j}=(0,h.useRangeFromQueryState)(),w=new URLSearchParams;"route"===n?w.set("routes",c):w.set("requestPaths",c),w.set("startDate",Math.round(y.getTime()/1e3).toString()),w.set("endDate",Math.round(j.getTime()/1e3).toString());let R="function"===g?.get("view")?"/vercel-functions":"/edge-requests";return"tag"===n&&(R="/runtime-cache"),(0,t.jsxs)("div",{className:"flex w-full flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col overflow-hidden",children:[(0,t.jsx)(E.PageHeaderBacklink,{href:b(R)}),(0,t.jsxs)("div",{className:"flex h-[28px] flex-row items-center gap-2",children:[(0,t.jsx)("div",{className:"flex flex-row items-center gap-2",children:(0,t.jsx)(a.Text,{as:"h1",className:"max-w-full truncate",children:r?(0,t.jsx)("div",{className:"max-w-full truncate text-xl font-medium",children:r}):(0,t.jsx)(v.RouteHighlighter,{className:"max-w-full truncate text-xl font-medium",route:c,segmentClassName:"text-xl font-normal"})})}),f?.isLoading===!1&&f.data?(0,t.jsx)(l.Tooltip,{maxWidth:500,position:"bottom",text:(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)(D,{routeData:f})}),children:(0,t.jsx)(s.InformationFillSmall,{size:20})}):null]})]}),(0,t.jsx)(P.HeaderControls,{children:i?(0,t.jsx)(u.ButtonLink,{href:`/${m}/${p}/logs?${w.toString()}`,type:"secondary",children:"Logs"}):null})]})}function N(e){let{type:n}=e;switch(n){case"PPR":return(0,t.jsx)(m.AcronymPpr,{height:20});case"ISR":return(0,t.jsx)(p.AcronymIsr,{height:20});case"API":return(0,t.jsx)(c.AcronymApi,{height:20});case"Page":return(0,t.jsx)(f.AcronymPage,{height:20});default:return(0,t.jsx)("span",{children:n})}}function D(e){let{routeData:r}=e,i=r?.data?.size,s=[{label:"Bundle size",value:r?.isLoading||!i?null:(0,g.sizeFormatter)(i)}];return!r||r.isLoading?(0,t.jsx)(w,{attributes:[{label:"Type",value:(0,t.jsx)(o.Badge,{variant:"gray-subtle",children:"Static"})},...s],isLoading:!0}):r.data?"static"===r.data.resource?(0,t.jsx)(w,{attributes:[{label:"Type",value:(0,t.jsx)(o.Badge,{variant:"gray-subtle",children:"Static"})},...s],isLoading:r.isLoading}):"serverless"===r.data.resource?(0,t.jsx)(w,{attributes:[{label:"Type",value:(0,t.jsx)(N,{type:r.data.type})},{label:"Memory",value:r.data.memorySize?(0,t.jsxs)("div",{children:[r.data.memorySize," MB"]}):null,width:60},{label:"Timeout",value:r.data.timeout?(0,t.jsxs)("div",{children:[r.data.timeout,"s"]}):null},...s,{label:"Region",value:(0,t.jsx)("div",{className:"relative max-h-[20px] overflow-visible",children:(0,t.jsx)(O,{passiveRegions:r.data.passiveRegions,regions:r.data.regions})})},{label:"Runtime",width:110,value:(0,t.jsx)(M,{runtime:r.data.runtime})}],isLoading:!1}):(0,t.jsx)(w,{attributes:[{label:"Region",value:(0,t.jsx)(o.Badge,{variant:"gray-subtle",children:"Global"})},{label:"Runtime",value:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(n.FunctionEdge,{size:16}),(0,t.jsx)("span",{children:"Edge"})]})},...s],isLoading:!1}):(0,t.jsx)(w,{attributes:[{label:"Type",value:(0,t.jsx)(o.Badge,{variant:"gray-subtle",children:"Unknown"})}],isLoading:!1})}function O(e){var n;let{regions:r,passiveRegions:i}=e,s=r.length+(i?.length||0);return(0,t.jsx)(l.Tooltip,{text:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(S,{label:"Regions",regions:r}),i?.length?(0,t.jsx)(S,{label:"Passive Regions",regions:i}):null]}),children:(0,t.jsxs)(o.Badge,{size:"sm",variant:"gray-subtle",children:[(n=r)?Array.isArray(n)?n[0].toUpperCase():n.toUpperCase():"-",s>1?(0,t.jsxs)("span",{className:"text-xs",children:["+",s-1]}):null]})})}function S(e){let{label:n,regions:r}=e;return(0,t.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,t.jsx)("span",{className:"opacity-70",children:n}),(0,t.jsx)("div",{children:r.map(e=>e.toUpperCase()).join(", ")})]})}function M(e){let{runtime:n}=e,s=n?.replace("nodejs","Node.js ")?.replace("bun","Bun "),a=n?.startsWith("bun")?i.FunctionBun:r.FunctionNode;return(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(a,{size:16}),(0,t.jsx)("span",{children:s})]})}e.s(["DetailHeader",()=>R,"FunctionRegionsBadge",()=>O],8256925)}]);

//# sourceMappingURL=d4ea358853189915.js.map
//# debugId=351f604d-96b4-598f-a7e2-8e3a3a1abc9e
