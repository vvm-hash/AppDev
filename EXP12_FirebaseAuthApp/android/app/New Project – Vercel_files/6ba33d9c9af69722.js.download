
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d09610cb-1f36-5864-a7d2-5da260810e69")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5104251,e=>{e.v({disabled:"index-module__tn0qVq__disabled",domainEntity:"index-module__tn0qVq__domainEntity",expirationDateItem:"index-module__tn0qVq__expirationDateItem",gradientOverlay:"index-module__tn0qVq__gradientOverlay",headerGrid:"index-module__tn0qVq__headerGrid",hidden:"index-module__tn0qVq__hidden",interactive:"index-module__tn0qVq__interactive",leftGroup:"index-module__tn0qVq__leftGroup",link:"index-module__tn0qVq__link",list:"index-module__tn0qVq__list",listItem:"index-module__tn0qVq__listItem",placeholderTable:"index-module__tn0qVq__placeholderTable",rbacTooltip:"index-module__tn0qVq__rbacTooltip",search:"index-module__tn0qVq__search",secondaryInformation:"index-module__tn0qVq__secondaryInformation"})},6355438,e=>{"use strict";var a=e.i(6468255),n=e.i(1112630),s=e.i(7749365),t=e.i(762945),i=e.i(9508212),r=e.i(3186167);function l(e){let{domain:l,prefix:o=!0,style:d}=e;if(l.expiresAt){let e=new Date(l.expiresAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});return(0,r.isDomainExpired)(l)?(0,a.jsxs)(i.Stack,{align:"center",as:"span",direction:"row",gap:2,style:d,children:[(0,a.jsx)(t.Warning,{color:"amber-700",size:16}),(0,a.jsxs)("span",{children:[o?(0,a.jsx)(a.Fragment,{children:"Expired on"}):null," ",e]})]}):(0,a.jsx)(i.Stack,{align:"center",as:"span",direction:"row",gap:2,style:d,children:(0,r.isAutoRenewing)(l)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.RotateClockwise,{color:"blue-700",size:16}),(0,a.jsxs)("span",{children:[o?(0,a.jsx)(a.Fragment,{children:"Auto Renews on"}):null," ",e]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Clock,{color:"amber-700",size:16})," ",(0,a.jsxs)("span",{children:[o?(0,a.jsx)(a.Fragment,{children:"Expires on"}):null," ",e]})]})})}return null}e.s(["ExpirationDateV2",()=>l])},3140500,e=>{"use strict";var a=e.i(6468255),n=e.i(5255926),s=e.i(9508212),t=e.i(5468328),i=e.i(5169576),r=e.i(1574218),l=e.i(9649477),o=e.i(9977037),d=e.i(9668517),c=e.i(5836125);e.s(["Registrar",0,e=>{let{domain:m,canReadDomain:u=!0}=e,h=(0,d.useTeamSlug)(),x=(0,l.useAtomValue)((0,c.domainTransferInStatusAtom)(new c.DomainTransferInStatusParams({domainName:m?.name??null,scope:h??null}))),f=o.Result.isSuccess(x)&&null!==x.value,g=o.Result.isSuccess(x)||o.Result.isFailure(x),p=o.Result.isSuccess(x)?x.value:null;return m&&u&&g?f&&p?(0,a.jsxs)(s.Stack,{align:"center",direction:"row",gap:1,children:[(0,a.jsxs)("span",{children:["Transferring to ",r.PRODUCT]}),(0,a.jsx)(t.Tooltip,{text:`This domain is currently being transferred to Vercel. Transfers can take up to 7 days. Status: ${p.status}`,children:(0,a.jsx)(i.Information,{size:14,color:"gray-500"})})]}):m.boughtAt?(0,a.jsx)(a.Fragment,{children:r.PRODUCT}):"number"!=typeof m.orderedAt||m.boughtAt?(0,a.jsx)(a.Fragment,{children:"Third Party"}):(0,a.jsx)(a.Fragment,{children:"Purchase in Process"}):(0,a.jsx)(n.Skeleton,{height:20,width:75})}])},5080867,(e,a,n)=>{"use strict";var s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});let t=s(e.r(3011273));n.default=function(){let{config:e=t.default}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{canRenew:function(a){return!!e[a]},get:function(a){return e[a]??null},isAvailable:function(a){let n=e[a]??null;if(!n)return!1;let{available:s,availableBy:t}=n;return t?Date.now()>=t&&s:s},SUPPORTED_TLDS:e}}},8634027,e=>{"use strict";var a=e.i(3911483),n=e.i(277234),s=e.i(4244280);function t(e,t){return(0,a.default)(void 0===e?null:encodeURI(`${s.API_DOMAINS}/${e}/renewal-status?${new URLSearchParams({domainName:e}).toString()}`),e=>(0,n.fetchAPI)(e),t)}e.s(["useDomainRenewalStatus",()=>t])},969447,e=>{"use strict";e.s(["autoRenewOnlyTlds",0,[".ae",".af",".africa",".ar",".as",".at",".cd",".ch",".cl",".cn",".cx",".de",".dk",".fi",".gd",".gl",".gs",".gy",".hm",".hr",".ht",".hu",".im",".is",".it",".jp",".kg",".ki",".kr",".lc",".li",".lt",".lu",".lv",".ly",".ma",".ms",".no",".ph",".pr",".pw",".qa",".ru",".sb",".sr",".sx",".tc",".tk",".tl",".tm",".ua",".uy",".ve",".vg",".wien",".za"]])},5963757,e=>{e.v({content:"delete-domains-warn-modal-module__WT-nVW__content",inset:"delete-domains-warn-modal-module__WT-nVW__inset",loadingItem:"delete-domains-warn-modal-module__WT-nVW__loadingItem",outset:"delete-domains-warn-modal-module__WT-nVW__outset",subitem:"delete-domains-warn-modal-module__WT-nVW__subitem"})},9015106,3452989,3373200,e=>{"use strict";var a=e.i(6468255),n=e.i(6696646),s=e.i(3869281),t=e.i(6891161),i=e.i(8522580),r=e.i(5255926),l=e.i(455575),o=e.i(5468328),d=e.i(57106),c=e.i(5338940),m=e.i(5080867),u=e.i(9177216),h=e.i(8634027),x=e.i(1824344),f=e.i(3186167);e.i(9623499);var g=e.i(5576066),p=e.i(6482217),j=e.i(7681880),y=e.i(1717203),v=e.i(7557283),w=e.i(1683172),b=e.i(5836125),_=e.i(9649477),N=e.i(9977037),S=e.i(3299978),D=e.i(7862555),D=D,M=e.i(9668517);function A(e){let{can:a}=(0,y.default)(),s=(0,M.useTeamSlug)(),t=a(v.Action.Write,v.Resource.Domain),i=(0,b.domainRegistrantInfoAtom)(new b.DomainRegistrantInfoParams({domainName:e,scope:s??null})),r=(0,_.useAtomValue)(i),o=(0,_.useAtomRefresh)(i),d=N.Result.builder(r).onSuccess(e=>e.registrantInfo?.base).orElse(()=>void 0),c=N.Result.builder(r).onSuccess(e=>e.registrantInfo?.base===void 0).onError(()=>!0).onInitialOrWaiting(()=>!1),m=(0,_.useAtomSet)(S.updateRegistrantInfoAtom,{mode:"promise"}),u=(0,_.useAtomValue)(S.updateRegistrantInfoAtom);return{state:r,mutation:{trigger:(0,n.useCallback)(async(a,n)=>{s?(await m({domainName:e,registrantInfo:a,updateAllEmpty:n,scope:s}),o()):l.toasts.error("No scope found.")},[m,e,o,s,l.toasts]),isMutating:u.waiting},canEditRegistrantInfo:t,defaultValues:d,hasNoRegistrantInfo:c}}function T(e){let a=(0,j.useInformationForm)(),n=(0,w.useStore)(a.store,e=>e.values);return["firstName","lastName","email","phone","companyName","address1","address2","city","state","zip","country"].some(a=>(e[a]?.trim()||"")!==(n[a]?.trim()||""))}function I(e){let a=(0,j.useInformationForm)();return(0,n.useLayoutEffect)(()=>{e&&(a.setFieldValue("firstName",e.firstName??""),a.setFieldValue("lastName",e.lastName??""),a.setFieldValue("email",e.email??""),a.setFieldValue("phone",e.phone??""),a.setFieldValue("companyName",e.companyName??""),a.setFieldValue("address1",e.address1??""),a.setFieldValue("address2",e.address2??""),a.setFieldValue("city",e.city??""),a.setFieldValue("state",e.state??""),a.setFieldValue("zip",e.zip??""),a.setFieldValue("country",e.country??"US"))},[e,a]),null}function C(e){let a=(0,M.useTeamSlug)(),n=(0,_.useAtomValue)((0,b.domainsHaveRegistrantInfoAtom)(new b.DomainsHaveRegistrantInfoParams({domainNames:D.fromIterable(e),scope:a??null}))),s=N.Result.builder(n).onSuccess(e=>e.some(e=>e)).orElse(()=>!1);return{isLoading:N.Result.builder(n).onInitialOrWaiting(()=>!0).orElse(()=>!1),hasRegistrantInfo:s}}e.s(["useDomainRegistrantInformation",()=>A,"useDomainsHaveRegistrantInfo",()=>C,"useHasAnyValueChanged",()=>T,"useSetDefaultValues",()=>I],3452989);var k=e.i(4276301),R=e.i(9726367),P=e.i(3501042),V=e.i(4520167),E=e.i(3683485),F=e.i(2262341),q=e.i(623986);let{canRenew:$}=(0,m.default)();function O(e){let a=Number.isInteger(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2*!a,maximumFractionDigits:2}).format(e)}function L(e){let n="please contact support for assistance.",s=e.message.toLowerCase().indexOf(n);if(-1===s)return(0,a.jsx)("span",{children:e.message});let t=e.message.slice(0,s),i=e.message.slice(s,s+n.length),r=e.message.slice(s+n.length);return(0,a.jsxs)("span",{children:[t," ",(0,a.jsx)(g.Link,{className:"text-geist-link underline",href:"https://vercel.com/help",children:i})," ",r]})}function U(e){let{...n}=e;return(0,a.jsx)(R.InformationFormProvider,{children:(0,a.jsx)(H,{...n})})}function H(e){let{onDismiss:o,domain:m,onConfirm:g}=e,y=(0,l.useToasts)(),v=m&&(0,u.parse)(m.name),b=v&&"tld"in v&&v.tld&&$(v.tld),[D,A]=(0,n.useState)(!0),{data:T,isLoading:I}=(0,h.useDomainRenewalStatus)(m?.name,{keepPreviousData:!1}),C=(0,x.useDomainRenewalPrice)({domainName:m?.name??null}),k="Initial"===C._tag,R="Failure"===C._tag,P="Success"===C._tag?C.value:null,q=!m?.teamId,U=(0,p.useStripeSources)({enabled:!!m,forceUserSources:q}),H=U.data?.defaultSource,G=U.data?.sources.find(e=>e.id===H),Y=(0,f.checkCanRedeemDomain)({domain:m,canRenewDomainPermission:!0,renewalStatus:T?.status}),K=(0,x.useDomainRedemptionPrice)({domainName:Y?m?.name:null}),J="Initial"===K._tag,Q="Failure"===K._tag,X="Success"===K._tag?K.value:null,Z=(0,j.useInformationForm)(),ee=(0,w.useStore)(Z.store,e=>e.values),{isMutating:ea,trigger:en,data:es}=function(e){let{domainName:a,enableAutoRenew:s,expectedPrice:t,registrantInformation:i}=e,r=(0,_.useAtomSet)(S.renewDomainAtom,{mode:"promise"}),o=(0,_.useAtomValue)(S.renewDomainAtom),d=(0,M.useTeamSlug)(),c=(0,n.useMemo)(()=>{if(i)try{return V.Schema.decodeSync(F.RegistrantInfoFormSchema)(i)}catch(e){console.error("Failed to parse registrant information:",e);return}},[i]),m=(0,n.useCallback)(async()=>{if(!a||void 0===t)throw Error("Domain name and expected price are required");d?await r({domainName:a,autoRenew:s,years:1,expectedPrice:t,registrantInformation:c?{base:c,byTld:{}}:void 0,scope:d}):l.toasts.error("No scope found.")},[a,t,s,c,r,d,l.toasts]);return{isMutating:o.waiting,trigger:m,data:N.Result.builder(o).onSuccess(E.identity).orElse(()=>void 0),error:N.Result.builder(o).onFailure(E.identity).orElse(()=>void 0)}}({domainName:m?.name,enableAutoRenew:D,expectedPrice:P?.price,registrantInformation:ee}),et=(0,c.useTeam)(),ei=Y?"Redeem and Renew Domain":"Renew Domain",er=Y&&J||k,el=(X?.price||0)+(P?.price||0);if(!b)return(0,a.jsx)(t.Modal.Modal,{active:!0,onClickOutside:o,width:450,children:(0,a.jsxs)(t.Modal.Body,{className:"p-0",children:[(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)(t.Modal.Header,{children:(0,a.jsx)(t.Modal.Title,{children:"Domain not supported for manual renewal"})}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"text-muted-foreground text-sm leading-6",children:(0,a.jsx)(L,{message:`${m?.name} is not supported for manual renewal due to TLD restrictions. Please contact support for assistance.`})})})]}),(0,a.jsx)(t.Modal.Actions,{className:"flex justify-end p-8",children:(0,a.jsx)(t.Modal.Action,{onClick:o,type:"default",children:"Close"})})]})});if(R||Q){let e=null;return"object"==typeof R&&"message"in R&&(e=R.message),"object"==typeof Q&&"message"in Q&&(e=Q.message),(0,a.jsx)(t.Modal.Modal,{active:!0,onClickOutside:o,width:450,children:(0,a.jsxs)(t.Modal.Body,{className:"p-0",children:[(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)(t.Modal.Header,{children:(0,a.jsx)(t.Modal.Title,{children:"Error loading domain price"})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(L,{message:`We encountered an error loading the domain price for renewal of ${m.name}. If the problem persists please contact support for assistance.`}),(0,a.jsxs)("div",{className:"text-red-800",children:["Error: ",e]})]})]}),(0,a.jsx)(t.Modal.Actions,{className:"flex justify-end p-8",children:(0,a.jsx)(t.Modal.Action,{onClick:o,type:"default",children:"Close"})})]})})}if(!m.name)return null;let eo=es?.orderId!==void 0,ed=(()=>{if(ea)return"Processing…";if(er||U.isLoading)return"Loading…";if(!U.data?.sources.length)return"Add Payment Method";let e=new Date;return U.data.sources.some(a=>!!a.card?.exp_year&&!!a.card?.exp_month&&new Date(a.card.exp_year,a.card.exp_month-1)>e)?"Confirm and Pay":"Update Payment Method"})();return eo?(0,a.jsx)(z,{onDismiss:o,title:ei,domain:m.name,isRedemptionPeriod:Y,total:el,orderId:es?.orderId}):(0,a.jsx)(t.Modal.Modal,{active:!0,onClickOutside:o,width:800,children:(0,a.jsxs)(t.Modal.Body,{className:"p-0",children:[(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)(t.Modal.Header,{children:I?(0,a.jsx)(r.Skeleton,{height:28,width:300}):(0,a.jsx)(t.Modal.Title,{children:ei})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"text-muted-foreground text-sm leading-6",children:["Enter your information to renew",m.name," for",er?(0,a.jsx)(r.Skeleton,{className:"mr-1 inline-flex align-middle",height:20,width:40}):(0,a.jsx)("span",{className:"font-semibold",children:` ${O(el)}/yr`}),". Your payment method will be charged immediately."]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(s.Checkbox,{checked:D,disabled:ea,onChange:()=>A(!D),children:(0,a.jsx)("span",{className:"select-none text-sm font-semibold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Auto-renew before expiration"})})}),(0,a.jsx)(W,{domain:m?.name??""}),"Add Payment Method"===ed&&(0,a.jsx)("div",{style:{backgroundColor:"var(--ds-red-200)",borderRadius:"6px"},children:(0,a.jsx)(i.Note,{style:{backgroundColor:"var(--ds-red-200)"},type:"error",children:(0,a.jsx)("div",{children:"You don't have a payment method on file. Please add a payment method to renew this domain."})})}),"Update Payment Method"===ed&&G?.card?(0,a.jsx)("div",{className:"flex items-start gap-2 self-stretch rounded-md  bg-red-200",children:(0,a.jsx)(i.Note,{type:"error",children:(0,a.jsxs)("div",{children:["Your card ending in ",G.card.last4," has expired. Please update your payment method to renew this domain."]})})}):null]})]}),(0,a.jsxs)(t.Modal.Actions,{className:"flex flex-col px-6 pt-2",children:[(0,a.jsx)("div",{className:"flex flex-col pb-6 text-sm",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"var(--ds-gray-900)"},children:[Y?(0,a.jsxs)("div",{className:"flex items-center justify-between border-0 border-b border-solid border-gray-500 py-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"",children:"Domain redemption"})}),(0,a.jsx)("span",{className:"text-sm",children:O(X?.price??0)})]}):null,(0,a.jsxs)("div",{className:"flex items-center justify-between border-0 border-b border-solid border-gray-500 py-4",children:[(0,a.jsx)("span",{children:"Domain renewal"}),(0,a.jsxs)("span",{children:[O(P?.price??0),"/yr"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,a.jsx)("span",{className:"font-medium",children:"Total"}),(0,a.jsx)("span",{className:"font-medium",children:er?(0,a.jsx)(r.Skeleton,{className:"inline-flex align-middle",height:20,width:40}):`${O(el)}`})]})]})}),(0,a.jsxs)("div",{className:"-mx-6 flex justify-between border-0 border-t border-solid border-gray-500 px-6 pt-4 ",children:[(0,a.jsx)(t.Modal.Action,{disabled:ea,onClick:o,type:"secondary",children:"Cancel"}),"Add Payment Method"===ed||"Update Payment Method"===ed?(0,a.jsx)(d.ButtonLink,{href:q?"/account/settings/billing-information":`/${et.teamSlug}/~/settings/billing`,children:ed}):(0,a.jsx)(B,{disabled:"Confirm and Pay"!==ed,loading:"Processing…"===ed||"Loading…"===ed,onClick:async()=>{try{await en(),g?.()}catch(e){console.error(e),y.error("Failed to renew domain")}},children:ed})]})]})]})})}function B(e){let{disabled:n,loading:s,onClick:i,children:r}=e,l=(0,j.useInformationForm)(),d=(0,q.useHasTeamDefaultPaymentMethod)();return(0,a.jsx)(l.Subscribe,{selector:e=>({canSubmit:e.canSubmit}),children:e=>{let l=!e.canSubmit;return(0,a.jsx)(o.Tooltip,{text:d?void 0:"Your team does not have a payment method on file. Please add a payment method to renew this domain.",disableTriggers:d,children:(0,a.jsx)(t.Modal.Action,{disabled:n||l||!d,loading:s,onClick:i,type:"default",children:r})})}})}function W(e){let{domain:n}=e,{defaultValues:s}=A(n);I(s);let t=(0,j.useInformationForm)();return(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),t.handleSubmit()},children:(0,a.jsx)(k.InformationFields,{form:t})})}function z(e){let{onDismiss:n,title:s,domain:i,isRedemptionPeriod:r,total:l,orderId:o}=e,d=(0,P.usePollPostRenewState)(o);return(0,a.jsx)(t.Modal.Modal,{active:!0,onClickOutside:n,width:450,children:(0,a.jsxs)(t.Modal.Body,{className:"p-0",children:[(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)(t.Modal.Header,{children:(0,a.jsx)(t.Modal.Title,{children:s})}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"text-muted-foreground text-[15px] leading-6",children:["Your request to renew"," ",(0,a.jsx)("span",{className:"font-semibold",children:i})," was successfully",r?" redeemed and renewed":" renewed"," for",(0,a.jsxs)("span",{className:"font-semibold",children:[" ",O(l)]}),".",N.Result.builder(d).onSuccess(e=>{let{status:n}=e;return(0,a.jsxs)("div",{children:["Order Status: ",n]})}).onInitial(()=>(0,a.jsx)("div",{children:"Loading…"})).onFailure(()=>(0,a.jsx)("div",{children:"Something went wrong"})).orNull()]})})]}),(0,a.jsx)(t.Modal.Actions,{className:"flex justify-end p-8",children:(0,a.jsx)(t.Modal.Action,{onClick:n,type:"default",children:"Close"})})]})})}e.s(["DomainSelfServeRenewModal",()=>U],9015106);var G=e.i(277234),Y=e.i(4244280),K=e.i(9358876),J=e.i(8248823),Q=e.i(5714623),X=e.i(2455417),Z=e.i(6870754),ee=e.i(9318197),ea=e.i(8735244),en=e.i(7712782),es=e.i(950120),et=e.i(5229375),ei=e.i(65020),er=e.i(5963757);function el(e){let{active:n,status:s,domains:i,deletedDomains:r,onCancel:l,onConfirm:o,team:d}=e,[c,{aliases:m,loadMore:u,isLoadingMore:h,isReachingEnd:x,initialDataLoaded:f}]=(0,et.useAliasesInfinite)({domains:i.map(e=>e.name),limit:20}),g=i.some(e=>0===e.nameservers.length);return(0,a.jsxs)(t.Modal.Modal,{active:n,onClickOutside:l,children:[(0,a.jsxs)(t.Modal.Body,{children:[(0,a.jsxs)("header",{className:"jsx-aedf4df6a7382869",children:[(0,a.jsx)(ei.H2,{children:1===i.length?"Delete Domain":"Delete Domains"}),(0,a.jsxs)("p",{className:"jsx-aedf4df6a7382869",children:["The following ",1===i.length?"domain":"domains"," will be permanently deleted along with related ",(0,a.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"aliases"}),"."]}),(0,a.jsxs)("p",{className:"jsx-aedf4df6a7382869",children:["If you would like to use a domain on another project, consider"," ",(0,a.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"moving"})," it instead."]}),g?(0,a.jsxs)("p",{className:"jsx-aedf4df6a7382869",children:[1===i.length?"This domain uses":"These domains use"," ",(0,a.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"third-party nameservers"}),". If you have manually directed these to Vercel, please ensure you update your DNS configuration accordingly to"," ",(0,a.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"prevent service disruptions"}),"."]}):null]}),(0,a.jsx)(ee.Spacer,{y:.5}),(0,a.jsxs)(t.Modal.Outset,{children:[(0,a.jsx)(eo,{count:i.length,open:!0,title:(0,a.jsxs)("span",{className:"jsx-aedf4df6a7382869",children:[i.length," ",1===i.length?"Domain":"Domains"," ","will be deleted."]}),children:(0,a.jsx)("div",{className:"jsx-aedf4df6a7382869",children:i.map(e=>(0,a.jsxs)(ed,{children:[(0,a.jsx)("span",{style:{flexGrow:"1"},title:e.name,className:"jsx-aedf4df6a7382869",children:e.name}),(0,a.jsx)("span",{className:"jsx-aedf4df6a7382869 added",children:r&&r[e.id]>0?`deleted ${(0,en.ago)(Date.now()-r[e.id],{justNowLabel:"now"})}`:`added ${(0,en.ago)(Date.now()-e.createdAt,{justNowLabel:"now"})}`})]},e.name))})}),(0,a.jsx)(eo,{count:m.length,loading:!f,title:0===m.length?"No aliases will be deleted":(0,a.jsxs)("span",{className:"jsx-aedf4df6a7382869",children:[m.length,x?" ":"+ ",1===m.length?"Related alias":"Related aliases"," ","will be deleted."]}),children:(0,a.jsxs)("div",{className:"jsx-aedf4df6a7382869",children:[m.map(e=>(0,a.jsxs)(ed,{children:[(0,a.jsx)("span",{title:e.alias,className:"jsx-aedf4df6a7382869",children:e.alias}),(0,a.jsxs)("span",{className:"jsx-aedf4df6a7382869 added",children:["updated"," ",(0,en.ago)(Date.now()-e.updatedAt,{justNowLabel:"now"})]})]},e.alias)),!x&&(0,a.jsxs)("div",{className:"jsx-aedf4df6a7382869 "+(er.default.inset||""),children:[(0,a.jsx)(Z.LoadMoreButton,{loading:h,onClick:u}),(0,a.jsx)(ee.Spacer,{})]})]})}),(0,a.jsx)(ee.Spacer,{y:-1})]})]}),(0,a.jsxs)(t.Modal.Actions,{children:[(0,a.jsx)(t.Modal.Action,{onClick:l,type:"secondary",children:"Cancel"}),(0,a.jsx)(t.Modal.Action,{disabled:"loading"===s,onClick:()=>{o(i,d)},children:"loading"===s?(0,a.jsx)(X.LoadingDots,{children:"Deleting"}):`Delete (${i.length+m.length}${x?"":"+"})`})]}),(0,a.jsx)(Q.default,{id:"aedf4df6a7382869",children:"header.jsx-aedf4df6a7382869{max-width:440px;margin:0 auto}header.jsx-aedf4df6a7382869>h2{text-align:center;margin:0}header.jsx-aedf4df6a7382869>p{color:var(--accents-5);margin:10px auto 0}.added.jsx-aedf4df6a7382869{color:#999;flex:none}"})]})}function eo(e){let{title:n,children:s,loading:t,count:i,open:r}=e;return t?(0,a.jsx)("div",{className:er.default.loadingItem,children:(0,a.jsx)(ea.Spinner,{size:14})}):0===i?(0,a.jsx)(es.Details,{title:n}):(0,a.jsx)(es.Details,{open:r,title:n,children:(0,a.jsx)("div",{className:er.default.content,children:s})})}function ed(e){let{children:n}=e;return(0,a.jsx)(es.Item,{className:er.default.subitem,children:n})}async function ec(e){let{domain:a,teamId:n}=e,s=`${Y.API_DOMAINS}/${encodeURIComponent(a)}${n?`?teamId=${n}`:""}`;try{await (0,G.fetchAPI)(s,{throwOnHTTPError:!0,method:"DELETE"})}catch(n){let e=(0,J.normalizeError)(n);if(!("code"in e))throw e;if("domain_removal_conflict"===e.code){let{suffix:n,transferring:s,pendingAsyncPurchase:t}=e;if(n)throw Error(e.message,{cause:e});if(s)throw Error(`Cannot delete ${a}. Transfer in progress.`,{cause:e});if(t)throw Error(`Cannot delete ${a}. Processing purchase.`,{cause:e});throw e}}}function em(e){let{active:s,domains:t,onCancel:i,onSuccess:r}=e,[o,d]=(0,n.useState)("notasked"),{team:m}=(0,c.useTeam)(),u=(0,l.useToasts)();async function h(){d("loading");try{let e=await Promise.all(t.map(async e=>{try{return await ec({domain:e.name,teamId:e.isPersonalDomain?void 0:m?.id}),{domain:e}}catch(a){return{domain:e,error:a}}})),a=e.filter(e=>{let{error:a}=e;return!a}).map(e=>{let{domain:a}=e;return a}),n=e.map(e=>{let{error:a}=e;return a?.message}).filter(Boolean);if(n.length>0){d("failure"),n.forEach(e=>u.error(e));return}d("success"),u.success(`Removed ${(0,K.pluralize)("Domain",t.length)} successfully.`),r(a)}catch(e){d("failure"),u.error(e.message)}}return(0,a.jsx)(el,{active:s,deletedDomains:null,domains:t,onCancel:i,onConfirm:()=>void h(),status:o,team:m})}e.s(["DeleteDomainsModal",()=>em],3373200)},4866605,e=>{"use strict";var a=e.i(6468255),n=e.i(6696646),s=e.i(4585051),t=e.i(6891161),i=e.i(2455417),r=e.i(4030453),l=e.i(1344973),o=e.i(6881349),d=e.i(9508212),c=e.i(8522580),m=e.i(2331152),u=e.i(1000921),h=e.i(5338940),x=e.i(5140444),f=e.i(455575),g=e.i(57106),p=e.i(3452989);function j(e){let{active:j,domains:y,errors:v,onCancel:w,onConfirm:b,status:_}=e,[N,S]=(0,n.useState)(""),[D,M]=(0,n.useState)(),{team:A,teams:T}=(0,h.useTeam)(),{user:I}=(0,x.useUser)(),C=(0,f.useToasts)(),k=y.map(e=>e.name),{hasRegistrantInfo:R}=(0,p.useDomainsHaveRegistrantInfo)(k),P=async()=>{let e,a=(e=(T||[]).find(e=>e.name===N))?e.id||e.slug:N,n=await b(y,a,A);if(n){let{movedDomains:e,requestedDomains:a}=n;e.length>0&&C.success(`${1===e.length?`"${e[0].name}"`:`${e.length} domains`} moved!`),a.length>0&&C.success(`Request sent to move ${1===a.length?`"${a[0].name}"`:`${a.length} domains`}`)}};(0,n.useEffect)(()=>{j&&S(""),"failure"===_&&v&&v.forEach(e=>C.error(e))},[j,D,v,_,C]);let V=1===y.length,E=N?I?.username===N?I:T?.find(e=>e.name===N||e.slug===N)||null:null;return(0,a.jsx)("div",{children:(0,a.jsxs)(t.Modal.Modal,{active:j,onClickOutside:()=>{w(),M(null)},width:450,children:[(0,a.jsxs)(t.Modal.Body,{children:[(0,a.jsxs)(t.Modal.Header,{children:[(0,a.jsx)(t.Modal.Title,{children:`Move Domain${V?"":"s"}`}),(0,a.jsx)(t.Modal.Subtitle,{children:(0,a.jsx)(l.Text,{children:"All existing project domains associated with this domain will remain and not be moved to prevent service disruption."})})]}),(0,a.jsxs)(o.Combobox,{errored:"failure"===_,onChange:e=>{e?S(e):S("")},placeholder:"Enter destination user or team slug…",prefixIcon:E?(0,a.jsx)(s.Avatar,{hash:E.avatar,size:24,teamId:"id"in E?E.id:E.uid}):(0,a.jsx)(m.MagnifyingGlass,{}),children:[(0,a.jsx)(o.Combobox.Input,{onChange:e=>S(e.target.value)}),(0,a.jsx)(o.Combobox.List,{children:T?.map(e=>(0,a.jsx)(o.Combobox.Option,{value:e.name,children:(0,a.jsxs)(d.Stack,{direction:"row",gap:2,style:{display:"inline-flex",alignItems:"center",verticalAlign:"middle"},children:[(0,a.jsx)(s.Avatar,{hash:e.avatar,size:24,teamId:e.id}),(0,a.jsx)(l.Text,{size:14,children:e.name})]})},e.id))})]}),(0,a.jsx)(d.Stack,{style:{marginTop:"1rem",marginBottom:"1rem"},children:D?(0,a.jsx)(r.Error,{children:D}):null}),(0,a.jsx)(d.Stack,{style:{marginTop:"1rem",marginBottom:"1rem"},children:(0,a.jsxs)(l.Text,{children:["The following domain",V?"":"s"," will be ",(0,a.jsx)("b",{children:"moved"})," ","and any"," ",(0,a.jsx)(g.Link,{external:!0,href:"/docs/cli/alias",type:"highlight",children:"custom aliases"})," ","that are not part of project domains will be"," ",(0,a.jsx)("b",{children:"removed immediately"}),"."]})}),y.map(e=>(0,a.jsxs)(d.Stack,{align:"center",direction:"row",gap:2,style:{paddingLeft:"16px"},children:[(0,a.jsx)(u.ArrowCircleRight,{}),(0,a.jsx)(l.Text,{children:e.name})]},e.id)),R&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"py-2"}),(0,a.jsx)(c.Note,{fill:!0,type:"warning",children:"Moving a domain will also move all of its registrant information. This information may be personal, change it in the domains configuration page if needed."})]})]}),(0,a.jsxs)(t.Modal.Actions,{children:[(0,a.jsx)(t.Modal.Action,{onClick:()=>{w(),M(null)},type:"secondary",children:"Cancel"}),(0,a.jsxs)(t.Modal.Action,{disabled:"loading"===_,onClick:()=>{N?(M(null),P()):M("Select a destination Vercel Scope.")},children:["loading"===_&&(0,a.jsx)(i.LoadingDots,{}),"loading"!==_&&"Continue"]})]})]})})}var y=e.i(4244280),v=e.i(277234);async function w(e){let{name:a,destination:n,teamId:s}=e,t=`${y.API_DOMAINS_V7}/${encodeURIComponent(a)}${s?`?teamId=${s}`:""}`;try{return await (0,v.fetchAPI)(t,{throwOnHTTPError:!0,method:"PATCH",body:JSON.stringify({op:"move-out",destination:n})})}catch(e){if("domain_move_conflict"===e.code){let{suffix:n,pendingAsyncPurchase:s}=e;if(n)throw Error(e.message);if(s)throw Error(`Cannot move ${a}. Processing purchase.`)}throw e}}function b(e){let{active:s,domains:t,onCancel:i,onSuccess:r}=e,[l,o]=(0,n.useState)({status:"notasked"});async function d(e){o({status:"loading"});try{let a=await Promise.all(t.map(async a=>{try{let n=await w({name:a.name,destination:e,teamId:a.teamId??void 0});return{domain:a,moved:n.moved}}catch(e){return{domain:a,moved:!1,error:e}}})),n=a.filter(e=>{let{error:a}=e;return!a}),s=n.filter(e=>{let{moved:a}=e;return a}).map(e=>{let{domain:a}=e;return a}),i=a.map(e=>{let{error:a}=e;return a?.message}).filter(Boolean),l=n.length>0?"success":"failure";if("failure"===l)return void o({status:"failure",errors:i});let d=n.filter(e=>!e.moved).map(e=>e.domain);return o({status:"success"}),r({movedDomains:s,requestedDomains:d}),{movedDomains:s,requestedDomains:d}}catch(e){o({status:"failure",errors:[e.message]})}}return(0,a.jsx)(j,{active:s,domains:t,errors:"failure"===l.status?l.errors:void 0,onCancel:i,onConfirm:(e,a)=>d(a),status:l.status})}e.s(["DomainsMoveOutModal",()=>b],4866605)},1635726,e=>{"use strict";var a=e.i(6468255),n=e.i(5338940),s=e.i(6696646),t=e.i(6891161),i=e.i(8042625),r=e.i(4030453),l=e.i(8735244),o=e.i(8362472),d=e.i(9508212),c=e.i(1344973),m=e.i(5839607);function u(e){let{active:n,onDismiss:u,domain:h,handleDomainTransferOut:x,team:f}=e,[g,p]=(0,s.useState)(""),[j,y]=(0,s.useState)("");return(0,s.useEffect)(()=>{async function e(){try{if(h){let e=await x();p(e)}}catch(e){e instanceof m.ApiError&&y(e.message)}}n&&h&&e()},[n,h,x,f]),(0,a.jsxs)(t.Modal.Modal,{active:n,onAnimationDone:()=>{p(""),y("")},onClickOutside:u,width:450,children:[(0,a.jsxs)(t.Modal.Body,{children:[(0,a.jsxs)(t.Modal.Header,{children:[(0,a.jsx)(t.Modal.Title,{children:"Transfer Out Domain"}),(0,a.jsx)(t.Modal.Subtitle,{children:g?(0,a.jsxs)(c.Text,{children:["Use this auth code to move ",(0,a.jsx)("strong",{children:h?.name})," to another registrar:"]}):(0,a.jsxs)(c.Text,{children:["Please wait while we fetch the auth code for"," ",(0,a.jsx)("strong",{children:h?.name})," ..."]})})]}),j?(0,a.jsx)(d.Stack,{align:"center",justify:"center",style:{height:"40px"},children:(0,a.jsx)(r.Error,{error:{message:j,action:"Contact Us",link:`/help${(0,i.encode)({teamSlug:f?f.slug:null})}`}})}):null,g?(0,a.jsx)(d.Stack,{align:"center",justify:"center",children:(0,a.jsx)(o.Snippet,{prompt:!1,text:g,width:"300px"})}):!j&&(0,a.jsx)(d.Stack,{align:"center",justify:"center",style:{height:"40px"},children:(0,a.jsx)(l.Spinner,{})})]}),(0,a.jsx)(t.Modal.Actions,{children:(0,a.jsx)(t.Modal.Action,{onClick:u,type:"secondary",children:"Dismiss"})})]})}var h=e.i(9649477),x=e.i(5836125),f=e.i(9668517);function g(e){let{active:t,domain:i,onCancel:r}=e,{team:l}=(0,n.useTeam)(),o=(0,f.useTeamSlug)(),d=(0,h.useAtomValue)((0,x.domainAuthCodeAtom)(new x.DomainAuthCodeParams({domainName:i?.name??null,scope:o??null}))),c=(0,s.useCallback)(async()=>{if("Success"===d._tag)return d.value;throw Error("Auth code not available")},[d]);return(0,a.jsx)(u,{active:t,domain:i,handleDomainTransferOut:c,onDismiss:r,team:l})}e.s(["DomainTransferOutModal",()=>g],1635726)}]);

//# sourceMappingURL=ed1fc5af15477b0d.js.map
//# debugId=d09610cb-1f36-5864-a7d2-5da260810e69
