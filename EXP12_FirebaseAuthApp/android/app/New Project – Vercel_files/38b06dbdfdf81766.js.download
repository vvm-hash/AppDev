
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6444133f-8c57-5359-9c40-cf7430c8992c")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4035574,e=>{"use strict";let t=(0,e.i(3639076).vercelApiFetcher)({path:"/v2/user",params:()=>({flags:!0})});e.s(["getUser",0,t])},8447830,e=>{"use strict";var t=e.i(6468255),i=e.i(6696646),a=e.i(8248823),s=e.i(5323212),r=e.i(5255926),n=e.i(9318197),l=e.i(9508212),o=e.i(1344973),d=e.i(1906681),c=e.i(455575),u=e.i(57106),h=e.i(277234),m=e.i(4244280),g=e.i(5338940),p=e.i(185801),f=e.i(5877749);let b=(0,i.memo)(function(e){let{error:b,isLoading:x,allowOverride:v,setAllowOverride:T,saving:j,handleSave:A,hasChangedValue:S,team:y,nextPreviewSetting:E,setNextPreviewSetting:I,nextProductionSetting:N,setNextProductionSetting:w}=function(){let{team:e,isLoading:t,mutate:s}=(0,g.useTeam)(),r=(0,c.useToasts)(),[n,l]=(0,i.useState)(!1),[o,d]=(0,i.useState)(null),u=e?.enablePreviewFeedback||"default",p=u.includes("-force")||!1,f=u.replace("-force",""),b=e?.enableProductionFeedback?.replace("-force","")||"default",[x,v]=(0,i.useState)(f),[T,j]=(0,i.useState)(b),[A,S]=(0,i.useState)(!0),y=!t&&(x!==f||T!==b);(0,i.useEffect)(()=>{S(!p)},[p]);let[E,I]=(0,i.useState)(!1);(0,i.useEffect)(()=>{t||E||(I(!0),v(f),j(b))},[t,E]);let N=async t=>{l(!0),d(null);let i="string"==typeof t?t:x,n="string"==typeof t?t:T;if(!A&&(i.endsWith("-force")||(i=`${i}-force`),n.endsWith("-force")||(n=`${n}-force`)),e)try{await (0,h.fetchAPI)(`${m.API_TEAMS}/${e.id}`,{method:"PATCH",body:{enablePreviewFeedback:i,enableProductionFeedback:n}}),s(),r.success("Updated the Vercel Toolbar setting successfully."),l(!1)}catch(e){d((0,a.normalizeError)(e))}};return{state:f,team:e,error:o,saving:n,isLoading:t,handleSave:N,hasChangedValue:y,nextPreviewSetting:x,setNextPreviewSetting:v,nextProductionSetting:T,setNextProductionSetting:j,allowOverride:A,setAllowOverride:S}}();return(0,t.jsx)("div",{id:"comments",children:(0,t.jsx)("div",{id:"toolbar",children:(0,t.jsxs)(p.ProjectSettingsFieldset,{description:"Enable the Vercel Toolbar on your Deployments.",disabled:e.disabled||!!y?.limited||x,error:b,highlightNote:e.disabled,note:e.disabled?(0,t.jsxs)(t.Fragment,{children:[" ","You need additional permissions to manage the Vercel Toolbar."]}):(0,t.jsxs)("span",{children:["Learn more about the"," ",(0,t.jsx)(u.Link,{external:!0,href:"/docs/workflow-collaboration/vercel-toolbar",variant:"highlight",children:"Vercel Toolbar"})]}),onSave:()=>A(),saveDisabled:x,saveLoading:j,title:"Vercel Toolbar",children:[(0,t.jsx)(l.Stack,{direction:{md:"row"},gap:4,children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Skeleton,{height:62,style:{flex:"1 0 0"}}),(0,t.jsx)(r.Skeleton,{height:62,style:{flex:"1 0 0"}})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{flex:"1 0 0"},children:(0,t.jsxs)(s.Select,{label:"Pre-Production Deployments",onChange:e=>{I(e.target.value||"default")},value:E,children:[(0,t.jsx)("option",{value:"default",children:"Default (on)"}),(0,t.jsx)("option",{value:"on",children:"On"}),(0,t.jsx)("option",{value:"off",children:"Off"})]})}),(0,t.jsx)("div",{style:{flex:"1 0 0"},children:(0,t.jsxs)(s.Select,{label:"Production Deployments",onChange:e=>{w(e.target.value||"default")},value:N,children:[(0,t.jsx)("option",{value:"default",children:"Default (on)"}),(0,t.jsx)("option",{value:"on",children:"On"}),(0,t.jsx)("option",{value:"off",children:"Off"})]})})]})}),S||"off"!==N?(0,t.jsx)(n.Spacer,{}):null,(0,t.jsx)(f.ProductionToolbarDisclaimer,{enabledInProduction:"off"!==N,hasChanged:S}),(0,t.jsx)(n.Spacer,{}),(0,t.jsx)("div",{style:{borderBottom:"1px solid var(--accents-2)",display:"flex",width:"100%"}}),(0,t.jsx)(n.Spacer,{}),(0,t.jsx)(o.Text,{color:"gray-900",children:"Allow this setting to be overridden on the project level."}),(0,t.jsx)(n.Spacer,{y:.5}),(0,t.jsxs)("label",{style:{cursor:"pointer"},children:[(0,t.jsx)(d.Toggle,{checked:v,onChange:()=>T(!v),size:"large"}),(0,t.jsx)(n.Spacer,{inline:!0,x:.5}),(0,t.jsx)(o.Text,{as:"span",children:v?"Enabled":"Disabled"})]})]})})})});e.s(["default",0,b])},8111190,4965818,3995351,2953410,e=>{"use strict";var t=e.i(6468255),i=e.i(5714623),a=e.i(1488180),s=e.i(6696646),r=e.i(2504781),n=e.i(7137884),l=e.i(5063443),o=e.i(8517043),d=e.i(1232681),c=e.i(3895030),u=e.i(455575),h=e.i(9070994),m=e.i(4244280),g=e.i(1574218),p=e.i(8464864),f=e.i(4787360),b=e.i(6214931),x=e.i(1877305),v=e.i(5807088),T=e.i(4004502),j=e.i(3925949),A=e.i(145675),S=e.i(4035574);let y=s.default.memo(function(e){let{promise:i,mutate:a}=(0,A.useApi)(j.getTeam),{promise:r,mutate:n}=(0,A.useApi)(S.getUser),l=(0,s.use)(i),{user:o}=(0,s.use)(r),d=(e.forceUserContext?void 0:l)||o,c=!e.forceUserContext&&"slug"in l;return!d||e.loading?(0,t.jsx)(v.default,{height:80}):(0,t.jsx)(E,{...e,account:d,disabled:e.disabled||d.limited,isTeam:c,revalidate:c?a:n})});class E extends s.PureComponent{constructor(e){super(e),this.state={error:null,value:e.isCreating?"":e.account?.name||""}}inputRef=null;onInputRef=e=>{this.inputRef=e};onSubmit=e=>{e.preventDefault(),this.setState({loading:!0,error:null}),this.props.isTeam?this.updateTeamName():this.updateUserName()};updateTeamName=()=>{(0,h.default)(`${m.API_TEAMS}/${this.props.account.id}`,{method:"PATCH",body:{name:(0,a.default)(this.state.value).replace("&#39;","'")}}).then(this.props.revalidate).then(()=>{u.toasts&&u.toasts.success("Your team's name has been updated."),this.setState({loading:!1})}).catch(e=>{this.setState({loading:!1,error:e})})};updateUserName=()=>{(0,h.default)(m.API_USER,{method:"PATCH",body:{name:(0,a.default)(this.state.value).replace("&#39;","'")}}).then(this.props.revalidate).then(()=>{u.toasts&&u.toasts.success("Your name has been updated."),this.setState({loading:!1})}).catch(e=>{this.setState({loading:!1,error:e})})};componentDidMount=()=>{this.props.autofocus&&!this.props.disabled&&this.focus()};focus=()=>{this.inputRef.focus(),this.inputRef.value.length&&this.inputRef.select()};componentDidUpdate=e=>{this.props.autofocus&&!this.props.disabled&&(!e.autofocus||e.disabled)&&this.focus()};render(){let{isTeam:e,isCreating:a,disabled:s}=this.props,{error:u}=this.state;return(0,t.jsxs)("div",{className:"jsx-6a67bb5d5c919d12",children:[(0,t.jsx)("form",{onSubmit:this.onSubmit,className:"jsx-6a67bb5d5c919d12",children:(0,t.jsxs)(o.Fieldset,{disabled:s,children:[(0,t.jsxs)(n.FieldsetContent,{children:[(0,t.jsx)(x.FieldsetTitle,{id:e||a?b.TEAM_SETTINGS_NAVIGATION_TITLES.general.name:f.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.name,children:e||a?b.TEAM_SETTINGS_NAVIGATION_TITLES.general.name:f.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.name}),(0,t.jsx)(c.FieldsetSubtitle,{children:e||a?`This is your team's visible name within ${g.PRODUCT}. For example, the name of your company or department.`:"Please enter your full name, or a display name you are comfortable with."}),(0,t.jsx)("div",{className:"jsx-6a67bb5d5c919d12 input",children:(0,t.jsx)(p.default,{disabled:this.state.loading,innerRef:this.onInputRef,maxLength:32,onChange:e=>this.setState({value:e}),value:this.state.value})})]}),(0,t.jsxs)(d.FieldsetFooter,{disabled:!1,highlight:s,children:[(0,t.jsx)(d.FieldsetFooter.Status,{children:u?(0,t.jsx)(l.ErrorText,{children:u.message}):s?"You need additional permissions to manage your team's name.":"Please use 32 characters at maximum."}),!s&&(0,t.jsx)(d.FieldsetFooter.Actions,{children:(0,t.jsx)(r.Button,{"data-testid":(0,T.tid)("account","name","save"),disabled:""===this.state.value.trim(),loading:this.state.loading,size:"small",children:"Save"})})]})]})}),(0,t.jsx)(i.default,{id:"6a67bb5d5c919d12",children:".input.jsx-6a67bb5d5c919d12{width:300px;max-width:100%}.input.jsx-6a67bb5d5c919d12>.wrapper{width:100%}"})]})}}e.s(["default",0,y],8111190);var I=e.i(9100551),N=e.i(8977282),w=e.i(277234),_=e.i(9668517),C=e.i(1434061),R=e.i(7917902),P=e.i(9108953);let F=(0,s.memo)(function(e){let{account:i,mutate:a,...s}=(0,R.useAccount)();if(e.teamSettings){if(!i||e.loading)return(0,t.jsx)(v.default,{height:102})}else if(!i)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.default,{className:"geist-hide-on-mobile",height:80}),(0,t.jsx)(v.default,{className:"geist-show-on-mobile",height:164})]});return(0,t.jsx)(O,{...s,...e,disabled:e.disabled||i.limited,mutate:a,team:s.team??void 0,user:s.user??void 0})});function O(e){let{user:i,team:a,loading:h,disabled:p,isTeam:v,mutate:T,forceUserContext:j=!1}=e,A=(0,I.useRouter)(),S=(0,_.useTeamSlug)(),y=j?void 0:a,E=!j&&v,[R,F]=(0,s.useState)(y?.slug??i?.username),[O,L]=(0,s.useState)(null),[k,D]=(0,s.useState)(h||!1);return O&&"code"in O&&"too_many_requests"===O.code&&(O.message="You can only update this field three times per week. Please try again later."),(0,t.jsx)("div",{children:(0,t.jsx)("form",{onSubmit:e=>{var t,i;e.preventDefault(),D(!0),L(null);let s=R?.toLowerCase();s&&(y?(t=s,a&&(0,w.fetchAPI)(`${m.API_TEAMS}/${a.id}`,{method:"PATCH",body:JSON.stringify({slug:t}),throwOnHTTPError:!0}).then(async e=>{await (0,C.jwtKVStoreInitialize)(),await T(),e.slug!==S&&(window.location=`/${encodeURIComponent(e.slug)}/~/settings`),u.toasts.success("Your team's URL has been updated."),D(!1),(0,N.setScope)(t)}).catch(e=>{D(!1),L(e)})):(i=s,(0,w.fetchAPI)(m.API_USER,{method:"PATCH",body:JSON.stringify({username:i}),throwOnHTTPError:!0,wrapErrorsLegacy:!0}).then(()=>(0,C.jwtKVStoreInitialize)()).then(()=>{u.toasts.success("Your username has been updated."),D(!1)}).then(T).then(()=>A.refresh()).catch(e=>{D(!1),L(e)})))},children:(0,t.jsxs)(o.Fieldset,{disabled:!!p,children:[(0,t.jsxs)(n.FieldsetContent,{children:[(0,t.jsx)(x.FieldsetTitle,{id:E?b.TEAM_SETTINGS_NAVIGATION_TITLES.general.slug:f.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.username,children:E?b.TEAM_SETTINGS_NAVIGATION_TITLES.general.slug:f.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.username}),(0,t.jsx)(c.FieldsetSubtitle,{children:E?`This is your team's URL namespace on ${g.PRODUCT}. Within it, your team can inspect their projects, check out any recent activity, or configure settings to their liking.`:`This is your URL namespace within ${g.PRODUCT}.`}),(0,t.jsx)(P.default,{className:void 0,disabled:k,label:`${g.PRODUCT_DOMAIN}/`,labelPosition:void 0,labelWidth:void 0,maxLength:48,maxWidth:"100%",onChange:e=>F(e),value:R,width:300})]}),(0,t.jsxs)(d.FieldsetFooter,{disabled:!1,highlight:!!p,children:[(0,t.jsx)(d.FieldsetFooter.Status,{children:O?(0,t.jsx)("div",{className:"md:pr-2",children:(0,t.jsx)(l.ErrorText,{children:O.message})}):(0,t.jsx)("span",{style:{textRendering:"optimizeSpeed"},children:p?"You need additional permissions to manage your team's slug.":"Please use 48 characters at maximum."})}),!p&&(0,t.jsx)(d.FieldsetFooter.Actions,{children:(0,t.jsx)(r.Button,{disabled:R?.trim()==="",loading:k,size:"small",children:"Save"})})]})]})})})}e.s(["SlugFieldset",0,F],4965818);var L=e.i(8054123),k=e.i(1989456),D=e.i(5255926),M=e.i(4585051),U=e.i(9396687),G=e.i(6891161),V=e.i(4450569),$=e.i(8168077),B=e.i(2989356);let z=(0,u.withToasts)(e=>{let{uploaded:i,onSkip:a,onUpdate:r}=e,n=(0,s.useMemo)(()=>{let e=i.width/i.height,t=(0,L.makeAspectCrop)({x:e>3?45:25,width:e>3?14:50,aspect:1},e);return t.y=e>3?0:50-t.height/2,t},[i]),l=(0,u.useToasts)(),o=(0,s.useRef)(!1),d=(0,s.useRef)(null),c=(0,s.useRef)(!1),[h,g]=(0,s.useState)(!1),[p,f]=(0,s.useState)(n),{team:b,loading:x}=(0,R.useAccount)();(0,s.useEffect)(()=>(o.current=!0,()=>o.current=!1),[]);let v=(0,s.useCallback)(e=>{l.error(e)},[l]),T=(0,s.useCallback)(async e=>{try{let t=await e();if(!o.current)return!1;return t}catch(e){if(!o.current)return!1;return g(!1),e.toString().toLowerCase().includes("failed to fetch")?v("A network error has occurred."):v(e.toString()),!1}},[v]),j=(0,s.useCallback)(async e=>{if(!o.current)return;let t=await (0,$.generateSHA1)(e);if(!o.current)return;let i=await T(()=>fetch(`${m.API_AVATARS}/${t}?head=1`));if(!1===i||!i.ok&&await T(()=>(0,w.default)(m.API_FILES_V2,{method:"POST",headers:{"Content-Type":"application/octet-stream","Content-Length":e.size,"x-now-digest":t,"x-now-size":e.size},body:e}))===!1)return;let a=b?`${m.API_TEAMS}/${b.id}`:m.API_USER,s=await T(()=>(0,w.default)(a,{method:"PATCH",body:JSON.stringify({avatar:t})}));!1!==s&&(r&&(r(s),l.success("Avatar has been updated.")),g(!1))},[b,r,l,T]),A=(0,s.useCallback)(()=>{var e;let t,i,a,s,r;e=d.current,t=Math.round(e.naturalWidth*(p.x/100)),i=Math.round(e.naturalHeight*(p.y/100)),a=Math.round(e.naturalWidth*(p.width/100)),s=Math.round(e.naturalHeight*(p.height/100)),(r=document.createElement("canvas")).width=a,r.height=s,r.getContext("2d").drawImage(e,t,i,a,s,0,0,a,s),r.toBlob(j)},[p,j]),S=(0,s.useCallback)(e=>{d.current=e,c.current&&(A(),c.current=!1)},[A]),y=(0,s.useCallback)(()=>{g(!0),d.current?A():c.current=!0},[A]);return(0,t.jsx)(U.Keyboard,{handlers:{ENTER:y},useKeys:!0,children:(0,t.jsxs)(G.Modal,{active:!0,onClickOutside:a,children:[(0,t.jsxs)(G.Modal.Body,{children:[(0,t.jsx)(L.default,{crop:p,disabled:h,keepSelection:!0,onChange:f,onImageLoaded:S,src:i.dataURL}),(0,t.jsx)(B.default,{})]}),(0,t.jsxs)(G.Modal.Actions,{children:[(0,t.jsx)(G.Modal.Action,{onClick:a,type:"ghost",children:"Cancel"}),(0,t.jsx)(G.Modal.Action,{disabled:x||h,loading:h,onClick:y,children:"Set Avatar"})]})]})})}),H=s.default.memo(z),W=s.default.memo(e=>{let{size:a=80,isCreating:r,disabled:n,loading:l,forceUserContext:o}=e,d=(0,s.useRef)(!1),c=(0,s.useRef)(),[u,h]=(0,s.useState)(null),[m,g]=(0,s.useState)(!1),{promise:p,mutate:f}=(0,A.useApi)(S.getUser),{promise:b,mutate:x}=(0,A.useApi)(j.getTeam),{user:v}=(0,s.use)(p),T=(0,s.use)(b),y=!o&&"slug"in T,E=y?T:v;(0,s.useEffect)(()=>(d.current=!0,()=>d.current=!1),[]);let I=(0,s.useCallback)(e=>{let[t]=e.target.files,i=new FileReader;i.addEventListener("load",()=>{if(!d.current)return;let e=i.result,t=new Image;t.src=e,t.onload=()=>{if(!d.current)return;let{height:i,width:a}=t;h({dataURL:e,width:a,height:i}),g(!0)}}),window.DataTransferItem&&t instanceof DataTransferItem&&(t=t.getAsFile()),i.readAsDataURL(t)},[]),N=(0,s.useCallback)(()=>{c.current&&(c.current.value=""),h(null),g(!1)},[]),w=(0,s.useMemo)(()=>r?(0,t.jsx)(V.default,{center:!0,style:{width:a,height:a,borderRadius:"50%",border:"1px solid var(--accents-2)",background:"var(--geist-background)"},children:(0,t.jsx)(k.Camera,{})}):!E||l?(0,t.jsx)(D.Skeleton,{height:a,rounded:!0,width:a}):(0,t.jsx)(M.Avatar,{hash:E.avatar,size:a,teamId:T?.id,title:E.name||E.slug||E.username||E.email,uid:v?.uid??v?.id}),[r,l,v,T,E,a,o]),_=(0,s.useCallback)(e=>{e.preventDefault(),!n&&c.current&&c.current.click()},[n]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{disabled:n,onClick:_,tabIndex:"0",className:i.default.dynamic([["aec26694b24c090c",[n?"not-allowed":"pointer",n?`
              pointer-events: none;
              filter: saturate(0);
              opacity: 0.3;
            `:""]]])+" geist-reset",children:[w,(0,t.jsx)(i.default,{id:"aec26694b24c090c",dynamic:[n?"not-allowed":"pointer",n?`
              pointer-events: none;
              filter: saturate(0);
              opacity: 0.3;
            `:""],children:`button.__jsx-style-dynamic-selector{cursor:${n?"not-allowed":"pointer"};${n?`
              pointer-events: none;
              filter: saturate(0);
              opacity: 0.3;
            `:""};border-radius:50%;font-size:0;transition:all .2s;display:inline-block;overflow:visible}button.__jsx-style-dynamic-selector:hover{filter:brightness(.9)}button.__jsx-style-dynamic-selector:focus{box-shadow:0 0 0 2px var(--accents-4);outline:none}`})]}),(0,t.jsx)("input",{accept:"image/png,image/jpeg","aria-label":"Upload Avatar",className:"geist-visually-hidden",onChange:I,ref:c,type:"file"}),m&&u?(0,t.jsx)(H,{onSkip:N,onUpdate:e=>{y?x(e):f(e),N()},uploaded:u}):null]})}),Y=s.default.memo(function(e){let{isCreating:a,loading:s,disabled:r,forceUserContext:l,...u}=e,{account:h,isTeam:m,isLoading:g}=(0,R.useAccount)(),p=!l&&(m||a);return g||s?(0,t.jsx)(v.default,{height:55}):(0,t.jsxs)(o.Fieldset,{disabled:r||!!h?.limited,children:[(0,t.jsxs)(n.FieldsetContent,{children:[(0,t.jsxs)("div",{className:"jsx-bb8dccab58423263 avatar",children:[(0,t.jsx)(W,{disabled:r,isCreating:a,loading:u.loading,forceUserContext:l}),(0,t.jsx)(i.default,{id:"bb8dccab58423263",children:".avatar.jsx-bb8dccab58423263{float:right;display:flex}"})]}),(0,t.jsx)(x.FieldsetTitle,{id:p?b.TEAM_SETTINGS_NAVIGATION_TITLES.general.avatar:f.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.avatar,children:p?b.TEAM_SETTINGS_NAVIGATION_TITLES.general.avatar:f.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.avatar}),(0,t.jsxs)(c.FieldsetSubtitle,{children:[p?"This is your team's avatar. ":"This is your avatar. ",(0,t.jsx)("br",{}),"Click on the avatar to upload a custom one from your files."]})]}),(0,t.jsx)(d.FieldsetFooter,{disabled:!1,highlight:r,children:(0,t.jsx)(d.FieldsetFooter.Status,{children:r?"You need additional permissions to manage your team's avatar.":"An avatar is optional but strongly recommended."})})]})});e.s(["default",0,Y],3995351);var K=e.i(8362472);let q=(0,s.memo)(function(e){let{id:i,forceUserContext:a=!1}=e,{account:s,isTeam:r}=(0,R.useAccount)(),l=!a&&r;return s?(0,t.jsxs)(o.Fieldset,{disabled:s.limited,children:[(0,t.jsxs)(n.FieldsetContent,{children:[(0,t.jsx)(x.FieldsetTitle,{id:l?b.TEAM_SETTINGS_NAVIGATION_TITLES.general.id:f.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.id,children:l?b.TEAM_SETTINGS_NAVIGATION_TITLES.general.id:f.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.id}),(0,t.jsx)(c.FieldsetSubtitle,{children:l?`This is your team's ID within ${g.PRODUCT}.`:`This is your user ID within ${g.PRODUCT}.`}),(0,t.jsx)(K.Snippet,{prompt:!1,text:i})]}),(0,t.jsx)(d.FieldsetFooter,{children:(0,t.jsxs)(d.FieldsetFooter.Status,{children:["Used when interacting with the ",g.PRODUCT," API."]})})]}):(0,t.jsx)(v.default,{height:81})});e.s(["IdFieldset",0,q],2953410)},1033625,e=>{"use strict";var t=e.i(8248823);e.s(["transform",0,e=>{if(void 0===e)return{reasons:[]};let i=e.fields,a=[];return i.forEach(e=>{switch(e.type){case"select":a.push(...function(e){let t=[];for(let i of e)if(i.selected){if("other"===i.id&&i.reveals?.value){t.push({slug:i.id,description:i.reveals.value});continue}if("other"===i.id)continue;t.push({slug:i.id,description:i.label})}return t}(e.options));break;case"text":if(!e.value)break;a.push({slug:e.id,description:e.value});break;default:(0,t.exhaustivenessCheck)(e)}}),{reasons:a}}])},8933976,e=>{"use strict";function t(e){let{user:t,teams:i}=e;return t?.version==="northstar"&&1===i.length&&i[0].billing?.plan==="hobby"}function i(e){let{team:t,teams:i}=e,a=i.filter(e=>e.billing?.plan==="hobby");return 1===a.length&&a[0].id===t.id}e.s(["isTeamLastHobbyTeam",()=>i,"onlyTeamIsHobbyTeam",()=>t])},2768434,e=>{"use strict";var t=e.i(4439612),i=(0,t.createServerReference)("40cb85f58b2b68c84649c2801532bc23b7d7dacd39",t.callServer,void 0,t.findSourceMapURL,"createAutoTopupConfig");e.s(["createAutoTopupConfig",()=>i])},9443874,e=>{"use strict";var t=e.i(4439612),i=(0,t.createServerReference)("40c5071c2801acf2a40d7203ad5b57671b33fd6b1c",t.callServer,void 0,t.findSourceMapURL,"updateAutoTopupConfig");e.s(["updateAutoTopupConfig",()=>i])},5846905,e=>{"use strict";var t=e.i(4439612),i=(0,t.createServerReference)("402ca1bd8a2261cbd05be035b4fd9db276461ab35f",t.callServer,void 0,t.findSourceMapURL,"deleteAutoTopupConfig");e.s(["deleteAutoTopupConfig",()=>i])},87116,e=>{"use strict";var t=e.i(3911483),i=e.i(5338940);function a(){let{team:e}=(0,i.useTeam)(),{data:a,isLoading:s,mutate:r}=(0,t.default)(e?.id?`/api/agent/agent-credits-balance?teamId=${e.id}`:null,e=>fetch(e).then(e=>e.json()));return{balance:a?Number(a.cumulativeBalance):void 0,loading:s,mutate:r}}e.s(["useVercelAgentCreditsBalance",()=>a])},1249298,e=>{"use strict";var t=e.i(6636464),i=e.i(277234),a=e.i(4244280),s=e.i(5338940),r=e.i(4614946),n=e.i(6696646),l=e.i(2768434),o=e.i(9443874),d=e.i(5846905),c=e.i(7837522),u=e.i(7780974);function h(e,i,a,r){let{team:l,mutate:o}=(0,s.useTeam)(),d=l?.id,{track:h}=(0,c.useTrackActivity)(),m=(0,n.useRef)(void 0),g=(0,t.default)(d?`${e}?teamId=${encodeURIComponent(d)}`:null,i,{onSuccess:()=>{o().catch(()=>{}),m.current&&(h(u.VercelActivityAction.VercelAgentEnabled,{source:m.current.source,isFirstTimeUser:m.current.isFirstTimeUser,feature:a}),m.current=void 0)}}),p=(0,n.useCallback)((e,t)=>(!l?.[a]?.enabled&&e.enabled&&(m.current={source:r,isFirstTimeUser:!l?.[a]?.firstEnabledAt}),g.trigger(e,t)),[g,l,a,r]);return{...g,trigger:p,teamId:d}}function m(e){let{source:t}=e;return h(a.API_VADE_REVIEW_CONFIGURE,async(e,t)=>{let{arg:a}=t,s=await (0,i.fetchAPI)(e,{method:"POST",body:a});if(s.error)throw Error(s.error.message??"An unexpected error occurred. Please try again later.");return s},"vadeReview",t)}function g(e){let{source:t}=e;return h(a.API_VADE_ALERT_INVESTIGATIONS_CONFIGURE,async(e,t)=>{let{arg:a}=t,s=await (0,i.fetchAPI)(e,{method:"POST",body:a});if(s.error)throw Error(s.error.message??"An unexpected error occurred. Please try again later.");return s},"alertInvestigation",t)}function p(){let{team:e}=(0,s.useTeam)(),{mutate:t}=(0,r.useSWRConfig)(),i=(0,n.useCallback)(async i=>{if(!e)throw Error("No team found");let a=await (0,l.createAutoTopupConfig)({teamIdOrSlug:e.id,...i});return t(`/api/credit-topups?teamId=${e.id}&currency=vercel_agent_credits`),a},[e,t]);return{createAutoRecharge:i,updateAutoRecharge:(0,n.useCallback)(async i=>{if(!e)throw Error("No team found");let a=await (0,o.updateAutoTopupConfig)({teamIdOrSlug:e.id,...i});return t(`/api/credit-topups?teamId=${e.id}&currency=vercel_agent_credits`),a},[e,t]),deleteAutoRecharge:(0,n.useCallback)(async()=>{if(!e)throw Error("No team found");let i=await (0,d.deleteAutoTopupConfig)({teamIdOrSlug:e.id});return t(`/api/credit-topups?teamId=${e.id}&currency=vercel_agent_credits`),i},[e,t]),teamId:e?.id}}e.s(["useAutoRechargeActions",()=>p,"useUpdateAIReviews",()=>m,"useUpdateAlertInvestigations",()=>g])},2596253,e=>{"use strict";var t=e.i(2471070);function i(){let{topups:e,loading:i,mutate:a}=(0,t.useVercelAgentCreditTopups)(),s=e?.find(e=>"orb_ledger"!==e.provider.type||"miu"!==e.provider.currency);return{autoRechargeConfig:s?{minimumBalance:s.minimumBalance,targetBalance:s.targetBalance,maximumMonthlySpend:s.maximumMonthlySpend??""}:void 0,loading:i,mutate:a}}e.s(["useVercelAgentCreditsAutoRecharge",()=>i])},6130025,e=>{"use strict";var t=e.i(4439612),i=(0,t.createServerReference)("40cb183f22b02a80b0e50ed28e4213b8344c49c3a4",t.callServer,void 0,t.findSourceMapURL,"revalidateVercelAgentPage");e.s(["revalidateVercelAgentPage",()=>i])},424862,e=>{"use strict";function t(e){let t=e.lastIndexOf(" ");return -1===t?e:`${e.substring(0,t)}\u00A0${e.substring(t+1)}`}e.s(["noOrphan",()=>t])},481506,e=>{e.v({settingsGeneral:"settings-general-module__R__tLq__settingsGeneral"})},7644654,e=>{"use strict";var t=e.i(6468255),i=e.i(512540),a=e.i(9100551),s=e.i(6696646),r=e.i(8977282),n=e.i(7917902),l=e.i(1717203),o=e.i(7557283),d=e.i(5216091),c=e.i(8447830),u=e.i(8111190),h=e.i(4965818),m=e.i(3995351),g=e.i(2953410),p=e.i(8248823),f=e.i(3306538),b=e.i(5323212),x=e.i(5255926),v=e.i(1906681),T=e.i(455575),j=e.i(2504781),A=e.i(8522580),S=e.i(6143247),y=e.i(3534033),E=e.i(5338940),I=e.i(9480212),N=e.i(2126130),w=e.i(185801),_=e.i(7608222),C=e.i(1249298),R=e.i(57106);e.i(6483798);var P=e.i(8287059),F=e.i(6130025),O=e.i(6728635),L=e.i(2630141),k=e.i(8482433),D=e.i(6347389),M=e.i(87116),U=e.i(2596253);function G(e){let t=e.toFixed(2);return t.endsWith(".00")?`$${t.slice(0,-3)}`:`$${t}`}function V(e){var i;let a,r,n,{isFeatureEnabled:d=!0}=e,{team:c,mutate:u}=(0,E.useTeam)(),{can:h,isLoading:m}=(0,l.default)(),g=(0,T.useToasts)(),V=(0,C.useUpdateAIReviews)({source:"settings"}),$=(0,C.useUpdateAlertInvestigations)({source:"settings"}),{hasObservabilityPlusAccess:B}=(0,N.useHasObservabilityPlus)(),z=(0,L.useOpenEnableModal)(),{isFirstTimeUser:H}=(i=c??void 0,a=!i?.vadeReview||!i?.vadeReview?.firstEnabledAt,r=!i?.alertInvestigation||!i?.alertInvestigation?.firstEnabledAt,n=i?.billing?.plan==="pro"&&i?.billing?.status==="trialing",{codeReviewEnabled:i?.vadeReview?.enabled??!1,alertInvestigationEnabled:i?.alertInvestigation?.enabled??!1,isFirstTimeUser:a&&r,isHobbyPlan:i?.billing?.plan==="hobby",isProTrial:n}),W=c?.vadeReview?.enabled??!1,Y=c?.alertInvestigation?.enabled??!1,K=c?.vadeReview?.reviewDraftPRs??!1,q=c?.vadeReview?.repositoryVisibility??"all",[J,X,Q]=(0,I.default)(W),[Z,ee,et]=(0,I.default)(Y),[ei,ea,es]=(0,I.default)(K),[er,en,el]=(0,I.default)(q),[eo,ed]=(0,s.useState)(null),ec=c?.billing?.plan==="hobby",eu=c?.billing?.plan==="pro"&&"trialing"===c.billing.status,eh=(0,P.useOpenUpgradeModal)(),{balance:em}=(0,M.useVercelAgentCreditsBalance)(),{autoRechargeConfig:eg}=(0,U.useVercelAgentCreditsAutoRecharge)(),ep=c?.slug?`/${c.slug}/~/settings/billing#vercel-agent-credits`:"/billing#vercel-agent-credits",ef=!c||m,eb=h(o.Action.Update,o.Resource.Team),ex=!d||!eb,ev=J!==W||ei!==K||er!==q,eT=Z!==Y;async function ej(){if(!c)return;ed(null);let e=[];if(ev){let t=!J&&W?new Date().toISOString():J&&!W?null:void 0,i={enabled:J};i.reviewDraftPRs=ei,i.repositoryVisibility=er,void 0!==t&&(i.snoozedAt=t),e.push({type:"reviews",promise:V.trigger(i)})}eT&&e.push({type:"investigations",promise:$.trigger({enabled:Z})});let t=await Promise.allSettled(e.map(e=>{let{promise:t}=e;return t})),i=!0;for(let[a,s]of t.entries())"fulfilled"===s.status?"reviews"===e[a].type?(Q(),es(),el()):"investigations"===e[a].type&&et():(i=!1,ed((0,p.errorToString)(s.reason)));i&&g.success(`${_.VERCEL_AGENT_NAME} settings updated successfully.`),await u().catch(()=>{}),c?.slug&&await (0,F.revalidateVercelAgentPage)(c.slug)}return(0,t.jsxs)(w.ProjectSettingsFieldset,{title:_.VERCEL_AGENT_NAME,description:"",disabled:ef||ex||ec||eu,error:eo,disabledAction:(ec||eu)&&(0,t.jsx)(j.Button,{onClick:()=>eh({source:"vercel-agent-settings",disabledSteps:["team-members"],teamHint:c?.id??void 0}),size:"small",children:"Upgrade"}),onSave:ej,saveLoading:V.isMutating||$.isMutating,saveDisabled:ec||eu||ef||ex||!ev&&!eT,highlightNote:ex,note:d?eb?ec?(0,t.jsxs)("p",{className:"text-gray-900",children:["This feature is available on the"," ",(0,t.jsx)(R.Link,{external:!0,href:"/pricing",tab:!0,type:"highlight",children:"Pro plan"}),"."]}):eu?(0,t.jsxs)("p",{className:"text-gray-900",children:["Upgrade to Pro to enable ",_.VERCEL_AGENT_NAME," and claim your $100 credit."]}):(0,t.jsxs)("p",{className:"text-gray-1000",children:["Your use is subject to Vercel's"," ",(0,t.jsx)(y.ExternalLink,{href:"https://vercel.com/docs/release-phases/public-beta-agreement",children:"Public Beta Agreement"})," ","and"," ",(0,t.jsx)(y.ExternalLink,{href:"https://vercel.com/legal/ai-product-terms",children:"AI Product Terms"}),"."]}):(0,t.jsxs)("p",{className:"text-gray-1000",children:["You need additional permissions to manage your team's"," ",_.VERCEL_AGENT_NAME," settings."]}):(0,t.jsxs)("p",{className:"text-gray-1000",children:[_.VERCEL_AGENT_NAME," is unavailable for your team."]}),children:[ef?(0,t.jsx)(x.Skeleton,{height:30,width:140}):(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h5",{className:"text-heading-16",children:"Code Reviews"}),(0,t.jsx)(f.Badge,{size:"sm",variant:"pink",children:"Beta"})]}),(0,t.jsx)("p",{className:"-mt-2",children:"Code reviews that catch bugs before they reach production."}),(0,t.jsxs)("div",{children:[(0,t.jsx)(v.Toggle,{checked:J,onChange:()=>X(e=>!e),size:"large",disabled:ex}),(0,t.jsx)("span",{className:"ml-4",children:J?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("div",{style:{flex:"1 0 0"},children:(0,t.jsxs)(b.Select,{label:"Review Draft PRs",value:J&&!0===ei?"review":"skip",disabled:ex||!J,onChange:e=>{ea("review"===e.target.value)},children:[(0,t.jsx)("option",{value:"review",children:"Review draft PRs"}),(0,t.jsx)("option",{value:"skip",children:"Skip draft PRs"})]})}),(0,t.jsx)("div",{style:{flex:"1 0 0"},children:(0,t.jsxs)(b.Select,{label:"Repositories",value:J&&er||"all",disabled:ex||!J,onChange:e=>{en(e.target.value)},children:[(0,t.jsx)("option",{value:"all",children:"All repositories"}),(0,t.jsx)("option",{value:"public",children:"Public repositories only"}),(0,t.jsx)("option",{value:"private",children:"Private repositories only"})]})})]}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{className:"mt-2 mb-4"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h5",{className:"text-heading-16",children:"Investigations"}),(0,t.jsx)(f.Badge,{size:"sm",variant:"pink",children:"Beta"}),!B&&(0,t.jsx)(f.Badge,{as:"button",className:"cursor-pointer",size:"sm",onClick:()=>{z({from:"vercel-agent-settings",via:"investigations-badge",upgradeUseCase:"anomaly-alerts"})},variant:"blue-subtle",children:"Requires Observability Plus"})]}),(0,t.jsx)("p",{className:"-mt-2",children:"Understand and fix anomalies quicker with automatic investigations. Anomaly alerts are included with Observability Plus."}),(0,t.jsxs)("div",{children:[(0,t.jsx)(v.Toggle,{checked:Z,onChange:()=>ee(e=>!e),size:"large",disabled:ex||!B}),(0,t.jsx)("span",{className:(0,S.cn)("ml-4",!B&&"text-gray-800"),children:Z?"Enabled":"Disabled"})]})]})]}),H&&(0,t.jsx)("div",{className:"mt-5",children:(0,t.jsxs)(A.Note,{type:"success",fill:!0,className:"text-pretty",icon:(0,t.jsx)(D.Coins,{}),children:[(0,k.default)(c?.billing?.plan??"")," teams get $100 in"," ",_.VERCEL_AGENT_NAME," trial credit for 2 weeks."]})}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(A.Note,{action:(0,t.jsx)(R.ButtonLink,{href:ep,size:"small",children:"Manage"}),children:function(e,t){let i;if(void 0===e)return"Loading…";let a=G(e);if(t){let i,s=Number(t.minimumBalance),r=Number(t.targetBalance);return 0===e&&(i="You are out of Credit"),`${i??`${a} Credit Available`}. Auto-reloads to ${G(r)} when below ${G(s)}.`}return 0===e&&(i="You are out of Credit"),`${i??`${a} Credit Available`}. Enable auto-reload to keep ${_.VERCEL_AGENT_NAME} running${i?" or buy more Credit":""}.`}(em,eg)})}),(0,t.jsx)(O.EnableModal,{})]})}var $=e.i(7137884),B=e.i(5063443),z=e.i(8517043),H=e.i(1232681),W=e.i(6891161),Y=e.i(3895030),K=e.i(119294),q=e.i(6352514),J=e.i(277234),X=e.i(4244280),Q=e.i(3911483),Z=e.i(1434061),ee=e.i(1574218),et=e.i(7722264),ei=e.i(3052383);e.i(1585898);var ea=e.i(2066827);function es(e){let{onAbort:i,onDelete:a,active:s,setActive:r,dataTestIdContext:n,showLeaveVercelQuestion:l=!0}=e,o={surveyName:"Delete Team User Feedback",surveySlug:"delete-team-user-feedback",surveySteps:[{title:"Why are you deleting your team?",fields:[{type:"select",id:"reasons-why",label:"Why are you deleting your team?",selectMultiple:!0,options:[{id:"missing-features",label:"Missing features"},{id:"another-account",label:"I have another account"},{id:"no-longer-working-with-team",label:"I'm no longer working with this team"},{id:"too-expensive",label:"Too expensive"},{id:"migrating-team-to-another-product",label:"Migrating team to another product"},{id:"just-looking-around",label:"I was just looking around"},{id:"other",label:"Other (please explain below)",reveals:{id:"other-specific"}}]}]}]};return l&&o.surveySteps.push({title:"What was the primary reason you decided to stop using Vercel?",fields:[{type:"select",id:"reasons-why-stopped",label:"What was the primary reason you decided to stop using Vercel?",selectMultiple:!0,options:[{id:"high-cost",label:"High cost"},{id:"lack-of-necessary-features",label:"Lack of necessary features"},{id:"performance-issues",label:"Performance issues"},{id:"integration-challenges",label:"Integration challenges"},{id:"poor-customer-support",label:"Poor customer support"},{id:"better-alternative",label:"Found a better alternative"},{id:"project-requirements-changed",label:"Project requirements changed"},{id:"other",label:"Other (please explain below)",reveals:{id:"other-specific"}}]}]}),(0,t.jsx)(ea.SurveyModal,{active:s,dataTestIdContext:n,onDismiss:i,onSubmit:a,setActive:r,showThankYouToast:!1,surveyInfo:o})}var er=e.i(6214931),en=e.i(1033625),el=e.i(424862),eo=e.i(8933976),ed=e.i(1877305),ec=e.i(5807088);function eu(e){let{disabled:i,onTeamDelete:a,...n}=e,{team:d,isReady:c,teams:u}=(0,E.useTeam)(),{can:h,isLoading:m}=(0,l.default)(),g=h(o.Action.Delete,o.Resource.Team),p=(0,s.useMemo)(()=>!!c&&!!d&&(0,eo.isTeamLastHobbyTeam)({team:d,teams:u??[]}),[d,u,c]),f=u?.length===1,[b,x]=(0,s.useState)(!1),[v,S]=(0,s.useState)(!1),[y,I]=(0,s.useState)(!1),[N,w]=(0,s.useState)(""),_=(0,T.useToasts)(),{isLoading:C,deleteRefundAmount:P}=(()=>{let{isReady:e,team:t}=(0,E.useTeam)(),i=(0,Q.default)(()=>e&&t?`${X.API_BILLING}/delete-refund-amount?teamId=${t.id}`:null,e=>(0,J.fetchAPI)(e,{throwOnHTTPError:!0}));return{...i,deleteRefundAmount:i.data??void 0}})(),F=(0,s.useCallback)(async e=>{if(d){let t=(0,en.transform)(e);await (0,J.fetchAPI)(`${X.API_TEAMS}/${d.id}`,{method:"DELETE",body:JSON.stringify(t),throwOnHTTPError:!0}).then(Z.jwtKVStoreInitializeFetch).then(()=>{K.analytics.track(q.AnalyticsEvent.DELETED_TEAM),(0,r.removeScope)(),a()}).then(()=>{_.success("Your team has been deleted.")},e=>{let t="Unknown error occurred while deleting your team";(0,et.isError)(e)&&(t=e.message),w(t)}).finally(()=>{I(!1),x(!1)})}else I(!1)},[d,a,_]),O=(0,s.useMemo)(()=>P?P.result?P.amount>0?`$${Number(P.amount/100).toFixed(2)} will be refunded.`:null:(0,t.jsxs)(t.Fragment,{children:["Please visit our"," ",(0,t.jsx)(R.Link,{href:"/help",target:"_blank",children:"/help"})," ","page to process your refund."]}):null,[P]),L=async e=>{x(!0),await F(e)};return!c||n.loading||!d||m||C?(0,t.jsx)(ec.default,{height:56}):(0,t.jsxs)("div",{id:"delete-team",children:[(0,t.jsxs)(z.Fieldset,{disabled:i||p,type:g&&!p?"error":"default",children:[(0,t.jsxs)($.FieldsetContent,{disabled:!g||p,children:[(0,t.jsx)(ed.FieldsetTitle,{id:er.TEAM_SETTINGS_NAVIGATION_TITLES.general.deleteTeam,children:er.TEAM_SETTINGS_NAVIGATION_TITLES.general.deleteTeam}),(0,t.jsx)(Y.FieldsetSubtitle,{children:(0,el.noOrphan)("Permanently remove your team and all of its contents from the Vercel platform. This action is not reversible — please continue with caution.")}),p?(0,t.jsx)(A.Note,{fill:!0,type:"secondary",children:"You cannot delete your last Hobby team."}):null]}),(0,t.jsxs)(H.FieldsetFooter,{disabled:!1,highlight:!g,children:[N?(0,t.jsx)(H.FieldsetFooter.Status,{children:(0,t.jsx)(B.ErrorText,{children:N})}):g?(0,t.jsx)(H.FieldsetFooter.Status,{children:(0,t.jsxs)("span",{children:["To delete your account, visit"," ",(0,t.jsx)(R.Link,{href:"/account",variant:"highlight",children:"Account Settings"}),"."]})}):"You need additional permissions to delete your team.",g?(0,t.jsx)(H.FieldsetFooter.Actions,{children:(0,t.jsx)(j.Button,{disabled:p,loading:b,onClick:()=>{g&&S(!0)},size:"small",type:"error",typeName:"button",children:"Delete Team"})}):null]})]}),(0,t.jsx)(ei.default,{active:v,loading:b,onCancel:()=>S(!1),onConfirm:()=>{S(!1),I(!0)},refundNote:O,resourceName:d.slug,resourceType:"team",subtitle:(0,t.jsxs)(W.Modal.P,{children:[ee.PRODUCT," recommends that you transfer domains the team wishes to keep and remove ",ee.PRODUCT," Nameservers from all other domains."]})}),(0,t.jsx)(es,{active:y,dataTestIdContext:["settings-fieldset","delete-team"],onAbort:()=>{L()},onDelete:L,setActive:I,showLeaveVercelQuestion:f})]})}var eh=e.i(8587921),em=e.i(7951312);let eg=s.memo(function(e){let{account:i,team:a,user:r}=(0,n.useAccount)(),{data:d}=(0,eh.default)({role:"OWNER"}),{can:c,isLoading:u}=(0,l.default)(),h=a?.membership?.role,m=c(o.Action.Delete,o.Resource.Team),g=c(o.Action.Delete,o.Resource.TeamOwnMembership),p=s.useMemo(()=>a&&h&&!u?!!g&&("OWNER"!==h||(d?d.members.filter(e=>"OWNER"===e.role&&e.confirmed).length>1||!m:void 0)):void 0,[h,d,a,m,g,u]);return!e.loading&&r&&a&&i&&void 0!==p?(0,t.jsx)(ep,{ableToLeave:p,canDeleteTeamOwnMembership:g,onTeamLeave:e.onTeamLeave,team:a,user:r}):(0,t.jsx)(ec.default,{height:36})});function ep(e){let{user:i,team:a,onTeamLeave:r,ableToLeave:n,canDeleteTeamOwnMembership:l}=e,[o,d]=s.useState(!1),[c,u]=s.useState(!1),[h,m]=s.useState(null);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("form",{onSubmit:e=>{n&&(e.preventDefault(),d(!0))},children:(0,t.jsxs)(z.Fieldset,{type:n?"error":"default",children:[(0,t.jsxs)($.FieldsetContent,{disabled:!n,children:[(0,t.jsx)(ed.FieldsetTitle,{id:er.TEAM_SETTINGS_NAVIGATION_TITLES.general.leaveTeam,children:er.TEAM_SETTINGS_NAVIGATION_TITLES.general.leaveTeam}),(0,t.jsx)(Y.FieldsetSubtitle,{children:"Revoke your access to this Team. Any resources you've added to the Team will remain."})]}),(0,t.jsx)(H.FieldsetFooter,{highlight:!n,children:l?n?(0,t.jsx)(H.FieldsetFooter.Actions,{children:(0,t.jsx)(j.Button,{size:"small",type:"error",typeName:"submit",children:"Leave Team"})}):"To leave this Team, ensure at least one more Member has the Owner role.":"You need additional permissions to leave the team."})]})}),(0,t.jsx)(em.LeaveTeamModal,{active:o,error:h,isLeaving:c,onAnimationDone:()=>{m(null)},onCancel:()=>{d(!1)},onLeave:async()=>{u(!0);try{await (0,J.fetchAPI)(`${X.API_TEAMS_MEMBERS}/${a.id}/members/${i.uid}`,{throwOnHTTPError:!0,method:"DELETE"}),await (0,Z.jwtKVStoreInitializeFetch)(),u(!1),d(!1),r()}catch(e){m(e),u(!1)}},team:a.name})]})}var ef=e.i(6607601),eb=e.i(9070994),ex=e.i(9108953),ev=e.i(3555274),eT=e.i(7062571),ej=e.i(6333530),eA=e.i(562525);function eS(e){let{loading:i}=e,a=(0,n.useAccount)(),{can:s,isLoading:r}=(0,l.default)(),d=s(o.Action.Update,o.Resource.PreviewDeploymentSuffix),c=s(o.Action.Read,o.Resource.PreviewDeploymentSuffix);return i||r||!a||a.isLoading||!a.user?(0,t.jsx)(ec.default,{height:102}):(0,t.jsx)(ey,{canReadPreviewDeploymentSuffix:c,canUpdatePreviewDeploymentSuffix:d})}function ey(e){let{canUpdatePreviewDeploymentSuffix:i,canReadPreviewDeploymentSuffix:a}=e,r=(0,n.useAccount)(),{user:l,team:o}=r,d=o||l,c=(0,T.useToasts)(),[u,h]=(0,s.useState)(null),[m,g]=(0,s.useState)(!1),[p,f]=(0,s.useState)(d?.previewDeploymentSuffix||""),b=(0,s.useCallback)(async e=>{e.preventDefault();try{h(null),g(!0);let e=(0,eT.isDefaultSuffix)(p)?null:p,t=await (0,eb.default)(`${X.API_TEAMS}/${o.id}`,{method:"PATCH",body:JSON.stringify({previewDeploymentSuffix:e||null})});if(t.error)throw Error(t.error.message||"An unexpected error occurred. Please try again later.");f(e||""),r.mutate(),c.success("Your Preview Deployment Suffix has been updated."),K.analytics.track(q.AnalyticsEvent.GENERAL_SETTINGS_PREVIEW_DEPLOYMENT_SUFFIX_UPDATED,{suffix:e})}catch(e){h(e.message)}finally{g(!1)}},[o,p,r,c]),{addOn:x,isPreviewDeploymentSuffixEnabled:v,enablePreviewDeploymentSuffix:A,PreviewDeploymentSuffixModal:S}=(0,ej.useTogglePreviewDeploymentSuffix)("general-settings-preview-deployment-suffix"),{enabled:y,message:E,action:I}=(0,ev.default)({addOn:x,isEnabled:v,enable:A,modal:S}),N=!i||r.limited;return(0,t.jsx)("div",{children:(0,t.jsx)("form",{onSubmit:b,children:(0,t.jsxs)(z.Fieldset,{disabled:N,children:[(0,t.jsxs)($.FieldsetContent,{disabled:N||!y,children:[(0,t.jsx)(ed.FieldsetTitle,{id:er.TEAM_SETTINGS_NAVIGATION_TITLES.general.previewDeploymentSuffix,children:er.TEAM_SETTINGS_NAVIGATION_TITLES.general.previewDeploymentSuffix}),(0,t.jsxs)(Y.FieldsetSubtitle,{children:["By default, the URL of every new Preview Deployment ends with"," ",(0,t.jsx)(ef.InlineCode,{children:".vercel.app"}),". This setting allows you to choose your own custom domain in place of this suffix."]}),a?(0,t.jsx)("div",{className:"input",children:(0,t.jsx)(ex.default,{disabled:m,label:"my-deployment.",maxLength:63,onChange:e=>f(e),placeholder:"vercel.app",value:p})}):(0,t.jsx)(eA.default,{})]}),(0,t.jsxs)(H.FieldsetFooter,{disabled:!1,highlight:!y||N,children:[(0,t.jsx)(H.FieldsetFooter.Status,{children:u&&u?(0,t.jsx)(B.ErrorText,{children:u}):N?"You need additional permissions to manage your team's preview deployment suffix.":E||"Please use 63 characters at maximum."}),!N&&(0,t.jsx)(H.FieldsetFooter.Actions,{children:I??(0,t.jsx)(j.Button,{loading:m,size:"small",children:"Save"})})]})]})})})}var eE=e.i(9792418),eI=e.i(2107254),eN=e.i(8434017);let ew=(0,s.memo)(function(){let{onboardingEnabled:e,isLoading:i,project:r,teamIsEnabled:n}=function(){let[e,t]=(0,s.useState)(),[i,a]=(0,s.useState)(!0),r=(0,s.useRef)(!1);(0,s.useEffect)(()=>{e?.feedbackTimestamp&&!r.current&&(K.analytics.track(q.AnalyticsEvent.PRO_TRIAL_ONBOARDING,{eventName:"feedback",timestamp:e.feedbackTimestamp}),r.current=!0)},[e]);let{team:n}=(0,E.useTeam)(),l=(0,s.useCallback)(()=>{let e=n?.id;e?(a(!0),(0,J.fetchAPI)(`${X.API_PRO_TRIAL_ONBOARDING}?teamId=${e}`,{throwOnHTTPError:!0,method:"GET"}).then(e=>{t(e)}).catch(e=>{t(void 0),console.error("Failed to fetch pro-trial-onboarding",e)}).finally(()=>{a(!1)})):console.debug("Team ID is undefined.")},[n?.id]);(0,s.useEffect)(()=>{l()},[l]);let{data:o}=(0,eI.default)({limit:1}),d=(0,s.useMemo)(()=>o?.projects.find(e=>e.latestDeployments?.some(e=>"production"!==e.target))??o?.projects[0],[o?.projects]),c=(0,s.useMemo)(()=>!!n&&n.membership?.role===ee.OWNER&&!!d&&(e?.showOnboarding??!1),[d,n,e]);return{hasData:void 0!==e,isLoading:i,onboardingEnabled:c,project:d,reload:l,steps:e?.events,team:n,teamIsEnabled:e?.teamIsEnabled}}(),{team:l}=(0,E.useTeam)(),o=(0,a.useRouter)(),d=l&&l.billing?.status==="trialing",c=(0,s.useCallback)(async()=>{if(l)try{await (0,eN.triggerOnboardingEventAsync)("start",l.id),K.analytics.track(q.AnalyticsEvent.PRO_TRIAL_ONBOARDING_RESET),K.analytics.track(q.AnalyticsEvent.PRO_TRIAL_ONBOARDING,{eventName:"start",timestamp:new Date().toUTCString()}),o.push(`/${l.slug}#onboarding`)}catch{T.toasts.message({text:"Failed to start onboarding experience. Please try again."})}},[o,l]),u=n&&!e;return e&&d&&r?(0,t.jsx)("section",{children:(0,t.jsxs)(z.Fieldset,{children:[(0,t.jsx)($.FieldsetContent,{children:(0,t.jsx)(eE.FieldsetTitle,{children:"Onboarding Experience"})}),(0,t.jsxs)(H.FieldsetFooter,{children:[(0,t.jsxs)(H.FieldsetFooter.Status,{children:[u?"Resume":"Start"," the onboarding experience on the dashboard."]}),(0,t.jsx)(H.FieldsetFooter.Actions,{children:(0,t.jsx)(j.Button,{disabled:e,loading:i,onClick:()=>{c().catch(console.error)},size:"small",typeName:"button",width:88,children:u?"Resume":"Start"})})]})]})}):null});var e_=e.i(6637390),eC=e.i(481506),eR=e.i(3748432);function eP(e){let{showAIReviews:p=!1}=e,f=(0,a.useRouter)(),{team:b}=(0,n.useAccount)(),{can:x,isLoading:v}=(0,l.default)(),T=(0,s.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.default.remove("team"),(0,r.removeScope)(),f.push(`/dashboard?${e?"teamDeleted":"teamLeft"}=1`);try{window.scroll({behavior:"smooth",top:0,behavior:"smooth"})}catch(e){console.error("smoothscroll failed",e)}},[f]),j=(0,s.useCallback)(()=>{T(!0)},[T]),A=x(o.Action.Update,o.Resource.Team);return v?(0,t.jsx)(d.TeamSettingsGeneralSkeleton,{}):(0,t.jsx)(eR.ConditionalNavigationMarker,{enabled:!v,phase:"content",children:(0,t.jsxs)("main",{className:eC.default.settingsGeneral,children:[(0,t.jsx)("section",{children:(0,t.jsx)(u.default,{disabled:!A,loading:v})}),(0,t.jsx)("section",{children:(0,t.jsx)(h.SlugFieldset,{disabled:!A,isTeam:!0,loading:v,teamSettings:!0})}),(0,t.jsx)("section",{children:(0,t.jsx)(m.default,{disabled:!A,loading:v})}),(0,t.jsx)("section",{children:(0,t.jsx)(eS,{loading:v})}),(0,t.jsx)("section",{children:(0,t.jsx)(g.IdFieldset,{id:b?.id})}),(0,t.jsx)("section",{children:(0,t.jsx)(V,{isFeatureEnabled:p})}),(0,t.jsx)("section",{children:(0,t.jsx)(c.default,{disabled:!A,isTeam:!0})}),(0,t.jsx)(ew,{}),(0,t.jsx)("section",{children:(0,t.jsx)(e_.TransferFieldset,{source:"team-settings"})}),(0,t.jsx)("section",{children:(0,t.jsx)(eg,{loading:v,onTeamLeave:T})}),(0,t.jsx)("section",{children:(0,t.jsx)(eu,{loading:v,onTeamDelete:j})})]})})}e.s(["TeamGeneral",()=>eP],7644654)},6734570,e=>{e.v({menuPage:"sidebar-wrapper-module__PX_HlW__menuPage"})},2477101,e=>{"use strict";var t=e.i(6468255),i=e.i(9100551),a=e.i(6734570);function s(e){let{children:s}=e,r=(0,i.usePathname)(),n=r?.endsWith("/settings");return(0,t.jsx)("div",{className:n?a.default.menuPage:void 0,children:s})}e.s(["SidebarWrapper",()=>s])}]);

//# sourceMappingURL=50e20087fd306881.js.map
//# debugId=6444133f-8c57-5359-9c40-cf7430c8992c
